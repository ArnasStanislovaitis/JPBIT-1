(self.webpackChunkprojektas=self.webpackChunkprojektas||[]).push([[179],{8255:Xe=>{function Ae(V){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+V+"'");throw h.code="MODULE_NOT_FOUND",h})}Ae.keys=()=>[],Ae.resolve=Ae,Ae.id=8255,Xe.exports=Ae},3018:(Xe,Ae,V)=>{"use strict";V.d(Ae,{deG:()=>yl,tb:()=>J0,AFp:()=>N_,ip1:()=>Gg,CZH:()=>qc,hGG:()=>zD,z2F:()=>Ed,sBO:()=>vI,Sil:()=>vd,_Vd:()=>rd,EJc:()=>ew,SBq:()=>Yi,qLn:()=>_e,vpe:()=>Ma,gxx:()=>Cc,tBr:()=>lc,XFs:()=>Re,OlP:()=>pn,zs3:()=>Ln,ZZ4:()=>Xh,aQg:()=>bu,soG:()=>zg,YKP:()=>m0,v3s:()=>yw,h0i:()=>Oc,PXZ:()=>OD,R0b:()=>ns,FiY:()=>Ai,Lbi:()=>wD,g9A:()=>M_,Qsj:()=>Ni,FYo:()=>sd,JOm:()=>Ro,Tiy:()=>l0,q3G:()=>En,tp0:()=>_a,EAV:()=>yx,Rgc:()=>Lo,dDg:()=>AD,DyG:()=>cc,q4F:()=>d0,GfV:()=>pI,s_b:()=>Vn,ifc:()=>dn,eFA:()=>F_,G48:()=>xD,Gpc:()=>de,X6Q:()=>Yg,_c5:()=>bx,VLi:()=>cw,c2e:()=>X0,zSh:()=>$l,wAp:()=>dt,vHH:()=>he,EiD:()=>cp,mCW:()=>uu,qzn:()=>fc,JVY:()=>dv,pB0:()=>Sm,eBb:()=>nh,L6k:()=>$s,LAX:()=>Am,cg1:()=>Uy,Tjo:()=>wx,kL8:()=>GC,yhl:()=>th,dqk:()=>B,sIi:()=>$n,CqO:()=>zp,QGY:()=>AE,F4k:()=>_C,RDi:()=>Fi,AaK:()=>Y,z3N:()=>Si,qOj:()=>eC,TTD:()=>il,_Bn:()=>nd,xp6:()=>pb,uIk:()=>gu,ekj:()=>VE,Suo:()=>nD,Xpm:()=>Wo,lG2:()=>Lf,Yz7:()=>rn,cJS:()=>vi,oAB:()=>Va,Yjl:()=>Fu,Y36:()=>Rh,_UZ:()=>wr,qZA:()=>qp,TgZ:()=>Gp,EpF:()=>TE,n5z:()=>nc,Ikx:()=>Bh,LFG:()=>vn,$8M:()=>rc,NdJ:()=>Wp,CRH:()=>m_,kcU:()=>Yu,O4$:()=>Bi,oxw:()=>Ay,Q6J:()=>Iy,iGM:()=>j0,MAs:()=>aC,CHM:()=>ol,LSH:()=>Ml,kYT:()=>As,YNc:()=>_u,_uU:()=>rg,Oqu:()=>kh});var h=V(9765),ee=V(5319),F=V(7574),ce=V(6682),te=V(2441);var le=V(1307);function W(){return new h.xQ}function L(r){for(let i in r)if(r[i]===L)return i;throw Error("Could not find renamed property on target object.")}function J(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function Y(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Y).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function re(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const Ce=L({__forward_ref__:L});function de(r){return r.__forward_ref__=de,r.toString=function(){return Y(this())},r}function q(r){return me(r)?r():r}function me(r){return"function"==typeof r&&r.hasOwnProperty(Ce)&&r.__forward_ref__===de}class he extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Le(r){return"string"==typeof r?r:null==r?"":String(r)}function vt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Le(r)}function oe(r,i){const o=i?` in ${i}`:"";throw new he("201",`No provider for ${vt(r)} found${o}`)}function cn(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function rn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function vi(r){return{providers:r.providers||[],imports:r.imports||[]}}function Tr(r){return ei(r,Cn)||ei(r,io)}function ei(r,i){return r.hasOwnProperty(i)?r[i]:null}function ti(r){return r&&(r.hasOwnProperty(hr)||r.hasOwnProperty(st))?r[hr]:null}const Cn=L({\u0275prov:L}),hr=L({\u0275inj:L}),io=L({ngInjectableDef:L}),st=L({ngInjectorDef:L});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let $t;function ln(r){const i=$t;return $t=r,i}function Ut(r,i,o){const u=Tr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Re.Optional?null:void 0!==i?i:void oe(Y(r),"Injector")}function Ye(r){return{toString:r}.toString()}var mn=(()=>((mn=mn||{})[mn.OnPush=0]="OnPush",mn[mn.Default=1]="Default",mn))(),dn=(()=>((dn=dn||{})[dn.Emulated=0]="Emulated",dn[dn.None=2]="None",dn[dn.ShadowDom=3]="ShadowDom",dn))();const Ar="undefined"!=typeof globalThis&&globalThis,so="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B=Ar||"undefined"!=typeof global&&global||so||$,qe={},He=[],jt=L({\u0275cmp:L}),en=L({\u0275dir:L}),Jt=L({\u0275pipe:L}),Ur=L({\u0275mod:L}),At=L({\u0275loc:L}),tn=L({\u0275fac:L}),nr=L({__NG_ELEMENT_ID__:L});let Pu=0;function Wo(r){return Ye(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===mn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||He,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||dn.Emulated,id:"c",styles:r.styles||He,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,d=r.features,m=r.pipes;return u.id+=Pu++,u.inputs=wi(r.inputs,o),u.outputs=wi(r.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(La):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(ku):null,u})}function La(r){return rr(r)||function(r){return r[en]||null}(r)}function ku(r){return function(r){return r[Jt]||null}(r)}const Ts={};function Va(r){return Ye(()=>{const i={type:r.type,bootstrap:r.bootstrap||He,declarations:r.declarations||He,imports:r.imports||He,exports:r.exports||He,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Ts[r.id]=r.type),i})}function As(r,i){return Ye(()=>{const o=Wn(r,!0);o.declarations=i.declarations||He,o.imports=i.imports||He,o.exports=i.exports||He})}function wi(r,i){if(null==r)return qe;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,i&&(i[c]=d)}return o}const Lf=Wo;function Fu(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function rr(r){return r[jt]||null}function Wn(r,i){const o=r[Ur]||null;if(!o&&!0===i)throw new Error(`Type ${Y(r)} does not have '\u0275mod' property.`);return o}function Br(r){return Array.isArray(r)&&"object"==typeof r[1]}function Gt(r){return Array.isArray(r)&&!0===r[1]}function Ba(r){return 0!=(8&r.flags)}function Vu(r){return 2==(2&r.flags)}function $r(r){return 1==(1&r.flags)}function Ci(r){return null!==r.template}function tl(r){return 0!=(512&r[2])}function Sr(r,i){return r.hasOwnProperty(tn)?r[tn]:null}class Ii{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function il(){return ho}function ho(r){return r.type.prototype.ngOnChanges&&(r.setInput=Pd),Di}function Di(){const r=fo(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===qe)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function Pd(r,i,o,u){const c=fo(r)||function(r,i){return r[Vf]=i}(r,{previous:qe,current:null}),d=c.current||(c.current={}),m=c.previous,y=this.declaredInputs[o],w=m[y];d[y]=new Ii(w&&w.currentValue,i,m===qe),r[u]=i}il.ngInherit=!0;const Vf="__ngSimpleChanges__";function fo(r){return r[Vf]||null}const po="http://www.w3.org/2000/svg";let Ns;function Fi(r){Ns=r}function sn(r){return!!r.listen}const ta={createRenderer:(r,i)=>void 0!==Ns?Ns:"undefined"!=typeof document?document:void 0};function It(r){for(;Array.isArray(r);)r=r[0];return r}function Ga(r,i){return It(i[r])}function pr(r,i){return It(i[r.index])}function Li(r,i){return r.data[i]}function Yn(r,i){const o=i[r];return Br(o)?o:o[0]}function yo(r){return 4==(4&r[2])}function na(r){return 128==(128&r[2])}function Ms(r,i){return null==i?null:r[i]}function ra(r){r[18]=0}function qu(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const ct={lFrame:Ku(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function sl(){return ct.bindingsEnabled}function xe(){return ct.lFrame.lView}function St(){return ct.lFrame.tView}function ol(r){return ct.lFrame.contextLView=r,r[8]}function yn(){let r=Vd();for(;null!==r&&64===r.type;)r=r.parent;return r}function Vd(){return ct.lFrame.currentTNode}function ri(r,i){const o=ct.lFrame;o.currentTNode=r,o.isParent=i}function za(){return ct.lFrame.isParent}function oa(){return ct.isInCheckNoChangesMode}function Vi(r){ct.isInCheckNoChangesMode=r}function Ui(){return ct.lFrame.bindingIndex++}function al(r,i){const o=ct.lFrame;o.bindingIndex=o.bindingRootIndex=r,aa(i)}function aa(r){ct.lFrame.currentDirectiveIndex=r}function vo(){return ct.lFrame.currentQueryIndex}function ul(r){ct.lFrame.currentQueryIndex=r}function jf(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Bd(r,i,o){if(o&Re.SkipSelf){let c=i,d=r;for(;!(c=c.parent,null!==c||o&Re.Host||(c=jf(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;i=c,r=d}const u=ct.lFrame=$d();return u.currentTNode=i,u.lView=r,!0}function Eo(r){const i=$d(),o=r[1];ct.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function $d(){const r=ct.lFrame,i=null===r?null:r.child;return null===i?Ku(r):i}function Ku(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Hd(){const r=ct.lFrame;return ct.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const rv=Hd;function Bf(){const r=Hd();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Hr(){return ct.lFrame.selectedIndex}function ji(r){ct.lFrame.selectedIndex=r}function on(){const r=ct.lFrame;return Li(r.tView,r.selectedIndex)}function Bi(){ct.lFrame.currentNamespace=po}function Yu(){ct.lFrame.currentNamespace=null}function ua(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:I,ngOnDestroy:T}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),w&&(r.viewHooks||(r.viewHooks=[])).push(-o,w),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=T&&(r.destroyHooks||(r.destroyHooks=[])).push(o,T)}}function ca(r,i,o){dl(r,i,3,o)}function ll(r,i,o,u){(3&r[2])===o&&dl(r,i,o,u)}function wo(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function dl(r,i,o,u){const d=null!=u?u:-1,m=i.length-1;let y=0;for(let w=void 0!==u?65535&r[18]:0;w<m;w++)if("number"==typeof i[w+1]){if(y=i[w],null!=u&&y>=u)break}else i[w]<0&&(r[18]+=65536),(y<d||-1==d)&&(hl(r,o,i,w),r[18]=(4294901760&r[18])+w+2),w++}function hl(r,i,o,u){const c=o[u]<0,d=o[u+1],y=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class Ka{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function an(r,i,o){const u=sn(r);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const m=o[c++],y=o[c++],w=o[c++];u?r.setAttribute(i,y,w,m):i.setAttributeNS(m,y,w)}else{const m=d,y=o[++c];Ju(m)?u&&r.setProperty(i,m,y):u?r.setAttribute(i,m,y):i.setAttribute(m,y),c++}}return c}function Qa(r){return 3===r||4===r||6===r}function Ju(r){return 64===r.charCodeAt(0)}function Ja(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Xu(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Xu(r,i,o,u,c){let d=0,m=r.length;if(-1===i)m=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(r[d+1]=c));if(u===r[d+1])return void(r[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==m&&(r.splice(m,0,i),d=m+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==c&&r.splice(d++,0,c)}function ec(r){return-1!==r}function Xa(r){return 32767&r}function eu(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let tu=!0;function la(r){const i=tu;return tu=r,i}let _n=0;function Gr(r,i){const o=mr(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,or(u.data,r),or(i,null),or(u.blueprint,null));const c=ha(r,i),d=r.injectorIndex;if(ec(c)){const m=Xa(c),y=eu(c,i),w=y[1].data;for(let I=0;I<8;I++)i[d+I]=y[m+I]|w[m+I]}return i[d+8]=c,d}function or(r,i){r.push(0,0,0,0,0,0,0,0,i)}function mr(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function ha(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const d=c[1],m=d.type;if(u=2===m?d.declTNode:1===m?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Fs(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(nr)&&(u=o[nr]),null==u&&(u=o[nr]=_n++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function Gf(r,i,o){if(o&Re.Optional)return r;oe(i,"NodeInjector")}function bo(r,i,o,u){if(o&Re.Optional&&void 0===u&&(u=null),0==(o&(Re.Self|Re.Host))){const c=r[9],d=ln(void 0);try{return c?c.get(i,u,o&Re.Optional):Ut(i,u,o&Re.Optional)}finally{ln(d)}}return Gf(u,i,o)}function $i(r,i,o,u=Re.Default,c){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(nr)?r[nr]:void 0;return"number"==typeof i?i>=0?255&i:fl:i}(o);if("function"==typeof d){if(!Bd(i,r,u))return u&Re.Host?Gf(c,o,u):bo(i,o,u,c);try{const m=d(u);if(null!=m||u&Re.Optional)return m;oe(o)}finally{rv()}}else if("number"==typeof d){let m=null,y=mr(r,i),w=-1,I=u&Re.Host?i[16][6]:null;for((-1===y||u&Re.SkipSelf)&&(w=-1===y?ha(r,i):i[y+8],-1!==w&&gl(u,!1)?(m=i[1],y=Xa(w),i=eu(w,i)):y=-1);-1!==y;){const T=i[1];if(fs(d,y,T.data)){const R=pl(y,i,o,m,u,I);if(R!==Wd)return R}w=i[y+8],-1!==w&&gl(u,i[1].data[y+8]===I)&&fs(d,y,i)?(m=T,y=Xa(w),i=eu(w,i)):y=-1}}}return bo(i,o,u,c)}const Wd={};function fl(){return new ps(yn(),xe())}function pl(r,i,o,u,c,d){const m=i[1],y=m.data[r+8],T=fa(y,m,o,null==u?Vu(y)&&tu:u!=m&&0!=(3&y.type),c&Re.Host&&d===y);return null!==T?Co(i,m,T,y):Wd}function fa(r,i,o,u,c){const d=r.providerIndexes,m=i.data,y=1048575&d,w=r.directiveStart,T=d>>20,O=c?y+T:r.directiveEnd;for(let j=u?y:y+T;j<O;j++){const z=m[j];if(j<w&&o===z||j>=w&&z.type===o)return j}if(c){const j=m[w];if(j&&Ci(j)&&j.type===o)return w}return null}function Co(r,i,o,u){let c=r[o];const d=i.data;if(function(r){return r instanceof Ka}(c)){const m=c;m.resolving&&function(r,i){throw new he("200",`Circular dependency in DI detected for ${r}`)}(vt(d[o]));const y=la(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?ln(m.injectImpl):null;Bd(r,u,Re.Default);try{c=r[o]=m.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=i.type.prototype;if(u){const m=ho(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==w&&ln(w),la(y),m.resolving=!1,rv()}}return c}function fs(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function gl(r,i){return!(r&Re.Self||r&Re.Host&&i)}class ps{constructor(i,o){this._tNode=i,this._lView=o}get(i,o){return $i(this._tNode,this._lView,i,void 0,o)}}function nc(r){return Ye(()=>{const i=r.prototype.constructor,o=i[tn]||ml(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const d=c[tn]||ml(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function ml(r){return me(r)?()=>{const i=ml(q(r));return i&&i()}:Sr(r)}function rc(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(Qa(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===i)return o[c+1];c+=2}}}return null}(yn(),r)}const Ls="__parameters__";function Vs(r,i,o){return Ye(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...d){if(this instanceof c)return u.apply(this,d),this;const m=new c(...d);return y.annotation=m,y;function y(w,I,T){const R=w.hasOwnProperty(Ls)?w[Ls]:Object.defineProperty(w,Ls,{value:[]})[Ls];for(;R.length<=T;)R.push(null);return(R[T]=R[T]||[]).push(m),w}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class pn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=rn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yl=new pn("AnalyzeForEntryComponents"),cc=Function;function Ti(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),Ti(u,i)):i!==r&&i.push(u)}return i}function ii(r,i){r.forEach(o=>Array.isArray(o)?ii(o,i):i(o))}function Hi(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Bs(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function C(r,i,o){let u=x(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function D(r,i){const o=x(r,i);if(o>=0)return r[1|o]}function x(r,i){return function(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const d=u+(c-u>>1),m=r[d<<o];if(i===m)return d<<o;m>i?c=d:u=d+1}return~(c<<o)}(r,i,1)}const Xn={},ma="__NG_DI_FLAG__",oi="ngTempTokenPath",gn=/\n/gm,bl="__source",Cl=L({provide:String,useValue:L});let Io;function ru(r){const i=Io;return Io=r,i}function ov(r,i=Re.Default){if(void 0===Io)throw new Error("inject() must be called from an injection context");return null===Io?Ut(r,void 0,i):Io.get(r,i&Re.Optional?null:void 0,i)}function vn(r,i=Re.Default){return($t||ov)(q(r),i)}function iu(r){const i=[];for(let o=0;o<r.length;o++){const u=q(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Re.Default;for(let m=0;m<u.length;m++){const y=u[m],w=Jf(y);"number"==typeof w?-1===w?c=y.token:d|=w:c=y}i.push(vn(c,d))}else i.push(vn(u))}return i}function vs(r,i){return r[ma]=i,r.prototype[ma]=i,r}function Jf(r){return r[ma]}function _m(r,i,o,u){const c=r[oi];throw i[bl]&&c.unshift(i[bl]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=Y(i);if(Array.isArray(i))c=i.map(Y).join(" -> ");else if("object"==typeof i){let d=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];d.push(m+":"+("string"==typeof y?JSON.stringify(y):Y(y)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(gn,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[oi]=null,r}const lc=vs(Vs("Inject",r=>({token:r})),-1),Ai=vs(Vs("Optional"),8),_a=vs(Vs("SkipSelf"),4);let dc;function Ea(r){var i;return(null===(i=function(){if(void 0===dc&&(dc=null,B.trustedTypes))try{dc=B.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return dc}())||void 0===i?void 0:i.createHTML(r))||r}class ou{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dm extends ou{getTypeName(){return"HTML"}}class Nt extends ou{getTypeName(){return"Style"}}class au extends ou{getTypeName(){return"Script"}}class hc extends ou{getTypeName(){return"URL"}}class Tm extends ou{getTypeName(){return"ResourceURL"}}function Si(r){return r instanceof ou?r.changingThisBreaksApplicationSecurity:r}function fc(r,i){const o=th(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function th(r){return r instanceof ou&&r.getTypeName()||null}function dv(r){return new Dm(r)}function $s(r){return new Nt(r)}function nh(r){return new au(r)}function Am(r){return new hc(r)}function Sm(r){return new Tm(r)}class vr{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Ea(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Hs{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ea(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ea(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const fv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ap=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function uu(r){return(r=String(r)).match(fv)||r.match(ap)?r:"unsafe:"+r}function Gs(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function wa(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Tl=Gs("area,br,col,hr,img,wbr"),Al=Gs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ba=Gs("rp,rt"),To=wa(Tl,wa(Al,Gs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wa(ba,Gs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wa(ba,Al)),ih=Gs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sl=Gs("srcset"),xl=wa(ih,Sl,Gs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ca=Gs("script,style,template");class xm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!To.hasOwnProperty(o))return this.sanitizedSomething=!0,!Ca.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),m=d.name,y=m.toLowerCase();if(!xl.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=d.value;ih[y]&&(w=uu(w)),Sl[y]&&(r=w,w=(r=String(r)).split(",").map(i=>uu(i.trim())).join(", ")),this.buf.push(" ",m,'="',sh(w),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();To.hasOwnProperty(o)&&!Tl.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(sh(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Rl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mv=/([^\#-~ |!])/g;function sh(r){return r.replace(/&/g,"&amp;").replace(Rl,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(mv,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cu;function cp(r,i){let o=null;try{cu=cu||function(r){const i=new Hs(r);return function(){try{return!!(new window.DOMParser).parseFromString(Ea(""),"text/html")}catch(r){return!1}}()?new vr(i):i}(r);let u=i?String(i):"";o=cu.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=cu.getInertBodyElement(u)}while(u!==d);return Ea((new xm).sanitizeChildren(Nl(o)||o))}finally{if(o){const u=Nl(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Nl(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var En=(()=>((En=En||{})[En.NONE=0]="NONE",En[En.HTML=1]="HTML",En[En.STYLE=2]="STYLE",En[En.SCRIPT=3]="SCRIPT",En[En.URL=4]="URL",En[En.RESOURCE_URL=5]="RESOURCE_URL",En))();function Ml(r){const i=function(){const r=xe();return r&&r[12]}();return i?i.sanitize(En.URL,r)||"":fc(r,"URL")?Si(r):uu(Le(r))}const lu="__ngContext__";function Er(r,i){r[lu]=i}function er(r){const i=function(r){return r[lu]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function A(r){return r.ngOriginalError}function Z(r,...i){r.error(...i)}class _e{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||Z;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(A(i)):null}_findOriginalError(i){let o=i&&A(i);for(;o&&A(o);)o=A(o);return o||null}}const Ll=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Gi(r){return r instanceof Function?r():r}var Ro=(()=>((Ro=Ro||{})[Ro.Important=1]="Important",Ro[Ro.DashCase=2]="DashCase",Ro))();function Ev(r,i){return undefined(r,i)}function ci(r){const i=r[3];return Gt(i)?i[3]:i}function fh(r){return Yw(r[13])}function ph(r){return Yw(r[4])}function Yw(r){for(;null!==r&&!Gt(r);)r=r[4];return r}function gh(r,i,o,u,c){if(null!=u){let d,m=!1;Gt(u)?d=u:Br(u)&&(m=!0,u=u[0]);const y=It(u);0===r&&null!==o?null==c?_p(i,o,y):Vl(i,o,y,c||null,!0):1===r&&null!==o?Vl(i,o,y,c||null,!0):2===r?function(r,i,o){const u=Hm(r,i);u&&function(r,i,o,u){sn(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,y,m):3===r&&i.destroyNode(y),null!=d&&function(r,i,o,u,c){const d=o[7];d!==It(o)&&gh(i,r,u,d,c);for(let y=10;y<o.length;y++){const w=o[y];Ep(w[1],w,r,i,u,d)}}(i,r,d,o,c)}}function Bm(r,i,o){return sn(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function eb(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,qu(c,-1)),o.splice(u,1)}function Iv(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&eb(c,u),i>0&&(r[o-1][4]=u[4]);const d=Bs(r,10+i);!function(r,i){Ep(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function tb(r,i){if(!(256&i[2])){const o=i[11];sn(o)&&o.destroyNode&&Ep(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return mp(r[1],r);for(;i;){let o=null;if(Br(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Br(i)&&mp(i[1],i),i=i[3];null===i&&(i=r),Br(i)&&mp(i[1],i),o=i&&i[4]}i=o}}(i)}}function mp(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof Ka)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const y=c[d[m]],w=d[m+1];try{w.call(y)}finally{}}else try{d.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],y="function"==typeof m?m(i):It(i[m]),w=u[c=o[d+2]],I=o[d+3];"boolean"==typeof I?y.removeEventListener(o[d],w,I):I>=0?u[c=I]():u[c=-I].unsubscribe(),d+=2}else{const m=u[c=o[d+1]];o[d].call(m)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&sn(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Gt(i[3])){o!==i[3]&&eb(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function yp(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===dn.None||c===dn.Emulated)return null}return pr(u,o)}(r,i.parent,o)}function Vl(r,i,o,u,c){sn(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function _p(r,i,o){sn(r)?r.appendChild(i,o):i.appendChild(o)}function ib(r,i,o,u,c){null!==u?Vl(r,i,o,u,c):_p(r,i,o)}function Hm(r,i){return sn(r)?r.parentNode(i):i.parentNode}let ob=function(r,i,o){return 40&r.type?pr(r,o):null};function Gm(r,i,o,u){const c=yp(r,u,i),d=i[11],y=function(r,i,o){return ob(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let w=0;w<o.length;w++)ib(d,c,o[w],y,!1);else ib(d,c,o,y,!1)}function qm(r,i){if(null!==i){const o=i.type;if(3&o)return pr(i,r);if(4&o)return Tv(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return qm(r,u);{const c=r[i.index];return Gt(c)?Tv(-1,c):It(c)}}if(32&o)return Ev(i,r)()||It(r[i.index]);{const u=ub(r,i);return null!==u?Array.isArray(u)?u[0]:qm(ci(r[16]),u):qm(r,i.next)}}return null}function ub(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Tv(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return qm(u,c)}return i[7]}function zm(r,i,o,u,c,d,m){for(;null!=o;){const y=u[o.index],w=o.type;if(m&&0===i&&(y&&Er(It(y),u),o.flags|=4),64!=(64&o.flags))if(8&w)zm(r,i,o.child,u,c,d,!1),gh(i,r,c,y,d);else if(32&w){const I=Ev(o,u);let T;for(;T=I();)gh(i,r,c,T,d);gh(i,r,c,y,d)}else 16&w?lb(r,i,u,o,c,d):gh(i,r,c,y,d);o=m?o.projectionNext:o.next}}function Ep(r,i,o,u,c,d){zm(o,u,r.firstChild,i,c,d,!1)}function lb(r,i,o,u,c,d){const m=o[16],w=m[6].projection[u.projection];if(Array.isArray(w))for(let I=0;I<w.length;I++)gh(i,r,c,w[I],d);else zm(r,i,w,m[3],c,d,!0)}function Av(r,i,o){sn(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function db(r,i,o){sn(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Sv(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const d=i.length;if(c+d===u||r.charCodeAt(c+d)<=32)return c}o=c+1}}const xv="ng-template";function hb(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==Sv(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function fb(r){return 4===r.type&&r.value!==xv}function FT(r,i,o){return i===(4!==r.type||o?r.value:xv)}function LT(r,i,o){let u=4;const c=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(Qa(r[i]))return i;return r.length}(c);let m=!1;for(let y=0;y<i.length;y++){const w=i[y];if("number"!=typeof w){if(!m)if(4&u){if(u=2|1&u,""!==w&&!FT(r,w,o)||""===w&&1===i.length){if(No(u))return!1;m=!0}}else{const I=8&u?w:i[++y];if(8&u&&null!==r.attrs){if(!hb(r.attrs,I,o)){if(No(u))return!1;m=!0}continue}const R=VT(8&u?"class":w,c,fb(r),o);if(-1===R){if(No(u))return!1;m=!0;continue}if(""!==I){let O;O=R>d?"":c[R+1].toLowerCase();const j=8&u?O:null;if(j&&-1!==Sv(j,I,0)||2&u&&I!==O){if(No(u))return!1;m=!0}}}}else{if(!m&&!No(u)&&!No(w))return!1;if(m&&No(w))continue;m=!1,u=w|1&u}}return No(u)||m}function No(r){return 0==(1&r)}function VT(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let d=!1;for(;c<i.length;){const m=i[c];if(m===r)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let y=i[++c];for(;"string"==typeof y;)y=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function Wm(r,i,o=!1){for(let u=0;u<i.length;u++)if(LT(r,i[u],o))return!0;return!1}function Nv(r,i){return r?":not("+i.trim()+")":i}function $T(r){let i=r[0],o=1,u=2,c="",d=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const y=r[++o];c+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!No(m)&&(i+=Nv(d,c),c=""),u=m,d=d||!No(u);o++}return""!==c&&(i+=Nv(d,c)),i}const bt={};function pb(r){gb(St(),xe(),Hr()+r,oa())}function gb(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&ca(i,d,o)}else{const d=r.preOrderHooks;null!==d&&ll(i,d,0,o)}ji(o)}function wp(r,i){return r<<17|i<<2}function Mo(r){return r>>17&32767}function Mv(r){return 2|r}function qs(r){return(131068&r)>>2}function bp(r,i){return-131069&r|i<<2}function _c(r){return 1|r}function Fv(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const m=r.data[d];ul(c),m.contentQueries(2,i[d],d)}}}function Tp(r,i,o,u,c,d,m,y,w,I){const T=i.blueprint.slice();return T[0]=c,T[2]=140|u,ra(T),T[3]=T[15]=r,T[8]=o,T[10]=m||r&&r[10],T[11]=y||r&&r[11],T[12]=w||r&&r[12]||null,T[9]=I||r&&r[9]||null,T[6]=d,T[16]=2==i.type?r[16]:T,T}function Oo(r,i,o,u,c){let d=r.data[i];if(null===d)d=function(r,i,o,u,c){const d=Vd(),m=za(),w=r.data[i]=function(r,i,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=w),null!==d&&(m?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w)),w}(r,i,o,u,c),ct.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const m=function(){const r=ct.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return ri(d,!0),d}function jl(r,i,o,u){if(0===o)return-1;const c=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function vh(r,i,o){Eo(i);try{const u=r.viewQuery;null!==u&&Mp(1,u,o);const c=r.template;null!==c&&Lv(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Fv(r,i),r.staticViewQueries&&Mp(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)Xv(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,Bf()}}function Bl(r,i,o,u){const c=i[2];if(256==(256&c))return;Eo(i);const d=oa();try{ra(i),function(r){ct.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Lv(r,i,o,2,u);const m=3==(3&c);if(!d)if(m){const I=r.preOrderCheckHooks;null!==I&&ca(i,I,null)}else{const I=r.preOrderHooks;null!==I&&ll(i,I,0,null),wo(i,0)}if(function(r){for(let i=fh(r);null!==i;i=ph(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&qu(d,1),c[2]|=1024}}}(i),function(r){for(let i=fh(r);null!==i;i=ph(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];na(u)&&Bl(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&Fv(r,i),!d)if(m){const I=r.contentCheckHooks;null!==I&&ca(i,I)}else{const I=r.contentHooks;null!==I&&ll(i,I,1),wo(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)ji(~c);else{const d=c,m=o[++u],y=o[++u];al(m,d),y(2,i[d])}}}finally{ji(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)ey(r,i[o])}(i,y);const w=r.viewQuery;if(null!==w&&Mp(2,w,u),!d)if(m){const I=r.viewCheckHooks;null!==I&&ca(i,I)}else{const I=r.viewHooks;null!==I&&ll(i,I,2),wo(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,qu(i[3],-1))}finally{Bf()}}function Db(r,i,o,u){const c=i[10],d=!oa(),m=yo(i);try{d&&!m&&c.begin&&c.begin(),m&&vh(r,i,u),Bl(r,i,o,u)}finally{d&&!m&&c.end&&c.end()}}function Lv(r,i,o,u,c){const d=Hr(),m=2&u;try{ji(-1),m&&i.length>20&&gb(r,i,20,oa()),o(u,c)}finally{ji(d)}}function Jm(r,i,o){!sl()||(function(r,i,o,u){const c=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||Gr(o,i),Er(u,i);const m=o.initialInputs;for(let y=c;y<d;y++){const w=r.data[y],I=Ci(w);I&&xR(i,o,w);const T=Co(i,r,y,o);Er(T,i),null!==m&&RR(0,y-c,T,w,0,m),I&&(Yn(o.index,i)[8]=T)}}(r,i,o,pr(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,y=ct.lFrame.currentDirectiveIndex;try{ji(m);for(let w=u;w<c;w++){const I=r.data[w],T=i[w];aa(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Eh(I,T)}}finally{ji(-1),aa(y)}}(r,i,o))}function Ta(r,i,o=pr){const u=i.localNames;if(null!==u){let c=i.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],y=-1===m?o(i,r):r[m];r[c++]=y}}}function Uv(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Ap(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Ap(r,i,o,u,c,d,m,y,w,I){const T=20+u,R=T+c,O=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:bt);return o}(T,R),j="function"==typeof I?I():I;return O[1]={type:r,blueprint:O,template:o,queries:null,viewQuery:y,declTNode:i,data:O.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:j,incompleteFirstPass:!1}}function $v(r,i,o,u){const c=iy(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&Op(r).push(u,c.length-1))}function Gv(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function qi(r,i,o,u,c,d,m,y){const w=pr(i,o);let T,I=i.inputs;!y&&null!=I&&(T=I[u])?(Pp(r,o,T,u,c),Vu(i)&&function(r,i){const o=Yn(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=m?m(c,i.value||"",u):c,sn(d)?d.setProperty(w,u,c):Ju(u)||(w.setProperty?w.setProperty(u,c):w[u]=c))}function Aa(r,i,o,u){let c=!1;if(sl()){const d=function(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];Wm(o,m.selectors,!1)&&(c||(c=[]),Fs(Gr(o,i),r,m.type),Ci(m)?(xp(r,o),c.unshift(m)):c.push(m))}return c}(r,i,o),m=null===u?null:{"":-1};if(null!==d){c=!0,xb(o,r.data.length,d.length);for(let T=0;T<d.length;T++){const R=d[T];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,I=jl(r,i,d.length,null);for(let T=0;T<d.length;T++){const R=d[T];o.mergedAttrs=Ja(o.mergedAttrs,R.hostAttrs),eA(r,o,i,I,R),Qv(I,R,m),null!==R.contentQueries&&(o.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=128);const O=R.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!w&&(O.ngOnChanges||O.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),w=!0),I++}!function(r,i){const u=i.directiveEnd,c=r.data,d=i.attrs,m=[];let y=null,w=null;for(let I=i.directiveStart;I<u;I++){const T=c[I],R=T.inputs,O=null===d||fb(i)?null:NR(R,d);m.push(O),y=Gv(R,I,y),w=Gv(T.outputs,I,w)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=y,i.outputs=w}(r,o)}m&&function(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const d=o[i[c+1]];if(null==d)throw new he("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],d)}}}(o,u,m)}return o.mergedAttrs=Ja(o.mergedAttrs,o.attrs),c}function Kv(r,i,o,u,c,d){const m=d.hostBindings;if(m){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const w=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=w&&y.push(w),y.push(u,c,m)}}function Eh(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function xp(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Qv(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;Ci(i)&&(o[""]=r)}}function xb(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function eA(r,i,o,u,c){r.data[u]=c;const d=c.factory||(c.factory=Sr(c.type)),m=new Ka(d,Ci(c),null);r.blueprint[u]=m,o[u]=m,Kv(r,i,0,u,jl(r,o,c.hostVars,bt),c)}function xR(r,i,o){const u=pr(i,r),c=Uv(o),d=r[10],m=ny(r,Tp(r,c,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=m}function pu(r,i,o,u,c,d){const m=pr(r,i);!function(r,i,o,u,c,d,m){if(null==d)sn(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const y=null==m?Le(d):m(d,u||"",c);sn(r)?r.setAttribute(i,c,y,o):o?i.setAttributeNS(o,c,y):i.setAttribute(c,y)}}(i[11],m,d,r.value,o,u,c)}function RR(r,i,o,u,c,d){const m=d[i];if(null!==m){const y=u.setInput;for(let w=0;w<m.length;){const I=m[w++],T=m[w++],R=m[w++];null!==y?u.setInput(o,R,I,T):o[T]=R}}}function NR(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Rp(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function ey(r,i){const o=Yn(i,r);if(na(o)){const u=o[1];80&o[2]?Bl(u,o,u.template,o[8]):o[5]>0&&Jv(o)}}function Jv(r){for(let u=fh(r);null!==u;u=ph(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const m=d[1];Bl(m,d,m.template,d[8])}else d[5]>0&&Jv(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Yn(o[u],r);na(c)&&c[5]>0&&Jv(c)}}function Xv(r,i){const o=Yn(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),vh(u,o,o[8])}function ny(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function eE(r){for(;r;){r[2]|=64;const i=ci(r);if(tl(r)&&!i)return r;r=i}return null}function ry(r,i,o){const u=i[10];u.begin&&u.begin();try{Bl(r,i,r.template,o)}catch(c){throw wh(i,c),c}finally{u.end&&u.end()}}function Mb(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=er(o),c=u[1];Db(c,u,c.template,o)}}(r[8])}function Mp(r,i,o){ul(0),i(r,o)}const Ob=(()=>Promise.resolve(null))();function iy(r){return r[7]||(r[7]=[])}function Op(r){return r.cleanup||(r.cleanup=[])}function wh(r,i){const o=r[9],u=o?o.get(_e,null):null;u&&u.handleError(i)}function Pp(r,i,o,u,c){for(let d=0;d<o.length;){const m=o[d++],y=o[d++],w=i[m],I=r.data[m];null!==I.setInput?I.setInput(w,c,u,y):w[y]=c}}function zi(r,i,o){const u=Ga(i,r);!function(r,i,o){sn(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function bc(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,d=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?d=y:1==d?c=re(c,y):2==d&&(u=re(u,y+": "+i[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const Cc=new pn("INJECTOR",-1);class rE{get(i,o=Xn){if(o===Xn){const u=new Error(`NullInjectorError: No provider for ${Y(i)}!`);throw u.name="NullInjectorError",u}return o}}const $l=new pn("Set Injector scope."),Hl={},Po={};let Ic;function Pb(){return void 0===Ic&&(Ic=new rE),Ic}function oA(r,i=null,o=null,u){return new kp(r,o,i||Pb(),u)}class kp{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&ii(o,y=>this.processProvider(y,i,o)),ii([i],y=>this.processInjectorType(y,[],d)),this.records.set(Cc,Fp(void 0,this));const m=this.records.get($l);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof i?null:Y(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=Xn,u=Re.Default){this.assertNotDestroyed();const c=ru(this),d=ln(void 0);try{if(!(u&Re.SkipSelf)){let y=this.records.get(i);if(void 0===y){const w=("function"==typeof(r=i)||"object"==typeof r&&r instanceof pn)&&Tr(i);y=w&&this.injectableDefInScope(w)?Fp(bh(i),Hl):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&Re.Self?Pb():this.parent).get(i,o=u&Re.Optional&&o===Xn?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[oi]=m[oi]||[]).unshift(Y(i)),c)throw m;return _m(m,i,"R3InjectorError",this.source)}throw m}finally{ln(d),ru(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(Y(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=q(i)))return!1;let c=ti(i);const d=null==c&&i.ngModule||void 0,m=void 0===d?i:d,y=-1!==u.indexOf(m);if(void 0!==d&&(c=ti(d)),null==c)return!1;if(null!=c.imports&&!y){let T;u.push(m);try{ii(c.imports,R=>{this.processInjectorType(R,o,u)&&(void 0===T&&(T=[]),T.push(R))})}finally{}if(void 0!==T)for(let R=0;R<T.length;R++){const{ngModule:O,providers:j}=T[R];ii(j,z=>this.processProvider(z,O,j||He))}}this.injectorDefTypes.add(m);const w=Sr(m)||(()=>new m);this.records.set(m,Fp(w,Hl));const I=c.providers;if(null!=I&&!y){const T=i;ii(I,R=>this.processProvider(R,T,I))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let c=Ch(i=q(i))?i:q(i&&i.provide);const d=uA(r=i)?Fp(void 0,r.useValue):Fp(aA(r),Hl);var r;if(Ch(i)||!0!==i.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=Fp(void 0,Hl,!0),m.factory=()=>iu(m.multi),this.records.set(c,m)),c=i,m.multi.push(i)}this.records.set(c,d)}hydrate(i,o){return o.value===Hl&&(o.value=Po,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=q(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function bh(r){const i=Tr(r),o=null!==i?i.factory:Sr(r);if(null!==o)return o;if(r instanceof pn)throw new Error(`Token ${Y(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${Y(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[Cn]||r[io]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function aA(r,i,o){let u;if(Ch(r)){const c=q(r);return Sr(c)||bh(c)}if(uA(r))u=()=>q(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...iu(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>vn(q(r.useExisting));else{const c=q(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Sr(c)||bh(c);u=()=>new c(...iu(r.deps))}return u}function Fp(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function uA(r){return null!==r&&"object"==typeof r&&Cl in r}function Ch(r){return"function"==typeof r}const Ub=function(r,i,o){return function(r,i=null,o=null,u){const c=oA(r,i,o,u);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let Ln=(()=>{class r{static create(o,u){return Array.isArray(o)?Ub(o,u,""):Ub(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=Xn,r.NULL=new rE,r.\u0275prov=rn({token:r,providedIn:"any",factory:()=>vn(Cc)}),r.__NG_ELEMENT_ID__=-1,r})();function Xb(r,i){ua(er(r)[1],yn())}function eC(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(Ci(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(o){u.push(c);const m=r;m.inputs=tC(r.inputs),m.declaredInputs=tC(r.declaredInputs),m.outputs=tC(r.outputs);const y=c.hostBindings;y&&vA(r,y);const w=c.viewQuery,I=c.contentQueries;if(w&&nC(r,w),I&&_A(r,I),J(r.inputs,c.inputs),J(r.declaredInputs,c.declaredInputs),J(r.outputs,c.outputs),Ci(c)&&c.data.animation){const T=r.data;T.animation=(T.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const y=d[m];y&&y.ngInherit&&y(r),y===eC&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Ja(c.hostAttrs,o=Ja(o,c.hostAttrs))}}(u)}function tC(r){return r===qe?{}:r===He?[]:r}function nC(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function _A(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,d)=>{i(u,c,d),o(u,c,d)}:i}function vA(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let ly=null;function we(){if(!ly){const r=B.Symbol;if(r&&r.iterator)ly=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(ly=u)}}}return ly}function $n(r){return!!pE(r)&&(Array.isArray(r)||!(r instanceof Map)&&we()in r)}function pE(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function hi(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function gu(r,i,o,u){const c=xe();return hi(c,Ui(),i)&&(St(),pu(on(),c,r,i,o,u)),gu}function _u(r,i,o,u,c,d,m,y){const w=xe(),I=St(),T=r+20,R=I.firstCreatePass?function(r,i,o,u,c,d,m,y,w){const I=i.consts,T=Oo(i,r,4,m||null,Ms(I,y));Aa(i,o,T,Ms(I,w)),ua(i,T);const R=T.tViews=Ap(2,T,u,c,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,I);return null!==i.queries&&(i.queries.template(i,T),R.queries=i.queries.embeddedTView(T)),T}(T,I,w,i,o,u,c,d,m):I.data[T];ri(R,!1);const O=w[11].createComment("");Gm(I,w,O,R),Er(O,w),ny(w,w[T]=Rp(O,w,O,R)),$r(R)&&Jm(I,w,R),null!=m&&Ta(w,R,y)}function aC(r){return function(r,i){return r[i]}(ct.lFrame.contextLView,20+r)}function Rh(r,i=Re.Default){const o=xe();return null===o?vn(r,i):$i(yn(),o,q(r),i)}function Iy(r,i,o){const u=xe();return hi(u,Ui(),i)&&qi(St(),on(),u,r,i,u[11],o,!1),Iy}function IE(r,i,o,u,c){const m=c?"class":"style";Pp(r,o,i.inputs[m],m,u)}function Gp(r,i,o,u){const c=xe(),d=St(),m=20+r,y=c[11],w=c[m]=Bm(y,i,ct.lFrame.currentNamespace),I=d.firstCreatePass?function(r,i,o,u,c,d,m){const y=i.consts,I=Oo(i,r,2,c,Ms(y,d));return Aa(i,o,I,Ms(y,m)),null!==I.attrs&&bc(I,I.attrs,!1),null!==I.mergedAttrs&&bc(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(m,d,c,0,i,o,u):d.data[m];ri(I,!0);const T=I.mergedAttrs;null!==T&&an(y,w,T);const R=I.classes;null!==R&&db(y,w,R);const O=I.styles;null!==O&&Av(y,w,O),64!=(64&I.flags)&&Gm(d,c,w,I),0===ct.lFrame.elementDepthCount&&Er(w,c),ct.lFrame.elementDepthCount++,$r(I)&&(Jm(d,c,I),function(r,i,o){if(Ba(i)){const c=i.directiveEnd;for(let d=i.directiveStart;d<c;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}(d,I,c)),null!==u&&Ta(c,I)}function qp(){let r=yn();za()?ct.lFrame.isParent=!1:(r=r.parent,ri(r,!1));const i=r;ct.lFrame.elementDepthCount--;const o=St();o.firstCreatePass&&(ua(o,r),Ba(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&IE(o,i,xe(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&IE(o,i,xe(),i.stylesWithoutHost,!1)}function wr(r,i,o,u){Gp(r,i,o,u),qp()}function TE(){return xe()}function AE(r){return!!r&&"function"==typeof r.then}function _C(r){return!!r&&"function"==typeof r.subscribe}const zp=_C;function Wp(r,i,o,u){const c=xe(),d=St(),m=yn();return function(r,i,o,u,c,d,m,y){const w=$r(u),T=r.firstCreatePass&&Op(r),R=i[8],O=iy(i);let j=!0;if(3&u.type||y){const X=pr(u,i),ke=y?y(X):X,Ie=O.length,nt=y?ft=>y(It(ft[u.index])):u.index;if(sn(o)){let ft=null;if(!y&&w&&(ft=function(r,i,o,u){const c=r.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===o&&c[d+1]===u){const y=i[7],w=c[d+2];return y.length>w?y[w]:null}"string"==typeof m&&(d+=2)}return null}(r,i,c,u.index)),null!==ft)(ft.__ngLastListenerFn__||ft).__ngNextListenerFn__=d,ft.__ngLastListenerFn__=d,j=!1;else{d=Nh(u,i,R,d,!1);const Mt=o.listen(ke,c,d);O.push(d,Mt),T&&T.push(c,nt,Ie,Ie+1)}}else d=Nh(u,i,R,d,!0),ke.addEventListener(c,d,m),O.push(d),T&&T.push(c,nt,Ie,m)}else d=Nh(u,i,R,d,!1);const z=u.outputs;let ae;if(j&&null!==z&&(ae=z[c])){const X=ae.length;if(X)for(let ke=0;ke<X;ke+=2){const qn=i[ae[ke]][ae[ke+1]].subscribe(d),no=O.length;O.push(d,qn),T&&T.push(c,u.index,no,-(no+1))}}}(d,c,c[11],m,r,i,!!o,u),Wp}function EC(r,i,o,u){try{return!1!==o(u)}catch(c){return wh(r,c),!1}}function Nh(r,i,o,u,c){return function d(m){if(m===Function)return u;const y=2&r.flags?Yn(r.index,i):i;0==(32&i[2])&&eE(y);let w=EC(i,0,u,m),I=d.__ngNextListenerFn__;for(;I;)w=EC(i,0,I,m)&&w,I=I.__ngNextListenerFn__;return c&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Ay(r=1){return function(r){return(ct.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,ct.lFrame.contextLView))[8]}(r)}function OE(r,i,o,u,c){const d=r[o+1],m=null===i;let y=u?Mo(d):qs(d),w=!1;for(;0!==y&&(!1===w||m);){const T=r[y+1];Kp(r[y],i)&&(w=!0,r[y+1]=u?_c(T):Mv(T)),y=u?Mo(T):qs(T)}w&&(r[o+1]=u?Mv(d):_c(d))}function Kp(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&x(r,i)>=0}function VE(r,i){return function(r,i,o,u){const c=xe(),d=St(),m=function(r){const i=ct.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);d.firstUpdatePass&&function(r,i,o,u){const c=r.data;if(null===c[o+1]){const d=c[Hr()],m=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(d,u)&&null===i&&!m&&(i=!1),i=function(r,i,o,u){const c=function(r){const i=ct.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let d=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=ng(o=tg(null,r,i,o,u),i.attrs,u),d=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==c)if(o=tg(c,r,i,o,u),null===d){let w=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==qs(u))return r[Mo(u)]}(r,i,u);void 0!==w&&Array.isArray(w)&&(w=tg(null,r,i,w[1],u),w=ng(w,i.attrs,u),function(r,i,o,u){r[Mo(o?i.classBindings:i.styleBindings)]=u}(r,i,u,w))}else d=function(r,i,o){let u;const c=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<c;d++)u=ng(u,r[d].hostAttrs,o);return ng(u,i.attrs,o)}(r,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),o}(c,d,i,u),function(r,i,o,u,c,d){let m=d?i.classBindings:i.styleBindings,y=Mo(m),w=qs(m);r[u]=o;let T,I=!1;if(Array.isArray(o)){const R=o;T=R[1],(null===T||x(R,T)>0)&&(I=!0)}else T=o;if(c)if(0!==w){const O=Mo(r[y+1]);r[u+1]=wp(O,y),0!==O&&(r[O+1]=bp(r[O+1],u)),r[y+1]=function(r,i){return 131071&r|i<<17}(r[y+1],u)}else r[u+1]=wp(y,0),0!==y&&(r[y+1]=bp(r[y+1],u)),y=u;else r[u+1]=wp(w,0),0===y?y=u:r[w+1]=bp(r[w+1],u),w=u;I&&(r[u+1]=Mv(r[u+1])),OE(r,T,u,!0),OE(r,T,u,!1),function(r,i,o,u,c){const d=c?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof i&&x(d,i)>=0&&(o[u+1]=_c(o[u+1]))}(i,T,r,u,d),m=wp(y,w),d?i.classBindings=m:i.styleBindings=m}(c,d,i,o,m,u)}}(d,r,m,u),i!==bt&&hi(c,m,i)&&function(r,i,o,u,c,d,m,y){if(!(3&i.type))return;const w=r.data,I=w[y+1];ky(function(r){return 1==(1&r)}(I)?$E(w,i,o,c,qs(I),m):void 0)||(ky(d)||function(r){return 2==(2&r)}(I)&&(d=$E(w,null,o,c,y,m)),function(r,i,o,u,c){const d=sn(r);if(i)c?d?r.addClass(o,u):o.classList.add(u):d?r.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:Ro.DashCase;if(null==c)d?r.removeStyle(o,u,m):o.style.removeProperty(u);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),m|=Ro.Important),d?r.setStyle(o,u,c,m):o.style.setProperty(u,c,y?"important":"")}}}(u,m,Ga(Hr(),o),c,d))}(d,d.data[Hr()],c,c[11],r,c[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Y(Si(r)))),r}(i,o),u,m)}(r,i,null,!0),VE}function tg(r,i,o,u,c){let d=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(d=i[y],u=ng(u,d.hostAttrs,c),d!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function ng(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let d=0;d<i.length;d++){const m=i[d];"number"==typeof m?c=m:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),C(r,m,!!o||i[++d]))}return void 0===r?null:r}function $E(r,i,o,u,c,d){const m=null===i;let y;for(;c>0;){const w=r[c],I=Array.isArray(w),T=I?w[1]:w,R=null===T;let O=o[c+1];O===bt&&(O=R?He:void 0);let j=R?D(O,u):T===u?O:void 0;if(I&&!ky(j)&&(j=D(w,u)),ky(j)&&(y=j,m))return y;const z=r[c+1];c=m?Mo(z):qs(z)}if(null!==i){let w=d?i.residualClasses:i.residualStyles;null!=w&&(y=D(w,u))}return y}function ky(r){return void 0!==r}function rg(r,i=""){const o=xe(),u=St(),c=r+20,d=u.firstCreatePass?Oo(u,c,1,i,null):u.data[c],m=o[c]=function(r,i){return sn(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Gm(u,o,m,d),ri(d,!1)}function kh(r){return Fh("",r,""),kh}function Fh(r,i,o){const u=xe(),c=function(r,i,o,u){return hi(r,Ui(),o)?i+Le(o)+u:bt}(u,r,i,o);return c!==bt&&zi(u,Hr(),c),Fh}function Bh(r,i,o){const u=xe();return hi(u,Ui(),i)&&qi(St(),on(),u,r,i,u[11],o,!0),Bh}const xc=void 0;var ug=["en",[["a","p"],["AM","PM"],xc],[["AM","PM"],xc,xc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xc,"{1} 'at' {0}",xc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let $h={};function Uy(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=qC(i);if(o)return o;const u=i.split("-")[0];if(o=qC(u),o)return o;if("en"===u)return ug;throw new Error(`Missing locale data for the locale "${r}".`)}function GC(r){return Uy(r)[dt.PluralCase]}function qC(r){return r in $h||($h[r]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[r]),$h[r]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const cg="en-US";let WE=cg;function dg(r){cn(r,"Expected localeId to be defined"),"string"==typeof r&&(WE=r.toLowerCase().replace(/_/g,"-"))}function ed(r,i,o,u,c){if(r=q(r),Array.isArray(r))for(let d=0;d<r.length;d++)ed(r[d],i,o,u,c);else{const d=St(),m=xe();let y=Ch(r)?r:q(r.provide),w=aA(r);const I=yn(),T=1048575&I.providerIndexes,R=I.directiveStart,O=I.providerIndexes>>20;if(Ch(r)||!r.multi){const j=new Ka(w,c,Rh),z=Wy(y,i,c?T:T+O,R);-1===z?(Fs(Gr(I,m),d,y),wu(d,r,i.length),i.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(j),m.push(j)):(o[z]=j,m[z]=j)}else{const j=Wy(y,i,T+O,R),z=Wy(y,i,T,T+O),ae=j>=0&&o[j],X=z>=0&&o[z];if(c&&!X||!c&&!ae){Fs(Gr(I,m),d,y);const ke=function(r,i,o,u,c){const d=new Ka(r,o,Rh);return d.multi=[],d.index=i,d.componentProviders=0,yg(d,c,u&&!o),d}(c?td:tt,o.length,c,u,w);!c&&X&&(o[z].providerFactory=ke),wu(d,r,i.length,0),i.push(y),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(ke),m.push(ke)}else wu(d,r,j>-1?j:z,yg(o[c?z:j],w,!c&&u));!c&&u&&X&&o[z].componentProviders++}}}function wu(r,i,o,u){const c=Ch(i);if(c||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const y=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const w=y.indexOf(o);-1===w?y.push(o,[u,m]):y[w+1].push(u,m)}else y.push(o,m)}}}function yg(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Wy(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function tt(r,i,o,u){return Qs(this.multi,[])}function td(r,i,o,u){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=Co(o,o[1],this.providerFactory.index,u);d=y.slice(0,m),Qs(c,d);for(let w=m;w<y.length;w++)d.push(y[w])}else d=[],Qs(c,d);return d}function Qs(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function nd(r,i=[]){return o=>{o.providersResolver=(u,c)=>function(r,i,o){const u=St();if(u.firstCreatePass){const c=Ci(r);ed(o,u.data,u.blueprint,c,!0),ed(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class Zy{}const vg="ngComponent";class u0{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${Y(r)}. Did you add it to @NgModule.entryComponents?`);return i[vg]=r,i}(i)}}let rd=(()=>{class r{}return r.NULL=new u0,r})();function Mc(...r){}function id(r,i){return new Yi(pr(r,i))}const dI=function(){return id(yn(),xe())};let Yi=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=dI,r})();function hI(r){return r instanceof Yi?r.nativeElement:r}class sd{}let Ni=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>nS(),r})();const nS=function(){const r=xe(),o=Yn(yn().index,r);return function(r){return r[11]}(Br(o)?o:r)};let l0=(()=>{class r{}return r.\u0275prov=rn({token:r,providedIn:"root",factory:()=>null}),r})();class pI{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const d0=new pI("12.2.10");class gI{constructor(){}supports(i){return $n(i)}create(i){return new Qh(i)}}const Eg=(r,i)=>i;class Qh{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Eg}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<Na(u,c,d)?o:u,y=Na(m,c,d),w=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{d||(d=[]);const I=y-c,T=w-c;if(I!=T){for(let O=0;O<I;O++){const j=O<d.length?d[O]:d[O]=0,z=j+O;T<=z&&z<I&&(d[O]=j+1)}d[m.previousIndex]=T-I}}y!==w&&i(m,y,w)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!$n(i))throw new Error(`Error trying to diff '${Y(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,d,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],m=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,y),u=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[we()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{m=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,y,m,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,c)):i=this._addAfter(new iS(o,u),d,c),i}_verifyReinsertion(i,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,d=i._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new f0),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new f0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class iS{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class f0{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new mI,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Na(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class p0{constructor(){}supports(i){return i instanceof Map||pE(i)}create(){return new Jh}}class Jh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||pE(i)))throw new Error(`Error trying to diff '${Y(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const u=new Yy(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class Yy{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wg(){return new Xh([new gI])}let Xh=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||wg()),deps:[[r,new _a,new Ai]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=rn({token:r,providedIn:"root",factory:wg}),r})();function Qy(){return new bu([new p0])}let bu=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Qy()),deps:[[r,new _a,new Ai]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=rn({token:r,providedIn:"root",factory:Qy}),r})();function Mi(r,i,o,u,c=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(It(d)),Gt(d))for(let y=10;y<d.length;y++){const w=d[y],I=w[1].firstChild;null!==I&&Mi(w[1],w,I,u)}const m=o.type;if(8&m)Mi(r,i,o.child,u);else if(32&m){const y=Ev(o,i);let w;for(;w=y();)u.push(w)}else if(16&m){const y=ub(i,o);if(Array.isArray(y))u.push(...y);else{const w=ci(i[16]);Mi(w[1],w,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class ef{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Mi(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Gt(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(Iv(i,u),Bs(o,u))}this._attachedToViewContainer=!1}tb(this._lView[1],this._lView)}onDestroy(i){$v(this._lView[1],this._lView,null,i)}markForCheck(){eE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ry(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Vi(!0);try{ry(r,i,o)}finally{Vi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Ep(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class bg extends ef{constructor(i){super(i),this._view=i}detectChanges(){Mb(this._view)}checkNoChanges(){!function(r){Vi(!0);try{Mb(r)}finally{Vi(!1)}}(this._view)}get context(){return null}}const Cg=function(r){return function(r,i,o){if(Vu(r)&&!o){const u=Yn(r.index,i);return new ef(u,u)}return 47&r.type?new ef(i[16],i):null}(yn(),xe(),16==(16&r))};let vI=(()=>{class r{}return r.__NG_ELEMENT_ID__=Cg,r})();const wI=[new p0],Jy=new Xh([new gI]),oS=new bu(wI),tf=function(){return Cu(yn(),xe())};let Lo=(()=>{class r{}return r.__NG_ELEMENT_ID__=tf,r})();const CI=Lo,od=class extends CI{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=Tp(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),vh(o,u,i),new ef(u)}};function Cu(r,i){return 4&r.type?new od(i,r,id(r,i)):null}class Oc{}class m0{}const cS=function(){return _0(yn(),xe())};let Vn=(()=>{class r{}return r.__NG_ELEMENT_ID__=cS,r})();const e_=Vn,DI=class extends e_{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return id(this._hostTNode,this._hostLView)}get injector(){return new ps(this._hostTNode,this._hostLView)}get parentInjector(){const i=ha(this._hostTNode,this._hostLView);if(ec(i)){const o=eu(i,this._hostLView),u=Xa(i);return new ps(o[1].data[u+8],o)}return new ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=t_(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,d){const m=u||this.parentInjector;if(!d&&null==i.ngModule&&m){const w=m.get(Oc,null);w&&(d=w)}const y=i.create(m,c,void 0,d);return this.insert(y.hostView,o),y}insert(i,o){const u=i._lView,c=u[1];if(Gt(u[3])){const T=this.indexOf(i);if(-1!==T)this.detach(T);else{const R=u[3],O=new DI(R,R[6],R[3]);O.detach(O.indexOf(i))}}const d=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=i),u<d-10?(i[4]=o[c],Hi(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(c,u,m,d);const y=Tv(d,m),w=u[11],I=Hm(w,m[7]);return null!==I&&function(r,i,o,u,c,d){u[0]=c,u[6]=i,Ep(r,u,o,1,c,d)}(c,m[6],w,u,I,y),i.attachToViewContainerRef(),Hi(y0(m),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=t_(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Iv(this._lContainer,o);u&&(Bs(y0(this._lContainer),o),tb(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=Iv(this._lContainer,o);return u&&null!=Bs(y0(this._lContainer),o)?new ef(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function t_(r){return r[8]}function y0(r){return r[8]||(r[8]=[])}function _0(r,i){let o;const u=i[r.index];if(Gt(u))o=u;else{let c;if(8&r.type)c=It(u);else{const d=i[11];c=d.createComment("");const m=pr(r,i);Vl(d,Hm(d,m),c,function(r,i){return sn(r)?r.nextSibling(i):i.nextSibling}(d,m),!1)}i[r.index]=o=Rp(u,i,c,r),ny(i,o)}return new DI(o,r,i)}const fd={};class O0 extends rd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=rr(i);return new $I(o,this.ngModule)}}function c_(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const jI=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ll});class $I extends Zy{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map($T).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return c_(this.componentDef.inputs)}get outputs(){return c_(this.componentDef.outputs)}create(i,o,u,c){const d=(c=c||this.ngModule)?function(r,i){return{get:(o,u,c)=>{const d=r.get(o,fd,c);return d!==fd||u===fd?d:i.get(o,u,c)}}}(i,c.injector):i,m=d.get(sd,ta),y=d.get(l0,null),w=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",T=u?function(r,i,o){if(sn(r))return r.selectRootElement(i,o===dn.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(w,u,this.componentDef.encapsulation):Bm(m.createRenderer(null,this.componentDef),I,function(r){const i=r.toLowerCase();return"svg"===i?po:"math"===i?"http://www.w3.org/1998/MathML/":null}(I)),R=this.componentDef.onPush?576:528,O=function(r,i){return{components:[],scheduler:r||Ll,clean:Ob,playerHandler:i||null,flags:0}}(),j=Ap(0,null,null,1,0,null,null,null,null,null),z=Tp(null,j,O,R,null,null,m,w,y,d);let ae,X;Eo(z);try{const ke=function(r,i,o,u,c,d){const m=o[1];o[20]=r;const w=Oo(m,20,2,"#host",null),I=w.mergedAttrs=i.hostAttrs;null!==I&&(bc(w,I,!0),null!==r&&(an(c,r,I),null!==w.classes&&db(c,r,w.classes),null!==w.styles&&Av(c,r,w.styles)));const T=u.createRenderer(r,i),R=Tp(o,Uv(i),null,i.onPush?64:16,o[20],w,u,T,d||null,null);return m.firstCreatePass&&(Fs(Gr(w,o),m,i.type),xp(m,w),xb(w,o.length,1)),ny(o,R),o[20]=R}(T,this.componentDef,z,m,w);if(T)if(u)an(w,T,["ng-version",d0.full]);else{const{attrs:Ie,classes:nt}=function(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===c?""!==d&&i.push(d,r[++u]):8===c&&o.push(d);else{if(!No(c))break;c=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ie&&an(w,T,Ie),nt&&nt.length>0&&db(w,T,nt.join(" "))}if(X=Li(j,20),void 0!==o){const Ie=X.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const ft=o[nt];Ie.push(null!=ft?Array.from(ft):null)}}ae=function(r,i,o,u,c){const d=o[1],m=function(r,i,o){const u=yn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),eA(r,u,i,jl(r,i,1,null),o));const c=Co(i,r,u.directiveStart,u);Er(c,i);const d=pr(u,i);return d&&Er(d,i),c}(d,o,i);if(u.components.push(m),r[8]=m,c&&c.forEach(w=>w(m,i)),i.contentQueries){const w=yn();i.contentQueries(1,m,w.directiveStart)}const y=yn();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ji(y.index),Kv(o[1],y,0,y.directiveStart,y.directiveEnd,i),Eh(i,m)),m}(ke,this.componentDef,z,O,[Xb]),vh(j,z,null)}finally{Bf()}return new HI(this.componentType,ae,id(X,z),z,X)}}class HI extends class{}{constructor(i,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new bg(c),this.componentType=i}get injector(){return new ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Ir=new Map;class yf extends Oc{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new O0(this);const u=Wn(i),c=i[At]||null;c&&dg(c),this._bootstrapComponents=Gi(u.bootstrap),this._r3Injector=oA(i,o,[{provide:Oc,useValue:this},{provide:rd,useValue:this.componentFactoryResolver}],Y(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Ln.THROW_IF_NOT_FOUND,u=Re.Default){return i===Ln||i===Oc||i===Cc?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class l_ extends m0{constructor(i){super(),this.moduleType=i,null!==Wn(i)&&function(r){const i=new Set;!function o(u){const c=Wn(u,!0),d=c.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${Y(i)} vs ${Y(i.name)}`)}(d,Ir.get(d),u),Ir.set(d,u));const m=Gi(c.imports);for(const y of m)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new yf(this.moduleType,i)}}function Og(r){return i=>{setTimeout(r,void 0,i)}}const Ma=class extends h.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,d,m;let y=i,w=o||(()=>null),I=u;if(i&&"object"==typeof i){const R=i;y=null===(c=R.next)||void 0===c?void 0:c.bind(R),w=null===(d=R.error)||void 0===d?void 0:d.bind(R),I=null===(m=R.complete)||void 0===m?void 0:m.bind(R)}this.__isAsync&&(w=Og(w),y&&(y=Og(y)),I&&(I=Og(I)));const T=super.subscribe({next:y,error:w,complete:I});return i instanceof ee.w&&i.add(T),T}};function QI(){return this._results[we()]()}class vf{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=we(),u=vf.prototype;u[o]||(u[o]=QI)}get changes(){return this._changes||(this._changes=new Ma)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=Ti(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],d=i[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class f_{constructor(i){this.queryList=i,this.matches=null}clone(){return new f_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pg{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new Pg(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==iD(i,o).matches&&this.queries[o].setDirty()}}class XI{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class p_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new p_(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class U0{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new U0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(i,o,eD(o,d)),this.matchTNodeWithReadOption(i,o,fa(o,i,d,!1,!1))}else u===Lo?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,fa(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Yi||c===Vn||c===Lo&&4&o.type)this.addMatch(o.index,-2);else{const d=fa(o,i,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function eD(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Ef(r,i,o,u){return-1===o?function(r,i){return 11&r.type?id(r,i):4&r.type?Cu(r,i):null}(i,r):-2===o?function(r,i,o){return o===Yi?id(i,r):o===Lo?Cu(i,r):o===Vn?_0(i,r):void 0}(r,i,u):Co(r,r[1],o,i)}function g_(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const d=r.data,m=o.matches,y=[];for(let w=0;w<m.length;w+=2){const I=m[w];y.push(I<0?null:Ef(i,d[I],m[w+1],o.metadata.read))}c.matches=y}return c.matches}function bf(r,i,o,u){const c=r.queries.getByIndex(o),d=c.matches;if(null!==d){const m=g_(r,i,c,o);for(let y=0;y<d.length;y+=2){const w=d[y];if(w>0)u.push(m[y/2]);else{const I=d[y+1],T=i[-w];for(let R=10;R<T.length;R++){const O=T[R];O[17]===O[3]&&bf(O[1],O,I,u)}if(null!==T[9]){const R=T[9];for(let O=0;O<R.length;O++){const j=R[O];bf(j[1],j,I,u)}}}}}return u}function j0(r){const i=xe(),o=St(),u=vo();ul(u+1);const c=iD(o,u);if(r.dirty&&yo(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const d=c.crossesNgTemplate?bf(o,i,u,[]):g_(o,i,c,u);r.reset(d,hI),r.notifyOnChanges()}return!0}return!1}function nD(r,i,o,u){const c=St();if(c.firstCreatePass){const d=yn();(function(r,i,o){null===r.queries&&(r.queries=new p_),r.queries.track(new U0(i,o))})(c,new XI(i,o,u),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function(r,i,o){const u=new vf(4==(4&o));$v(r,i,u,u.destroy),null===i[19]&&(i[19]=new Pg),i[19].queries.push(new f_(u))}(c,xe(),o)}function m_(){return r=xe(),i=vo(),r[19].queries[i].queryList;var r,i}function iD(r,i){return r.queries.getByIndex(i)}const Gg=new pn("Application Initializer");let qc=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Mc,this.reject=Mc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(AE(d))o.push(d);else if(zp(d)){const m=new Promise((y,w)=>{d.subscribe({complete:y,error:w})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(vn(Gg,8))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();const N_=new pn("AppId"),ex={provide:N_,useFactory:function(){return`${qg()}${qg()}${qg()}`},deps:[]};function qg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const M_=new pn("Platform Initializer"),wD=new pn("Platform ID"),J0=new pn("appBootstrapListener");let X0=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();const zg=new pn("LocaleId"),ew=new pn("DefaultCurrencyCode");class tw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const Wg=function(r){return new l_(r)},rx=Wg,nw=function(r){return Promise.resolve(Wg(r))},ID=function(r){const i=Wg(r),u=Gi(Wn(r).declarations).reduce((c,d)=>{const m=rr(d);return m&&c.push(new $I(m)),c},[]);return new tw(i,u)},rw=ID,ox=function(r){return Promise.resolve(ID(r))};let vd=(()=>{class r{constructor(){this.compileModuleSync=rx,this.compileModuleAsync=nw,this.compileModuleAndAllComponentsSync=rw,this.compileModuleAndAllComponentsAsync=ox}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();const sw=(()=>Promise.resolve(0))();function Zg(r){"undefined"==typeof Zone?sw.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ns{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ma(!1),this.onMicrotaskEmpty=new Ma(!1),this.onStable=new Ma(!1),this.onError=new Ma(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=B.requestAnimationFrame,i=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(B,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Kg(r),r.isCheckStableRunning=!0,aw(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Kg(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,m,y)=>{try{return TD(r),o.invokeTask(c,d,m,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),O_(r)}},onInvoke:(o,u,c,d,m,y,w)=>{try{return TD(r),o.invoke(c,d,m,y,w)}finally{r.shouldCoalesceRunChangeDetection&&i(),O_(r)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,Kg(r),aw(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ns.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ns.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,i,ow,Mc,Mc);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const ow={};function aw(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Kg(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function TD(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function O_(r){r._nesting--,aw(r)}class ux{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ma,this.onMicrotaskEmpty=new Ma,this.onStable=new Ma,this.onError=new Ma}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let AD=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ns.assertNotInAngularZone(),Zg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zg(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(vn(ns))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})(),P_=(()=>{class r{constructor(){this._applications=new Map,lw.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return lw.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();class cx{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function cw(r){lw=r}let lw=new cx,k_=!0,SD=!1;function Yg(){return SD=!0,k_}function xD(){if(SD)throw new Error("Cannot enable prod mode after platform setup.");k_=!1}let Is;const fw=new pn("AllowMultipleToken");class OD{constructor(i,o){this.name=i,this.token=o}}function F_(r,i,o=[]){const u=`Platform: ${i}`,c=new pn(u);return(d=[])=>{let m=kD();if(!m||m.injector.get(fw,!1))if(r)r(o.concat(d).concat({provide:c,useValue:!0}));else{const y=o.concat(d).concat({provide:c,useValue:!0},{provide:$l,useValue:"platform"});!function(r){if(Is&&!Is.destroyed&&!Is.injector.get(fw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Is=r.get(FD);const i=r.get(M_,null);i&&i.forEach(o=>o())}(Ln.create({providers:y,name:u}))}return function(r){const i=kD();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function kD(){return Is&&!Is.destroyed?Is:null}let FD=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(r,i){let o;return o="noop"===r?new ux:("zone.js"===r?void 0:r)||new ns({enableLongStackTrace:Yg(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),w=[{provide:ns,useValue:y}];return y.run(()=>{const I=Ln.create({providers:w,parent:this.injector,name:o.moduleType.name}),T=o.create(I),R=T.injector.get(_e,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const O=y.onError.subscribe({next:j=>{R.handleError(j)}});T.onDestroy(()=>{L_(this._modules,T),O.unsubscribe()})}),function(r,i,o){try{const u=o();return AE(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(R,y,()=>{const O=T.injector.get(qc);return O.runInitializers(),O.donePromise.then(()=>(dg(T.injector.get(zg,cg)||cg),this._moduleDoBootstrap(T),T))})})}bootstrapModule(o,u=[]){const c=gw({},u);return function(r,i,o){const u=new l_(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(Ed);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Y(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(vn(Ln))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();function gw(r,i){return Array.isArray(i)?i.reduce(gw,r):Object.assign(Object.assign({},r),i)}let Ed=(()=>{class r{constructor(o,u,c,d,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new F.y(I=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{ns.assertNotInAngularZone(),Zg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{T.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ce.T)(y,w.pipe(r=>(0,le.x)()(function(r,i){return function(u){let c;c="function"==typeof r?r:function(){return r};const d=Object.create(u,te.N);return d.source=u,d.subjectFactory=c,d}}(W)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof Zy?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Oc),y=c.create(Ln.NULL,[],u||c.selector,d),w=y.location.nativeElement,I=y.injector.get(AD,null),T=I&&y.injector.get(P_);return I&&T&&T.registerApplication(w,I),y.onDestroy(()=>{this.detachView(y.hostView),L_(this.components,y),T&&T.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;L_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(J0,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(vn(ns),vn(Ln),vn(_e),vn(rd),vn(qc))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();function L_(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class yw{}class Nf{}const ww={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yx=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||ww}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),V(8255)(u).then(d=>d[c]).then(d=>VD(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),V(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[c+d]).then(m=>VD(m,u,c))}}return r.\u0275fac=function(o){return new(o||r)(vn(vd),vn(Nf,8))},r.\u0275prov=rn({token:r,factory:r.\u0275fac}),r})();function VD(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const wx=function(r){return null},bx=F_(null,"core",[{provide:wD,useValue:"unknown"},{provide:FD,deps:[Ln]},{provide:P_,deps:[]},{provide:X0,deps:[]}]),Ix=[{provide:Ed,useClass:Ed,deps:[ns,Ln,_e,rd,qc]},{provide:jI,deps:[ns],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:qc,useClass:qc,deps:[[new Ai,Gg]]},{provide:vd,useClass:vd,deps:[]},ex,{provide:Xh,useFactory:function(){return Jy},deps:[]},{provide:bu,useFactory:function(){return oS},deps:[]},{provide:zg,useFactory:function(r){return dg(r=r||"undefined"!=typeof $localize&&$localize.locale||cg),r},deps:[[new lc(zg),new Ai,new _a]]},{provide:ew,useValue:"USD"}];let zD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(vn(Ed))},r.\u0275mod=Va({type:r}),r.\u0275inj=vi({providers:Ix}),r})()},8939:(Xe,Ae,V)=>{"use strict";V.d(Ae,{hO:()=>Y,xv:()=>W,Dh:()=>le,GT:()=>ie,cc:()=>re,on:()=>k,pX:()=>te});var h=V(3018),ee=V(7841),F=V(6643);Xe=V.hmd(Xe);const ce=["ngOnDestroy"],te=(me,ve,he,De={})=>new Proxy(me,{get:(Fe,Le)=>he.runOutsideAngular(()=>{var vt;if(me[Le])return(null===(vt=null==De?void 0:De.spy)||void 0===vt?void 0:vt.get)&&De.spy.get(Le,me[Le]),me[Le];if(ce.indexOf(Le)>-1)return()=>{};const mt=ve.toPromise().then(Te=>{const ne=Te&&Te[Le];return"function"==typeof ne?ne.bind(Te):ne&&ne.then?ne.then(oe=>he.run(()=>oe)):he.run(()=>ne)});return new Proxy(()=>{},{get:(Te,ne)=>mt[ne],apply:(Te,ne,oe)=>mt.then(fe=>{var ue;const Pe=fe&&fe(...oe);return(null===(ue=null==De?void 0:De.spy)||void 0===ue?void 0:ue.apply)&&De.spy.apply(Le,oe,Pe),Pe})})})}),ie=(me,ve)=>{ve.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(De=>{Object.defineProperty(me.prototype,De,Object.getOwnPropertyDescriptor(he.prototype||he,De))})})};class be{constructor(ve){return ve}}const le=new h.OlP("angularfire2.app.options"),W=new h.OlP("angularfire2.app.name");function k(me,ve,he){const Fe="object"==typeof he&&he||{};Fe.name=Fe.name||"string"==typeof he&&he||"[DEFAULT]";const vt=ee.Z.apps.filter(mt=>mt&&mt.name===Fe.name)[0]||ve.runOutsideAngular(()=>ee.Z.initializeApp(me,Fe));try{JSON.stringify(me)!==JSON.stringify(vt.options)&&L("error",`${vt.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(mt){}return new be(vt)}const L=(me,...ve)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[me](...ve)},J={provide:be,useFactory:k,deps:[le,h.R0b,[new h.FiY,W]]};let Y=(()=>{class me{constructor(he){ee.Z.registerVersion("angularfire",F.q4.full,"core"),ee.Z.registerVersion("angularfire",F.q4.full,"app-compat"),ee.Z.registerVersion("angular",h.q4F.full,he.toString())}static initializeApp(he,De){return{ngModule:me,providers:[{provide:le,useValue:he},{provide:W,useValue:De}]}}}return me.\u0275fac=function(he){return new(he||me)(h.LFG(h.Lbi))},me.\u0275mod=h.oAB({type:me}),me.\u0275inj=h.cJS({providers:[J]}),me})();function re(me,ve,he,De,Fe){const[,Le,vt]=globalThis.\u0275AngularfireInstanceCache.find(mt=>mt[0]===me)||[];if(Le)return function(me,ve){try{return me.toString()===ve.toString()}catch(he){return me===ve}}(Fe,vt)||(q("error",`${ve} was already initialized on the ${he} Firebase App with different settings.${de?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:Fe,was:vt})),Le;{const mt=De();return globalThis.\u0275AngularfireInstanceCache.push([me,mt,Fe]),mt}}const de=!!Xe.hot,q=(me,...ve)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[me](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(Xe,Ae,V)=>{"use strict";V.d(Ae,{q4:()=>sv,iC:()=>vl,HU:()=>ii,vb:()=>js,JM:()=>cc});var h=V(3018),ee=V(2329),F=V(8239),ce=V(5452),te=V(3854),ie=V(6034),be=V(5601),le=V(6676);const W="@firebase/installations",k="0.5.2",J=`w:${k}`,Y="FIS_v2",ve=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function he(C){return C instanceof te.ZR&&C.code.includes("request-failed")}function De({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Fe(C){return{token:C.token,requestStatus:2,expiresIn:fe(C.expiresIn),creationTime:Date.now()}}function Le(C,D){return vt.apply(this,arguments)}function vt(){return(vt=(0,F.Z)(function*(C,D){const U=(yield D.json()).error;return ve.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function mt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Te(C,{refreshToken:D}){const x=mt(C);return x.append("Authorization",function(C){return`${Y} ${C}`}(D)),x}function ne(C){return oe.apply(this,arguments)}function oe(){return(oe=(0,F.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function fe(C){return Number(C.replace("s","000"))}function Pe(C,D){return ge.apply(this,arguments)}function ge(){return(ge=(0,F.Z)(function*(C,{fid:D}){const x=De(C),pe={method:"POST",headers:mt(C),body:JSON.stringify({fid:D,authVersion:Y,appId:C.appId,sdkVersion:J})},Me=yield ne(()=>fetch(x,pe));if(Me.ok){const Ze=yield Me.json();return{fid:Ze.fid||D,registrationStatus:2,refreshToken:Ze.refreshToken,authToken:Fe(Ze.authToken)}}throw yield Le("Create Installation",Me)})).apply(this,arguments)}function it(C){return new Promise(D=>{setTimeout(D,C)})}const On=/^[cdef][\w-]{21}$/;function Zt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return On.test(x)?x:""}catch(C){return""}}function Kt(C){return`${C.appName}!${C.appId}`}const zn=new Map;function Vr(C,D){const x=Kt(C);Ot(x,D),function(C,D){const x=(!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=C=>{Ot(C.data.key,C.data.fid)}),dr);x&&x.postMessage({key:C,fid:D}),0===zn.size&&dr&&(dr.close(),dr=null)}(x,D)}function Ot(C,D){const x=zn.get(C);if(x)for(const U of x)U(D)}let dr=null;const ei="firebase-installations-store";let ki=null;function is(){return ki||(ki=(0,le.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(ei)}})),ki}function ti(C,D){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,F.Z)(function*(C,D){const x=Kt(C),Q=(yield is()).transaction(ei,"readwrite"),pe=Q.objectStore(ei),Me=yield pe.get(x);return yield pe.put(D,x),yield Q.complete,(!Me||Me.fid!==D.fid)&&Vr(C,D.fid),D})).apply(this,arguments)}function hr(C){return io.apply(this,arguments)}function io(){return(io=(0,F.Z)(function*(C){const D=Kt(C),U=(yield is()).transaction(ei,"readwrite");yield U.objectStore(ei).delete(D),yield U.complete})).apply(this,arguments)}function st(C,D){return Re.apply(this,arguments)}function Re(){return(Re=(0,F.Z)(function*(C,D){const x=Kt(C),Q=(yield is()).transaction(ei,"readwrite"),pe=Q.objectStore(ei),Me=yield pe.get(x),Ze=D(Me);return void 0===Ze?yield pe.delete(x):yield pe.put(Ze,x),yield Q.complete,Ze&&(!Me||Me.fid!==Ze.fid)&&Vr(C,Ze.fid),Ze})).apply(this,arguments)}function $t(C){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,F.Z)(function*(C){let D;const x=yield st(C,U=>{const Q=ln(U),pe=Ut(C,Q);return D=pe.registrationPromise,pe.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function ln(C){return dn(C||{fid:Zt(),registrationStatus:0})}function Ut(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ve.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(C,D){return Ye.apply(this,arguments)}(C,x)}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:mn(C)}:{installationEntry:D}}function Ye(){return(Ye=(0,F.Z)(function*(C,D){try{return ti(C,yield Pe(C,D))}catch(x){throw he(x)&&409===x.customData.serverCode?yield hr(C):yield ti(C,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function mn(C){return ss.apply(this,arguments)}function ss(){return(ss=(0,F.Z)(function*(C){let D=yield Ei(C);for(;1===D.registrationStatus;)yield it(100),D=yield Ei(C);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield $t(C);return U||x}return D})).apply(this,arguments)}function Ei(C){return st(C,D=>{if(!D)throw ve.create("installation-not-found");return dn(D)})}function dn(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function so(C,D){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*({appConfig:C,platformLoggerProvider:D},x){const U=H(C,x),Q=Te(C,x),pe=D.getImmediate({optional:!0});pe&&Q.append("x-firebase-client",pe.getPlatformInfoString());const Ze={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:J}})},Ge=yield ne(()=>fetch(U,Ze));if(Ge.ok)return Fe(yield Ge.json());throw yield Le("Generate Auth Token",Ge)})).apply(this,arguments)}function H(C,{fid:D}){return`${De(C)}/${D}/authTokens:generate`}function B(C){return Se.apply(this,arguments)}function Se(){return(Se=(0,F.Z)(function*(C,D=!1){let x;const U=yield st(C.appConfig,pe=>{if(!Jt(pe))throw ve.create("not-registered");const Me=pe.authToken;if(!D&&Ur(Me))return pe;if(1===Me.requestStatus)return x=se(C,D),pe;{if(!navigator.onLine)throw ve.create("app-offline");const Ze=tn(pe);return x=jt(C,Ze),Ze}});return x?yield x:U.authToken})).apply(this,arguments)}function se(C,D){return qe.apply(this,arguments)}function qe(){return(qe=(0,F.Z)(function*(C,D){let x=yield He(C.appConfig);for(;1===x.authToken.requestStatus;)yield it(100),x=yield He(C.appConfig);const U=x.authToken;return 0===U.requestStatus?B(C,D):U})).apply(this,arguments)}function He(C){return st(C,D=>{if(!Jt(D))throw ve.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function jt(C,D){return en.apply(this,arguments)}function en(){return(en=(0,F.Z)(function*(C,D){try{const x=yield so(C,D),U=Object.assign(Object.assign({},D),{authToken:x});return yield ti(C.appConfig,U),x}catch(x){if(!he(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ti(C.appConfig,U)}else yield hr(C.appConfig);throw x}})).apply(this,arguments)}function Jt(C){return void 0!==C&&2===C.registrationStatus}function Ur(C){return 2===C.requestStatus&&!function(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function tn(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function Wo(){return(Wo=(0,F.Z)(function*(C){const D=C,{installationEntry:x,registrationPromise:U}=yield $t(D.appConfig);return U?U.catch(console.error):B(D).catch(console.error),x.fid})).apply(this,arguments)}function La(){return(La=(0,F.Z)(function*(C,D=!1){const x=C;return yield ku(x.appConfig),(yield B(x,D)).token})).apply(this,arguments)}function ku(C){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,F.Z)(function*(C){const{registrationPromise:D}=yield $t(C);D&&(yield D)})).apply(this,arguments)}function Wn(C){return ve.create("missing-app-config-values",{valueName:C})}const xd="installations";(0,ce._registerComponent)(new ie.wA(xd,C=>{const D=C.getProvider("app").getImmediate();return{app:D,appConfig:function(C){if(!C||!C.options)throw Wn("App Configuration");if(!C.name)throw Wn("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!C.options[x])throw Wn(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D),platformLoggerProvider:(0,ce._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("installations-internal",C=>{const D=C.getProvider("app").getImmediate(),x=(0,ce._getProvider)(D,xd).getImmediate();return{getId:()=>function(C){return Wo.apply(this,arguments)}(x),getToken:Q=>function(C){return La.apply(this,arguments)}(x,Q)}},"PRIVATE")),(0,ce.registerVersion)(W,k),(0,ce.registerVersion)(W,k,"esm2017");const fr="@firebase/remote-config",Sn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class el{constructor(D,x,U,Q){this.client=D,this.storage=x,this.storageCache=U,this.logger=Q}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,Q=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Q}.`),Q}fetch(D){var x=this;return(0,F.Z)(function*(){const[U,Q]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Q&&x.isCachedDataFresh(D.cacheMaxAgeMillis,U))return Q;D.eTag=Q&&Q.eTag;const pe=yield x.client.fetch(D),Me=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Me.push(x.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Me),pe})()}}function Br(C=navigator){return C.languages&&C.languages[0]||C.language}class Gt{constructor(D,x,U,Q,pe,Me){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=U,this.projectId=Q,this.apiKey=pe,this.appId=Me}fetch(D){var x=this;return(0,F.Z)(function*(){const[U,Q]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ge={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:x.appId,language_code:Br()},Lt={method:"POST",headers:Ze,body:JSON.stringify(Ge)},Pt=fetch(Me,Lt),xn=new Promise((_r,gn)=>{D.signal.addEventListener(()=>{const wl=new Error("The operation was aborted.");wl.name="AbortError",gn(wl)})});let yr;try{yield Promise.race([Pt,xn]),yr=yield Pt}catch(_r){let gn="fetch-client-network";throw"AbortError"===_r.name&&(gn="fetch-timeout"),Sn.create(gn,{originalErrorMessage:_r.message})}let Bn=yr.status;const Xn=yr.headers.get("ETag")||void 0;let ma,oi;if(200===yr.status){let _r;try{_r=yield yr.json()}catch(gn){throw Sn.create("fetch-client-parse",{originalErrorMessage:gn.message})}ma=_r.entries,oi=_r.state}if("INSTANCE_STATE_UNSPECIFIED"===oi?Bn=500:"NO_CHANGE"===oi?Bn=304:("NO_TEMPLATE"===oi||"EMPTY_CONFIG"===oi)&&(ma={}),304!==Bn&&200!==Bn)throw Sn.create("fetch-status",{httpStatus:Bn});return{status:Bn,eTag:Xn,config:ma}})()}}class $r{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,F.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:U}){var Q=this;return(0,F.Z)(function*(){yield function(C,D){return new Promise((x,U)=>{const Q=Math.max(D-Date.now(),0),pe=setTimeout(x,Q);C.addEventListener(()=>{clearTimeout(pe),U(Sn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const pe=yield Q.client.fetch(D);return yield Q.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function(C){if(!(C instanceof te.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(pe))throw pe;const Me={throttleEndTimeMillis:Date.now()+(0,te.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(Me),Q.attemptFetch(D,Me)}})()}}class lm{constructor(D,x,U,Q,pe){this.app=D,this._client=x,this._storageCache=U,this._storage=Q,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ko(C,D){const x=C.target.error||void 0;return Sn.create(D,{originalErrorMessage:x&&x.message})}const co="app_namespace_store";class Od{constructor(D,x,U,Q=function(){return new Promise((C,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{D(Ko(U,"storage-open"))},x.onsuccess=U=>{C(U.target.result)},x.onupgradeneeded=U=>{const Q=U.target.result;switch(U.oldVersion){case 0:Q.createObjectStore(co,{keyPath:"compositeKey"})}}}catch(x){D(Sn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=D,this.appName=x,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,F.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Q,pe)=>{const Ze=U.transaction([co],"readonly").objectStore(co),Ge=x.createCompositeKey(D);try{const Lt=Ze.get(Ge);Lt.onerror=Pt=>{pe(Ko(Pt,"storage-get"))},Lt.onsuccess=Pt=>{const xn=Pt.target.result;Q(xn?xn.value:void 0)}}catch(Lt){pe(Sn.create("storage-get",{originalErrorMessage:Lt&&Lt.message}))}})})()}set(D,x){var U=this;return(0,F.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((pe,Me)=>{const Ge=Q.transaction([co],"readwrite").objectStore(co),Lt=U.createCompositeKey(D);try{const Pt=Ge.put({compositeKey:Lt,value:x});Pt.onerror=xn=>{Me(Ko(xn,"storage-set"))},Pt.onsuccess=()=>{pe()}}catch(Pt){Me(Sn.create("storage-set",{originalErrorMessage:Pt&&Pt.message}))}})})()}delete(D){var x=this;return(0,F.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Q,pe)=>{const Ze=U.transaction([co],"readwrite").objectStore(co),Ge=x.createCompositeKey(D);try{const Lt=Ze.delete(Ge);Lt.onerror=Pt=>{pe(Ko(Pt,"storage-delete"))},Lt.onsuccess=()=>{Q()}}catch(Lt){pe(Sn.create("storage-delete",{originalErrorMessage:Lt&&Lt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Yo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,F.Z)(function*(){const x=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),Q=D.storage.getActiveConfig(),pe=yield x;pe&&(D.lastFetchStatus=pe);const Me=yield U;Me&&(D.lastSuccessfulFetchTimestampMillis=Me);const Ze=yield Q;Ze&&(D.activeConfig=Ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function pm(){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,F.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("remote-config",function(D,{instanceIdentifier:x}){const U=D.getProvider("app").getImmediate(),Q=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Sn.create("registration-window");if(!(0,te.hl)())throw Sn.create("indexed-db-unavailable");const{projectId:pe,apiKey:Me,appId:Ze}=U.options;if(!pe)throw Sn.create("registration-project-id");if(!Me)throw Sn.create("registration-api-key");if(!Ze)throw Sn.create("registration-app-id");const Ge=new Od(Ze,U.name,x=x||"firebase"),Lt=new Yo(Ge),Pt=new be.Yd(fr);Pt.logLevel=be.in.ERROR;const xn=new Gt(Q,ce.SDK_VERSION,x,pe,Me,Ze),yr=new $r(xn,Ge),Bn=new el(yr,Ge,Lt,Pt),Xn=new lm(U,Bn,Lt,Ge,Pt);return function(C){const D=(0,te.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Xn),Xn},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(fr,"0.3.1"),(0,ce.registerVersion)(fr,"0.3.1","esm2017");const lo="/firebase-messaging-sw.js",$a="/firebase-cloud-messaging-push-scope",Rs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ju="google.c.a.c_id",rl="google.c.a.c_l",gm="google.c.a.ts",Jo="google.c.a.e";var Sr=(()=>{return(C=Sr||(Sr={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Sr;var C})();function Ii(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function il(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),Q=new Uint8Array(U.length);for(let pe=0;pe<U.length;++pe)Q[pe]=U.charCodeAt(pe);return Q}const ho="fcm_token_details_db",Pd="fcm_token_object_Store";function Vf(C){return fo.apply(this,arguments)}function fo(){return(fo=(0,F.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(ho))return null;let D=null;return(yield(0,le.openDb)(ho,5,function(){var U=(0,F.Z)(function*(Q){var pe;if(Q.oldVersion<2||!Q.objectStoreNames.contains(Pd))return;const Me=Q.transaction.objectStore(Pd),Ze=yield Me.index("fcmSenderId").get(C);if(yield Me.clear(),Ze)if(2===Q.oldVersion){const Ge=Ze;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;D={token:Ge.fcmToken,createTime:null!==(pe=Ge.createTime)&&void 0!==pe?pe:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:Ii(Ge.vapidKey)}}}else if(3===Q.oldVersion){const Ge=Ze;D={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ii(Ge.auth),p256dh:Ii(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ii(Ge.vapidKey)}}}else if(4===Q.oldVersion){const Ge=Ze;D={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Ii(Ge.auth),p256dh:Ii(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Ii(Ge.vapidKey)}}}});return function(Q){return U.apply(this,arguments)}}())).close(),yield(0,le.deleteDb)(ho),yield(0,le.deleteDb)("fcm_vapid_details_db"),yield(0,le.deleteDb)("undefined"),Bu(D)?D:null})).apply(this,arguments)}function Bu(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Kn="firebase-messaging-store";let po=null;function Xo(){return po||(po=(0,le.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(Kn)}})),po}function Ns(C){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,F.Z)(function*(C){const D=ta(C),U=yield(yield Xo()).transaction(Kn).objectStore(Kn).get(D);if(U)return U;{const Q=yield Vf(C.appConfig.senderId);if(Q)return yield go(C,Q),Q}})).apply(this,arguments)}function go(C,D){return ea.apply(this,arguments)}function ea(){return(ea=(0,F.Z)(function*(C,D){const x=ta(C),Q=(yield Xo()).transaction(Kn,"readwrite");return yield Q.objectStore(Kn).put(D,x),yield Q.complete,D})).apply(this,arguments)}function sn(C){return $u.apply(this,arguments)}function $u(){return($u=(0,F.Z)(function*(C){const D=ta(C),U=(yield Xo()).transaction(Kn,"readwrite");yield U.objectStore(Kn).delete(D),yield U.complete})).apply(this,arguments)}function ta({appConfig:C}){return C.appId}const It=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fd(C,D){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,F.Z)(function*(C,D){const x=yield Yn(C),U=na(D),Q={method:"POST",headers:x,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(mo(C.appConfig),Q)).json()}catch(Me){throw It.create("token-subscribe-failed",{errorInfo:Me})}if(pe.error)throw It.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw It.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function Ga(C,D){return pr.apply(this,arguments)}function pr(){return(pr=(0,F.Z)(function*(C,D){const x=yield Yn(C),U=na(D.subscriptionOptions),Q={method:"PATCH",headers:x,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(`${mo(C.appConfig)}/${D.token}`,Q)).json()}catch(Me){throw It.create("token-update-failed",{errorInfo:Me})}if(pe.error)throw It.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw It.create("token-update-no-token");return pe.token})).apply(this,arguments)}function Uf(C,D){return Li.apply(this,arguments)}function Li(){return(Li=(0,F.Z)(function*(C,D){const U={method:"DELETE",headers:yield Yn(C)};try{const pe=yield(yield fetch(`${mo(C.appConfig)}/${D}`,U)).json();if(pe.error)throw It.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(Q){throw It.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function mo({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Yn(C){return yo.apply(this,arguments)}function yo(){return(yo=(0,F.Z)(function*({appConfig:C,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function na({p256dh:C,auth:D,endpoint:x,vapidKey:U}){const Q={web:{endpoint:x,auth:D,p256dh:C}};return U!==Rs&&(Q.web.applicationPubKey=U),Q}const qa=6048e5;function Ms(C){return ra.apply(this,arguments)}function ra(){return(ra=(0,F.Z)(function*(C){const D=yield sl(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Ii(D.getKey("auth")),p256dh:Ii(D.getKey("p256dh"))},U=yield Ns(C.firebaseDependencies);if(U){if(Ld(U.subscriptionOptions,x))return Date.now()>=U.createTime+qa?mm(C,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield Uf(C.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return ia(C.firebaseDependencies,x)}return ia(C.firebaseDependencies,x)})).apply(this,arguments)}function qu(C){return ct.apply(this,arguments)}function ct(){return(ct=(0,F.Z)(function*(C){const D=yield Ns(C.firebaseDependencies);D&&(yield Uf(C.firebaseDependencies,D.token),yield sn(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function mm(C,D){return cs.apply(this,arguments)}function cs(){return(cs=(0,F.Z)(function*(C,D){try{const x=yield Ga(C.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield go(C.firebaseDependencies,U),x}catch(x){throw yield qu(C),x}})).apply(this,arguments)}function ia(C,D){return _o.apply(this,arguments)}function _o(){return(_o=(0,F.Z)(function*(C,D){const U={token:yield Fd(C,D),createTime:Date.now(),subscriptionOptions:D};return yield go(C,U),U.token})).apply(this,arguments)}function sl(C,D){return ls.apply(this,arguments)}function ls(){return(ls=(0,F.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:il(D)})})).apply(this,arguments)}function Ld(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function xe(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcm_message_id};return function(C,D){if(!D.notification)return;C.notification={};const x=D.notification.title;x&&(C.notification.title=x);const U=D.notification.body;U&&(C.notification.body=U);const Q=D.notification.image;Q&&(C.notification.image=Q)}(D,C),function(C,D){!D.data||(C.data=D.data)}(D,C),function(C,D){if(!D.fcmOptions)return;C.fcmOptions={};const x=D.fcmOptions.link;x&&(C.fcmOptions.link=x);const U=D.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(D,C),D}function Vd(C){return"object"==typeof C&&!!C&&ju in C}function sa(C,D){const x=[];for(let U=0;U<C.length;U++)x.push(C.charAt(U)),U<D.length&&x.push(D.charAt(U));return x.join("")}function za(C){return It.create("missing-app-config-values",{valueName:C})}sa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Os{constructor(D,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function(C){if(!C||!C.options)throw za("App Configuration Object");if(!C.name)throw za("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const U of D)if(!x[U])throw za(U);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Q,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Ud(C){return zu.apply(this,arguments)}function zu(){return(zu=(0,F.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(lo,{scope:$a}),C.swRegistration.update().catch(()=>{})}catch(D){throw It.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function oa(C,D){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,F.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield Ud(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw It.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function xr(C,D){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,F.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Rs)})).apply(this,arguments)}function Ui(){return(Ui=(0,F.Z)(function*(C,D){if(!navigator)throw It.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw It.create("permission-blocked");return yield xr(C,null==D?void 0:D.vapidKey),yield oa(C,null==D?void 0:D.serviceWorkerRegistration),Ms(C)})).apply(this,arguments)}function ds(C,D,x){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,F.Z)(function*(C,D,x){const U=jd(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[ju],message_name:x[rl],message_time:x[gm],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jd(C){switch(C){case Sr.NOTIFICATION_CLICKED:return"notification_open";case Sr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Za(){return(Za=(0,F.Z)(function*(C,D){const x=D.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===Sr.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(xe(x)):C.onMessageHandler.next(xe(x)));const U=x.data;Vd(U)&&"1"===U[Jo]&&(yield ds(C,x.messageType,U))})).apply(this,arguments)}const aa="@firebase/messaging";function Bd(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,te.hl)()&&(yield(0,te.eu)())&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("messaging",C=>{const D=new Os(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(C,D){return Za.apply(this,arguments)}(D,x)),D},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("messaging-internal",C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:U=>function(C,D){return Ui.apply(this,arguments)}(D,U)}},"PRIVATE")),(0,ce.registerVersion)(aa,"0.9.2"),(0,ce.registerVersion)(aa,"0.9.2","esm2017");const ji="analytics",on="firebase_id",Yu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gd="https://www.googletagmanager.com/gtag/js",Qn=new be.Yd("@firebase/analytics");function qd(C){return Promise.all(C.map(D=>D.catch(x=>x)))}function ua(C,D){const x=document.createElement("script");x.src=`${Gd}?l=${C}&id=${D}`,x.async=!0,document.head.appendChild(x)}function ll(C,D,x,U,Q,pe){return wo.apply(this,arguments)}function wo(){return(wo=(0,F.Z)(function*(C,D,x,U,Q,pe){const Me=U[Q];try{if(Me)yield D[Me];else{const Ge=(yield qd(x)).find(Lt=>Lt.measurementId===Q);Ge&&(yield D[Ge.appId])}}catch(Ze){Qn.error(Ze)}C("config",Q,pe)})).apply(this,arguments)}function dl(C,D,x,U,Q){return hl.apply(this,arguments)}function hl(){return(hl=(0,F.Z)(function*(C,D,x,U,Q){try{let pe=[];if(Q&&Q.send_to){let Me=Q.send_to;Array.isArray(Me)||(Me=[Me]);const Ze=yield qd(x);for(const Ge of Me){const Lt=Ze.find(xn=>xn.measurementId===Ge),Pt=Lt&&D[Lt.appId];if(!Pt){pe=[];break}pe.push(Pt)}}0===pe.length&&(pe=Object.values(D)),yield Promise.all(pe),C("event",U,Q||{})}catch(pe){Qn.error(pe)}})).apply(this,arguments)}function iv(){const C=window.document.getElementsByTagName("script");for(const D of Object.values(C))if(D.src&&D.src.includes(Gd))return D;return null}const gr=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ya=new class{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function ym(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function an(C){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,F.Z)(function*(C){var D;const{appId:x,apiKey:U}=C,Q={method:"GET",headers:ym(U)},pe=Yu.replace("{app-id}",x),Me=yield fetch(pe,Q);if(200!==Me.status&&304!==Me.status){let Ze="";try{const Ge=yield Me.json();(null===(D=Ge.error)||void 0===D?void 0:D.message)&&(Ze=Ge.error.message)}catch(Ge){}throw gr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:Ze})}return Me.json()})).apply(this,arguments)}function Ju(C){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,F.Z)(function*(C,D=Ya,x){const{appId:U,apiKey:Q,measurementId:pe}=C.options;if(!U)throw gr.create("no-app-id");if(!Q){if(pe)return{measurementId:pe,appId:U};throw gr.create("no-api-key")}const Me=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new eu;return setTimeout((0,F.Z)(function*(){Ze.abort()}),void 0!==x?x:6e4),Xu({appId:U,apiKey:Q,measurementId:pe},Me,Ze,D)})).apply(this,arguments)}function Xu(C,D,x){return ec.apply(this,arguments)}function ec(){return(ec=(0,F.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:x},U,Q=Ya){const{appId:pe,measurementId:Me}=C;try{yield Xa(U,D)}catch(Ze){if(Me)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:pe,measurementId:Me};throw Ze}try{const Ze=yield an(C);return Q.deleteThrottleMetadata(pe),Ze}catch(Ze){if(!zd(Ze)){if(Q.deleteThrottleMetadata(pe),Me)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:pe,measurementId:Me};throw Ze}const Ge=503===Number(Ze.customData.httpStatus)?(0,te.$s)(x,Q.intervalMillis,30):(0,te.$s)(x,Q.intervalMillis),Lt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:x+1};return Q.setThrottleMetadata(pe,Lt),Qn.debug(`Calling attemptFetch again in ${Ge} millis`),Xu(C,Lt,U,Q)}})).apply(this,arguments)}function Xa(C,D){return new Promise((x,U)=>{const Q=Math.max(D-Date.now(),0),pe=setTimeout(x,Q);C.addEventListener(()=>{clearTimeout(pe),U(gr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function zd(C){if(!(C instanceof te.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class eu{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function tu(){return la.apply(this,arguments)}function la(){return(la=(0,F.Z)(function*(){if(!(0,te.hl)())return Qn.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(C){return Qn.warn(gr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function da(){return(da=(0,F.Z)(function*(C,D,x,U,Q,pe,Me){var Ze;const Ge=Ju(C);Ge.then(Bn=>{x[Bn.measurementId]=Bn.appId,C.options.measurementId&&Bn.measurementId!==C.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bn=>Qn.error(Bn)),D.push(Ge);const Lt=tu().then(Bn=>{if(Bn)return U.getId()}),[Pt,xn]=yield Promise.all([Ge,Lt]);iv()||ua(pe,Pt.measurementId),Q("js",new Date);const yr=null!==(Ze=null==Me?void 0:Me.config)&&void 0!==Ze?Ze:{};return yr.origin="firebase",yr.update=!0,null!=xn&&(yr[on]=xn),Q("config",Pt.measurementId,yr),Pt.measurementId})).apply(this,arguments)}class ot{constructor(D){this.app=D}_delete(){return delete _n[this.app.options.appId],Promise.resolve()}}let _n={},Jn=[];const Gr={};let ha,Fs,or="dataLayer",ht=!1;function $i(C,D,x){!function(){const C=[];if((0,te.ru)()&&C.push("This is a browser extension environment."),(0,te.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),x=gr.create("invalid-analytics-context",{errorInfo:D});Qn.warn(x.message)}}();const U=C.options.appId;if(!U)throw gr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw gr.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_n[U])throw gr.create("already-exists",{id:U});if(!ht){!function(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(or);const{wrappedGtag:pe,gtagCore:Me}=function(C,D,x,U,Q){let pe=function(...Me){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(pe=window[Q]),window[Q]=function(C,D,x,U){function pe(){return(pe=(0,F.Z)(function*(Me,Ze,Ge){try{"event"===Me?yield dl(C,D,x,Ze,Ge):"config"===Me?yield ll(C,D,x,U,Ze,Ge):C("set",Ze)}catch(Lt){Qn.error(Lt)}})).apply(this,arguments)}return function(Me,Ze,Ge){return pe.apply(this,arguments)}}(pe,C,D,x),{gtagCore:pe,wrappedGtag:window[Q]}}(_n,Jn,Gr,or,"gtag");Fs=pe,ha=Me,ht=!0}return _n[U]=function(C,D,x,U,Q,pe,Me){return da.apply(this,arguments)}(C,Jn,Gr,D,ha,or,x),new ot(C)}function fl(){return(fl=(0,F.Z)(function*(C,D,x,U,Q){if(Q&&Q.global)C("event",x,U);else{const pe=yield D;C("event",x,Object.assign(Object.assign({},U),{send_to:pe}))}})).apply(this,arguments)}function gs(){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,F.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(C){return!1}})).apply(this,arguments)}const Zd="@firebase/analytics";(0,ce._registerComponent)(new ie.wA(ji,(D,{options:x})=>$i(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new ie.wA("analytics-internal",function(D){try{const x=D.getProvider(ji).getImmediate();return{logEvent:(U,Q,pe)=>function(C,D,x,U){C=(0,te.m9)(C),function(C,D,x,U,Q){return fl.apply(this,arguments)}(Fs,_n[C.app.options.appId],D,x,U).catch(Q=>Qn.error(Q))}(x,U,Q,pe)}}catch(x){throw gr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(Zd,"0.7.2"),(0,ce.registerVersion)(Zd,"0.7.2","esm2017");var ac=V(7771),pn=V(3637),yl=V(3342),zf=V(3101),Wf=V(309);const sv=new h.GfV("7.1.1"),uc="__angularfire_symbol__analyticsIsSupported",Zf="__angularfire_symbol__remoteConfigIsSupported",pa="__angularfire_symbol__messagingIsSupported";function cc(C,D,x){if(D){if(1===D.length)return D[0];const pe=D.filter(Me=>Me.app===x);if(1===pe.length)return pe[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[uc]||(globalThis[uc]=gs().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[pa]||(globalThis[pa]=Bd().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[Zf]||(globalThis[Zf]=pm().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const js=(C,D)=>{const x=D?[D]:(0,ee.C6)(),U=[];return x.forEach(Q=>{Q.container.getProvider(C).instances.forEach(Me=>{U.includes(Me)||U.push(Me)})}),U};function ga(){}class Yf{constructor(D,x=ac.N){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,U){const Q=this.zone;return this.delegate.schedule(function(Me){Q.runGuarded(()=>{D.apply(this,[Me])})},x,U)}}class Ti{constructor(D){this.zone=D,this.task=null}call(D,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ga,{},ga,ga)),x.pipe((0,yl.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ii=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Yf(Zone.current)),this.insideAngular=x.run(()=>new Yf(Zone.current,pn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(h.LFG(h.R0b))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Hi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function vl(C){return Hi(),function(C){return function(x){return(x=x.lift(new Ti(C.ngZone))).pipe((0,zf.R)(C.outsideAngular),(0,Wf.QV)(C.insideAngular))}}(Hi())(C)}},4486:(Xe,Ae,V)=>{"use strict";V.d(Ae,{Z:()=>Ce});var h=V(3854),ee=V(6034),F=V(5452),ce=V(5601);class te{constructor(q,me){this._delegate=q,this.firebase=me,(0,F._addComponent)(q,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this._delegate.automaticDataCollectionEnabled=q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(q=>{this._delegate.checkDestroyed(),q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(q,me=F._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const he=this._delegate.container.getProvider(q);return!he.isInitialized()&&"EXPLICIT"===(null===(ve=he.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&he.initialize(),he.getImmediate({identifier:me})}_removeServiceInstance(q,me=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(q).clearInstance(me)}_addComponent(q){(0,F._addComponent)(this._delegate,q)}_addOrOverwriteComponent(q){(0,F._addOrOverwriteComponent)(this._delegate,q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function W(){const de=function(de){const q={},me={__esModule:!0,initializeApp:function(mt,Te={}){const ne=F.initializeApp(mt,Te);if((0,h.r3)(q,ne.name))return q[ne.name];const oe=new de(ne,me);return q[ne.name]=oe,oe},app:he,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(mt){const Te=mt.name,ne=Te.replace("-compat","");if(F._registerComponent(mt)&&"PUBLIC"===mt.type){const oe=(fe=he())=>{if("function"!=typeof fe[ne])throw be.create("invalid-app-argument",{appName:Te});return fe[ne]()};void 0!==mt.serviceProps&&(0,h.ZB)(oe,mt.serviceProps),me[ne]=oe,de.prototype[ne]=function(...fe){return this._getService.bind(this,Te).apply(this,mt.multipleInstances?fe:[])}}return"PUBLIC"===mt.type?me[ne]:null},removeApp:function(mt){delete q[mt]},useAsService:function(mt,Te){return"serverAuth"===Te?null:Te},modularAPIs:F}};function he(mt){if(!(0,h.r3)(q,mt=mt||F._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:mt});return q[mt]}return me.default=me,Object.defineProperty(me,"apps",{get:function(){return Object.keys(q).map(mt=>q[mt])}}),he.App=de,me}(te);return de.INTERNAL=Object.assign(Object.assign({},de.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function(me){(0,h.ZB)(de,me)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),de}(),L=new ce.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const de=self.firebase.SDK_VERSION;de&&de.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=k;(0,F.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:(Xe,Ae,V)=>{"use strict";V.r(Ae),V.d(Ae,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Xr,_DEFAULT_ENTRY_NAME:()=>On,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>zn,_apps:()=>Zt,_clearComponents:()=>Ot,_components:()=>Pn,_getProvider:()=>cn,_registerComponent:()=>Vr,_removeServiceInstance:()=>ut,deleteApp:()=>ki,getApp:()=>Tr,getApps:()=>ei,initializeApp:()=>vi,onLog:()=>Cn,registerVersion:()=>ti,setLogLevel:()=>hr});var h=V(8239),ee=V(6034),F=V(5601),ce=V(3854);class te{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function(st){const Re=st.getComponent();return"VERSION"===(null==Re?void 0:Re.type)}($t)){const Xt=$t.getImmediate();return`${Xt.library}/${Xt.version}`}return null}).filter($t=>$t).join(" ")}}const be="@firebase/app",W=new F.Yd("@firebase/app"),On="[DEFAULT]",Et={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zt=new Map,Pn=new Map;function Kt(st,Re){try{st.container.addComponent(Re)}catch($t){W.debug(`Component ${Re.name} failed to register with FirebaseApp ${st.name}`,$t)}}function zn(st,Re){st.container.addOrOverwriteComponent(Re)}function Vr(st){const Re=st.name;if(Pn.has(Re))return W.debug(`There were multiple attempts to register component ${Re}.`),!1;Pn.set(Re,st);for(const $t of Zt.values())Kt($t,st);return!0}function cn(st,Re){return st.container.getProvider(Re)}function ut(st,Re,$t=On){cn(st,Re).clearInstance($t)}function Ot(){Pn.clear()}const dr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class rn{constructor(Re,$t,Xt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=Xt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Xr="9.1.3";function vi(st,Re={}){"object"!=typeof Re&&(Re={name:Re});const $t=Object.assign({name:On,automaticDataCollectionEnabled:!1},Re),Xt=$t.name;if("string"!=typeof Xt||!Xt)throw dr.create("bad-app-name",{appName:String(Xt)});const ln=Zt.get(Xt);if(ln){if((0,ce.vZ)(st,ln.options)&&(0,ce.vZ)($t,ln.config))return ln;throw dr.create("duplicate-app",{appName:Xt})}const Ut=new ee.H0(Xt);for(const Ye of Pn.values())Ut.addComponent(Ye);const Ke=new rn(st,$t,Ut);return Zt.set(Xt,Ke),Ke}function Tr(st=On){const Re=Zt.get(st);if(!Re)throw dr.create("no-app",{appName:st});return Re}function ei(){return Array.from(Zt.values())}function ki(st){return is.apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(st){const Re=st.name;Zt.has(Re)&&(Zt.delete(Re),yield Promise.all(st.container.getProviders().map($t=>$t.delete())),st.isDeleted=!0)})).apply(this,arguments)}function ti(st,Re,$t){var Xt;let ln=null!==(Xt=Et[st])&&void 0!==Xt?Xt:st;$t&&(ln+=`-${$t}`);const Ut=ln.match(/\s|\//),Ke=Re.match(/\s|\//);if(Ut||Ke){const Ye=[`Unable to register library "${ln}" with version "${Re}":`];return Ut&&Ye.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),Ut&&Ke&&Ye.push("and"),Ke&&Ye.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void W.warn(Ye.join(" "))}Vr(new ee.wA(`${ln}-version`,()=>({library:ln,version:Re}),"VERSION"))}function Cn(st,Re){if(null!==st&&"function"!=typeof st)throw dr.create("invalid-log-argument");(0,F.Am)(st,Re)}function hr(st){(0,F.Ub)(st)}Vr(new ee.wA("platform-logger",Re=>new te(Re),"PRIVATE")),ti(be,"0.7.4",""),ti(be,"0.7.4","esm2017"),ti("fire-js","")},6034:(Xe,Ae,V)=>{"use strict";V.d(Ae,{wA:()=>F,H0:()=>le});var h=V(4762),ee=V(3854),F=function(){function W(k,L,J){this.name=k,this.instanceFactory=L,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return W.prototype.setInstantiationMode=function(k){return this.instantiationMode=k,this},W.prototype.setMultipleInstances=function(k){return this.multipleInstances=k,this},W.prototype.setServiceProps=function(k){return this.serviceProps=k,this},W.prototype.setInstanceCreatedCallback=function(k){return this.onInstanceCreated=k,this},W}(),ce="[DEFAULT]",te=function(){function W(k,L){this.name=k,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return W.prototype.get=function(k){var L=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(L)){var J=new ee.BH;if(this.instancesDeferred.set(L,J),this.isInitialized(L)||this.shouldAutoInitialize())try{var Y=this.getOrInitializeService({instanceIdentifier:L});Y&&J.resolve(Y)}catch(re){}}return this.instancesDeferred.get(L).promise},W.prototype.getImmediate=function(k){var L,J=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),Y=null!==(L=null==k?void 0:k.optional)&&void 0!==L&&L;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(re){if(Y)return null;throw re}},W.prototype.getComponent=function(){return this.component},W.prototype.setComponent=function(k){var L,J;if(k.name!==this.name)throw Error("Mismatching Component "+k.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=k,this.shouldAutoInitialize()){if(function(W){return"EAGER"===W.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(he){}try{for(var Y=(0,h.XA)(this.instancesDeferred.entries()),re=Y.next();!re.done;re=Y.next()){var Ce=(0,h.CR)(re.value,2),q=Ce[1],me=this.normalizeInstanceIdentifier(Ce[0]);try{var ve=this.getOrInitializeService({instanceIdentifier:me});q.resolve(ve)}catch(he){}}}catch(he){L={error:he}}finally{try{re&&!re.done&&(J=Y.return)&&J.call(Y)}finally{if(L)throw L.error}}}},W.prototype.clearInstance=function(k){void 0===k&&(k=ce),this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)},W.prototype.delete=function(){return(0,h.mG)(this,void 0,void 0,function(){var k;return(0,h.Jh)(this,function(L){switch(L.label){case 0:return k=Array.from(this.instances.values()),[4,Promise.all((0,h.ev)((0,h.ev)([],(0,h.CR)(k.filter(function(J){return"INTERNAL"in J}).map(function(J){return J.INTERNAL.delete()}))),(0,h.CR)(k.filter(function(J){return"_delete"in J}).map(function(J){return J._delete()}))))];case 1:return L.sent(),[2]}})})},W.prototype.isComponentSet=function(){return null!=this.component},W.prototype.isInitialized=function(k){return void 0===k&&(k=ce),this.instances.has(k)},W.prototype.getOptions=function(k){return void 0===k&&(k=ce),this.instancesOptions.get(k)||{}},W.prototype.initialize=function(k){var L,J;void 0===k&&(k={});var Y=k.options,re=void 0===Y?{}:Y,Ce=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(Ce))throw Error(this.name+"("+Ce+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var de=this.getOrInitializeService({instanceIdentifier:Ce,options:re});try{for(var q=(0,h.XA)(this.instancesDeferred.entries()),me=q.next();!me.done;me=q.next()){var ve=(0,h.CR)(me.value,2),De=ve[1];Ce===this.normalizeInstanceIdentifier(ve[0])&&De.resolve(de)}}catch(Le){L={error:Le}}finally{try{me&&!me.done&&(J=q.return)&&J.call(q)}finally{if(L)throw L.error}}return de},W.prototype.onInit=function(k,L){var J,Y=this.normalizeInstanceIdentifier(L),re=null!==(J=this.onInitCallbacks.get(Y))&&void 0!==J?J:new Set;re.add(k),this.onInitCallbacks.set(Y,re);var Ce=this.instances.get(Y);return Ce&&k(Ce,Y),function(){re.delete(k)}},W.prototype.invokeOnInitCallbacks=function(k,L){var J,Y,re=this.onInitCallbacks.get(L);if(re)try{for(var Ce=(0,h.XA)(re),de=Ce.next();!de.done;de=Ce.next()){var q=de.value;try{q(k,L)}catch(me){}}}catch(me){J={error:me}}finally{try{de&&!de.done&&(Y=Ce.return)&&Y.call(Ce)}finally{if(J)throw J.error}}},W.prototype.getOrInitializeService=function(k){var L=k.instanceIdentifier,J=k.options,Y=void 0===J?{}:J,re=this.instances.get(L);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:ie(L),options:Y}),this.instances.set(L,re),this.instancesOptions.set(L,Y),this.invokeOnInitCallbacks(re,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,re)}catch(Ce){}return re||null},W.prototype.normalizeInstanceIdentifier=function(k){return void 0===k&&(k=ce),this.component?this.component.multipleInstances?k:ce:k},W.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},W}();function ie(W){return W===ce?void 0:W}var le=function(){function W(k){this.name=k,this.providers=new Map}return W.prototype.addComponent=function(k){var L=this.getProvider(k.name);if(L.isComponentSet())throw new Error("Component "+k.name+" has already been registered with "+this.name);L.setComponent(k)},W.prototype.addOrOverwriteComponent=function(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)},W.prototype.getProvider=function(k){if(this.providers.has(k))return this.providers.get(k);var L=new te(k,this);return this.providers.set(k,L),L},W.prototype.getProviders=function(){return Array.from(this.providers.values())},W}()},5601:(Xe,Ae,V)=>{"use strict";V.d(Ae,{in:()=>ee,Yd:()=>be,Ub:()=>le,Am:()=>W});const h=[];var ee=(()=>{return(k=ee||(ee={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",ee;var k})();const F={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ce=ee.INFO,te={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ie=(k,L,...J)=>{if(L<k.logLevel)return;const Y=(new Date).toISOString(),re=te[L];if(!re)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[re](`[${Y}]  ${k.name}:`,...J)};class be{constructor(L){this.name=L,this._logLevel=ce,this._logHandler=ie,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in ee))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?F[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...L),this._logHandler(this,ee.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...L),this._logHandler(this,ee.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...L),this._logHandler(this,ee.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...L),this._logHandler(this,ee.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...L),this._logHandler(this,ee.ERROR,...L)}}function le(k){h.forEach(L=>{L.setLogLevel(k)})}function W(k,L){for(const J of h){let Y=null;L&&L.level&&(Y=F[L.level]),J.userLogHandler=null===k?null:(re,Ce,...de)=>{const q=de.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch(ve){return null}}).filter(me=>me).join(" ");Ce>=(null!=Y?Y:re.logLevel)&&k({level:ee[Ce].toLowerCase(),message:q,args:de,type:re.name})}}}},3854:(Xe,Ae,V)=>{"use strict";V.d(Ae,{BH:()=>Y,LL:()=>ge,ZR:()=>Pe,zI:()=>oe,US:()=>ie,tV:()=>W,$s:()=>Ei,r3:()=>cn,Sg:()=>re,ne:()=>ki,vZ:()=>dr,ZB:()=>L,pd:()=>Tr,m9:()=>so,z$:()=>Ce,jU:()=>me,ru:()=>ve,d:()=>De,xb:()=>Ot,w1:()=>Fe,hl:()=>Te,uI:()=>de,UG:()=>q,b$:()=>he,G6:()=>mt,Mn:()=>Le,xO:()=>Xr,zd:()=>vi,eu:()=>ne});const ce=function($){const H=[];let B=0;for(let Se=0;Se<$.length;Se++){let se=$.charCodeAt(Se);se<128?H[B++]=se:se<2048?(H[B++]=se>>6|192,H[B++]=63&se|128):55296==(64512&se)&&Se+1<$.length&&56320==(64512&$.charCodeAt(Se+1))?(se=65536+((1023&se)<<10)+(1023&$.charCodeAt(++Se)),H[B++]=se>>18|240,H[B++]=se>>12&63|128,H[B++]=se>>6&63|128,H[B++]=63&se|128):(H[B++]=se>>12|224,H[B++]=se>>6&63|128,H[B++]=63&se|128)}return H},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,H){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let se=0;se<$.length;se+=3){const qe=$[se],He=se+1<$.length,jt=He?$[se+1]:0,en=se+2<$.length,Jt=en?$[se+2]:0;let tn=(15&jt)<<2|Jt>>6,nr=63&Jt;en||(nr=64,He||(tn=64)),Se.push(B[qe>>2],B[(3&qe)<<4|jt>>4],B[tn],B[nr])}return Se.join("")},encodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa($):this.encodeByteArray(ce($),H)},decodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?atob($):function($){const H=[];let B=0,Se=0;for(;B<$.length;){const se=$[B++];if(se<128)H[Se++]=String.fromCharCode(se);else if(se>191&&se<224){const qe=$[B++];H[Se++]=String.fromCharCode((31&se)<<6|63&qe)}else if(se>239&&se<365){const en=((7&se)<<18|(63&$[B++])<<12|(63&$[B++])<<6|63&$[B++])-65536;H[Se++]=String.fromCharCode(55296+(en>>10)),H[Se++]=String.fromCharCode(56320+(1023&en))}else{const qe=$[B++],He=$[B++];H[Se++]=String.fromCharCode((15&se)<<12|(63&qe)<<6|63&He)}}return H.join("")}(this.decodeStringToByteArray($,H))},decodeStringToByteArray($,H){this.init_();const B=H?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let se=0;se<$.length;){const qe=B[$.charAt(se++)],jt=se<$.length?B[$.charAt(se)]:0;++se;const Jt=se<$.length?B[$.charAt(se)]:64;++se;const At=se<$.length?B[$.charAt(se)]:64;if(++se,null==qe||null==jt||null==Jt||null==At)throw Error();Se.push(qe<<2|jt>>4),64!==Jt&&(Se.push(jt<<4&240|Jt>>2),64!==At&&Se.push(Jt<<6&192|At))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},le=function($){return function($){const H=ce($);return ie.encodeByteArray(H,!0)}($).replace(/\./g,"")},W=function($){try{return ie.decodeString($,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function L($,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return H}for(const B in H)!H.hasOwnProperty(B)||!J(B)||($[B]=L($[B],H[B]));return $}function J($){return"__proto__"!==$}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,B)=>{this.resolve=H,this.reject=B})}wrapCallback(H){return(B,Se)=>{B?this.reject(B):this.resolve(Se),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(B):H(B,Se))}}}function re($,H){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=H||"demo-project",se=$.iat||0,qe=$.sub||$.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const He=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:se,exp:se+3600,auth_time:se,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},$);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(He)),""].join(".")}function Ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function me(){return"object"==typeof self&&self.self===self}function ve(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return Ce().indexOf("Electron/")>=0}function Fe(){const $=Ce();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Le(){return Ce().indexOf("MSAppHost/")>=0}function mt(){return!q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){return"object"==typeof indexedDB}function ne(){return new Promise(($,H)=>{try{let B=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Se);se.onsuccess=()=>{se.result.close(),B||self.indexedDB.deleteDatabase(Se),$(!0)},se.onupgradeneeded=()=>{B=!1},se.onerror=()=>{var qe;H((null===(qe=se.error)||void 0===qe?void 0:qe.message)||"")}}catch(B){H(B)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(H,B,Se){super(B),this.code=H,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}}class ge{constructor(H,B,Se){this.service=H,this.serviceName=B,this.errors=Se}create(H,...B){const Se=B[0]||{},se=`${this.service}/${H}`,qe=this.errors[H],He=qe?function($,H){return $.replace(Bt,(B,Se)=>{const se=H[Se];return null!=se?String(se):`<${Se}?>`})}(qe,Se):"Error";return new Pe(se,`${this.serviceName}: ${He} (${se}).`,Se)}}const Bt=/\{\$([^}]+)}/g;function cn($,H){return Object.prototype.hasOwnProperty.call($,H)}function Ot($){for(const H in $)if(Object.prototype.hasOwnProperty.call($,H))return!1;return!0}function dr($,H){if($===H)return!0;const B=Object.keys($),Se=Object.keys(H);for(const se of B){if(!Se.includes(se))return!1;const qe=$[se],He=H[se];if(rn(qe)&&rn(He)){if(!dr(qe,He))return!1}else if(qe!==He)return!1}for(const se of Se)if(!B.includes(se))return!1;return!0}function rn($){return null!==$&&"object"==typeof $}function Xr($){const H=[];for(const[B,Se]of Object.entries($))Array.isArray(Se)?Se.forEach(se=>{H.push(encodeURIComponent(B)+"="+encodeURIComponent(se))}):H.push(encodeURIComponent(B)+"="+encodeURIComponent(Se));return H.length?"&"+H.join("&"):""}function vi($){const H={};return $.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[se,qe]=Se.split("=");H[decodeURIComponent(se)]=decodeURIComponent(qe)}}),H}function Tr($){const H=$.indexOf("?");if(!H)return"";const B=$.indexOf("#",H);return $.substring(H,B>0?B:void 0)}function ki($,H){const B=new is($,H);return B.subscribe.bind(B)}class is{constructor(H,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{H(this)}).catch(Se=>{this.error(Se)})}next(H){this.forEachObserver(B=>{B.next(H)})}error(H){this.forEachObserver(B=>{B.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,B,Se){let se;if(void 0===H&&void 0===B&&void 0===Se)throw new Error("Missing Observer.");se=function($,H){if("object"!=typeof $||null===$)return!1;for(const B of["next","error","complete"])if(B in $&&"function"==typeof $[B])return!0;return!1}(H)?H:{next:H,error:B,complete:Se},void 0===se.next&&(se.next=hr),void 0===se.error&&(se.error=hr),void 0===se.complete&&(se.complete=hr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(He){}}),this.observers.push(se),qe}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,H)}sendOne(H,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{B(this.observers[H])}catch(Se){"undefined"!=typeof console&&console.error&&console.error(Se)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}function Ei($,H=1e3,B=2){const Se=H*Math.pow(B,$),se=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+se)}function so($){return $&&$._delegate?$._delegate:$}},2329:(Xe,Ae,V)=>{"use strict";V.d(Ae,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=V(5452);(0,h.registerVersion)("firebase","9.1.3","app")},7841:(Xe,Ae,V)=>{"use strict";V.d(Ae,{Z:()=>h.Z});var h=V(4486);h.Z.registerVersion("firebase","9.1.3","app-compat")},4671:(Xe,Ae,V)=>{"use strict";V.r(Ae);var h=V(8239),ee=V(4486),F=V(3854),ce=V(5452),te=V(4762),ie=V(5601),be=V(6034);const Ce=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},de=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},q=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new ie.Yd("@firebase/auth");function he(v,...f){ve.logLevel<=ie.in.ERROR&&ve.error(`Auth (${ce.SDK_VERSION}): ${v}`,...f)}function De(v,...f){throw mt(v,...f)}function Fe(v,...f){return mt(v,...f)}function Le(v,f,g){const E=Object.assign(Object.assign({},de()),{[f]:g});return new F.LL("auth","Firebase",E).create(f,{appName:v.name})}function vt(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&De(v,"argument-error"),Le(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(v,...f){if("string"!=typeof v){const g=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(g,...E)}return q.create(v,...f)}function Te(v,f,...g){if(!v)throw mt(f,...g)}function ne(v){const f="INTERNAL ASSERTION FAILED: "+v;throw he(f),new Error(f)}function oe(v,f){v||ne(f)}const fe=new Map;function ue(v){oe(v instanceof Function,"Expected a class definition");let f=fe.get(v);return f?(oe(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,fe.set(v,f),f)}function it(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Bt(){return"http:"===On()||"https:"===On()}function On(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Pn{constructor(f,g){this.shortDelay=f,this.longDelay=g,oe(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bt()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Kt(v,f){oe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class zn{static initialize(f,g,E){this.fetchImpl=f,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cn=new Pn(3e4,6e4);function ut(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Ot(v,f,g,E){return ro.apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(v,f,g,E,A={}){return dr(v,A,()=>{let M={},Z={};E&&("GET"===f?Z=E:M={body:JSON.stringify(E)});const _e=(0,F.xO)(Object.assign({key:v.config.apiKey},Z)).slice(1),Be=new(zn.headers());return Be.set("Content-Type","application/json"),Be.set("X-Client-Version",v._getSdkClientVersion()),v.languageCode&&Be.set("X-Firebase-Locale",v.languageCode),zn.fetch()(Tr(v,v.config.apiHost,g,_e),Object.assign({method:f,headers:Be,referrerPolicy:"no-referrer"},M))})})).apply(this,arguments)}function dr(v,f,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,h.Z)(function*(v,f,g){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Vr),f);try{const A=new ei(v),M=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const Z=yield M.json();if("needConfirmation"in Z)throw ki(v,"account-exists-with-different-credential",Z);if(M.ok&&!("errorMessage"in Z))return Z;{const _e=M.ok?Z.errorMessage:Z.error.message,[Be,Qe]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw ki(v,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Be)throw ki(v,"email-already-in-use",Z);const lt=E[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Le(v,lt,Qe);De(v,lt)}}catch(A){if(A instanceof F.ZR)throw A;De(v,"network-request-failed")}})).apply(this,arguments)}function Xr(v,f,g,E){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(v,f,g,E,A={}){const M=yield Ot(v,f,g,E,A);return"mfaPendingCredential"in M&&De(v,"multi-factor-auth-required",{serverResponse:M}),M})).apply(this,arguments)}function Tr(v,f,g,E){const A=`${f}${g}?${E}`;return v.config.emulator?Kt(v.config,A):`${v.config.apiScheme}://${A}`}class ei{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Fe(this.auth,"timeout")),cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ki(v,f,g){const E={appName:v.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const A=Fe(v,f,E);return A.customData._tokenResponse=g,A}function ti(){return(ti=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Cn(v,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function io(v,f){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Re(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function ln(){return(ln=(0,h.Z)(function*(v,f=!1){const g=(0,F.m9)(v),E=yield g.getIdToken(f),A=Ke(E);Te(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const M="object"==typeof A.firebase?A.firebase:void 0,Z=null==M?void 0:M.sign_in_provider;return{claims:A,token:E,authTime:Re(Ut(A.auth_time)),issuedAtTime:Re(Ut(A.iat)),expirationTime:Re(Ut(A.exp)),signInProvider:Z||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Ut(v){return 1e3*Number(v)}function Ke(v){const[f,g,E]=v.split(".");if(void 0===f||void 0===g||void 0===E)return he("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(g);return A?JSON.parse(A):(he("Failed to decode base64 JWT payload"),null)}catch(A){return he("Caught error parsing JWT payload as JSON",A),null}}function mn(v,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(E){throw E instanceof F.ZR&&Ei(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Ei({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class dn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),E)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class Ar{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Re(this.lastLoginAt),this.creationTime=Re(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function so(v){return $.apply(this,arguments)}function $(){return($=(0,h.Z)(function*(v){var f;const g=v.auth,E=yield v.getIdToken(),A=yield mn(v,io(g,{idToken:E}));Te(null==A?void 0:A.users.length,g,"internal-error");const M=A.users[0];v._notifyReloadListener(M);const Z=(null===(f=M.providerUserInfo)||void 0===f?void 0:f.length)?se(M.providerUserInfo):[],_e=Se(v.providerData,Z),lt=!!v.isAnonymous&&!(v.email&&M.passwordHash||(null==_e?void 0:_e.length)),at={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:_e,metadata:new Ar(M.createdAt,M.lastLoginAt),isAnonymous:lt};Object.assign(v,at)})).apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(v){const f=(0,F.m9)(v);yield so(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Se(v,f){return[...v.filter(E=>!f.some(A=>A.providerId===E.providerId)),...f]}function se(v){return v.map(f=>{var{providerId:g}=f,E=(0,te._T)(f,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function He(){return(He=(0,h.Z)(function*(v,f){const g=yield dr(v,{},()=>{const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:M}=v.config,Z=Tr(v,A,"/v1/token",`key=${M}`);return zn.fetch()(Z,{method:"POST",headers:{"X-Client-Version":v._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Te(f.idToken,"internal-error"),Te(void 0!==f.idToken,"internal-error"),Te(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(v){const f=Ke(v);return Te(f,"internal-error"),Te(void 0!==f.exp,"internal-error"),Te(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var E=this;return(0,h.Z)(function*(){return Te(!E.accessToken||E.refreshToken,f,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var E=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:M,expiresIn:Z}=yield function(v,f){return He.apply(this,arguments)}(f,g);E.updateTokensAndExpiration(A,M,Number(Z))})()}updateTokensAndExpiration(f,g,E){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,g){const{refreshToken:E,accessToken:A,expirationTime:M}=g,Z=new jt;return E&&(Te("string"==typeof E,"internal-error",{appName:f}),Z.refreshToken=E),A&&(Te("string"==typeof A,"internal-error",{appName:f}),Z.accessToken=A),M&&(Te("number"==typeof M,"internal-error",{appName:f}),Z.expirationTime=M),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return ne("not implemented")}}function en(v,f){Te("string"==typeof v||void 0===v,"internal-error",{appName:f})}class Jt{constructor(f){var{uid:g,auth:E,stsTokenManager:A}=f,M=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.metadata=new Ar(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const E=yield mn(g,g.stsTokenManager.getToken(g.auth,f));return Te(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(f){return function(v){return ln.apply(this,arguments)}(this,f)}reload(){return function(v){return B.apply(this,arguments)}(this)}_assign(f){this!==f&&(Te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Jt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var E=this;return(0,h.Z)(function*(){let A=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield so(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield mn(f,function(v,f){return ti.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var E,A,M,Z,_e,Be,Qe,lt;const at=null!==(E=g.displayName)&&void 0!==E?E:void 0,Fn=null!==(A=g.email)&&void 0!==A?A:void 0,ui=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,Nr=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,lh=null!==(_e=g.tenantId)&&void 0!==_e?_e:void 0,hp=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,Fm=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,dh=null!==(lt=g.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:Lm,emailVerified:Ll,isAnonymous:xo,providerData:fp,stsTokenManager:Da}=g;Te(Lm&&Da,f,"internal-error");const yc=jt.fromJSON(this.name,Da);Te("string"==typeof Lm,f,"internal-error"),en(at,f.name),en(Fn,f.name),Te("boolean"==typeof Ll,f,"internal-error"),Te("boolean"==typeof xo,f,"internal-error"),en(ui,f.name),en(Nr,f.name),en(lh,f.name),en(hp,f.name),en(Fm,f.name),en(dh,f.name);const Gi=new Jt({uid:Lm,auth:f,email:Fn,emailVerified:Ll,displayName:at,isAnonymous:xo,photoURL:Nr,phoneNumber:ui,tenantId:lh,stsTokenManager:yc,createdAt:Fm,lastLoginAt:dh});return fp&&Array.isArray(fp)&&(Gi.providerData=fp.map(Kw=>Object.assign({},Kw))),hp&&(Gi._redirectEventId=hp),Gi}static _fromIdTokenResponse(f,g,E=!1){return(0,h.Z)(function*(){const A=new jt;A.updateFromServerResponse(g);const M=new Jt({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:E});return yield so(M),M})()}}const At=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,E){var A=this;return(0,h.Z)(function*(){A.storage[g]=E})()}_get(g){var E=this;return(0,h.Z)(function*(){const A=E.storage[g];return void 0===A?null:A})()}_remove(g){var E=this;return(0,h.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return v.type="NONE",v})();function tn(v,f,g){return`firebase:${v}:${f}:${g}`}class nr{constructor(f,g,E){this.persistence=f,this.auth=g,this.userKey=E;const{config:A,name:M}=this.auth;this.fullUserKey=tn(this.userKey,A.apiKey,M),this.fullPersistenceKey=tn("persistence",A.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Jt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,E="authUser"){return(0,h.Z)(function*(){if(!g.length)return new nr(ue(At),f,E);const A=(yield Promise.all(g.map(function(){var Qe=(0,h.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let M=A[0]||ue(At);const Z=tn(E,f.config.apiKey,f.name);let _e=null;for(const Qe of g)try{const lt=yield Qe._get(Z);if(lt){const at=Jt._fromJSON(f,lt);Qe!==M&&(_e=at),M=Qe;break}}catch(lt){}const Be=A.filter(Qe=>Qe._shouldAllowMigration);return M._shouldAllowMigration&&Be.length?(M=Be[0],_e&&(yield M._set(Z,_e.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,h.Z)(function*(lt){if(lt!==M)try{yield lt._remove(Z)}catch(at){}});return function(lt){return Qe.apply(this,arguments)}}())),new nr(M,f,E)):new nr(M,f,E)})()}}function Pu(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ku(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Wo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Va(f))return"Blackberry";if(As(f))return"Webos";if(Jc(f))return"Safari";if((f.includes("chrome/")||La(f))&&!f.includes("edge/"))return"Chrome";if(Ts(f))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Wo(v=(0,F.z$)()){return/firefox\//i.test(v)}function Jc(v=(0,F.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function La(v=(0,F.z$)()){return/crios\//i.test(v)}function ku(v=(0,F.z$)()){return/iemobile/i.test(v)}function Ts(v=(0,F.z$)()){return/android/i.test(v)}function Va(v=(0,F.z$)()){return/blackberry/i.test(v)}function As(v=(0,F.z$)()){return/webos/i.test(v)}function wi(v=(0,F.z$)()){return/iphone|ipad|ipod/i.test(v)}function os(v=(0,F.z$)()){return wi(v)||Ts(v)||As(v)||Va(v)||/windows phone/i.test(v)||ku(v)}function Wn(v,f=[]){let g;switch(v){case"Browser":g=Pu((0,F.z$)());break;case"Worker":g=`${Pu((0,F.z$)())}-${v}`;break;default:g=v}const E=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${E}`}class xd{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $e(this),this.idTokenSubscription=new $e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var E=this;return g&&(this._popupRedirectResolver=ue(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A;E._deleted||(E.persistenceManager=yield nr.create(E,f),!E._deleted&&((null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(g),!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var E;let A=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,Z=null==A?void 0:A._redirectEventId,_e=yield g.tryRedirectSignIn(f);(!M||M===Z)&&(null==_e?void 0:_e.user)&&(A=_e.user)}return A?A._redirectEventId?(Te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(A){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){try{yield so(f)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const E=f?(0,F.m9)(f):null;return E&&Te(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){if(!g._deleted)return f&&Te(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,h.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(ue(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,g,E){return this.registerStateListener(this.authStateSubscription,f,g,E)}onIdTokenChanged(f,g,E){return this.registerStateListener(this.idTokenSubscription,f,g,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var E=this;return(0,h.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const E=f&&ue(f)||g._popupRedirectResolver;Te(E,g,"argument-error"),g.redirectPersistenceManager=yield nr.create(g,[ue(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var E,A;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,E,A){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(Z,this,"internal-error"),Z.then(()=>M(this.currentUser)),"function"==typeof g?f.addObserver(g,E,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ht(v){return(0,F.m9)(v)}class $e{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nn(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function as(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class ir{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ne("not implemented")}_getIdTokenResponse(f){return ne("not implemented")}_linkToIdToken(f,g){return ne("not implemented")}_getReauthenticationResolver(f){return ne("not implemented")}}function hn(v,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:resetPassword",ut(v,f))})).apply(this,arguments)}function Zo(v,f){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Lu(v,f){return us.apply(this,arguments)}function us(){return(us=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:update",ut(v,f))})).apply(this,arguments)}function ni(){return(ni=(0,h.Z)(function*(v,f){return Xr(v,"POST","/v1/accounts:signInWithPassword",ut(v,f))})).apply(this,arguments)}function Zn(v,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:sendOobCode",ut(v,f))})).apply(this,arguments)}function bi(v,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,h.Z)(function*(v,f){return Zn(v,f)})).apply(this,arguments)}function Yt(v,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(v,f){return Zn(v,f)})).apply(this,arguments)}function Rd(v,f){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(v,f){return Zn(v,f)})).apply(this,arguments)}function Nd(v,f){return ja.apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(v,f){return Zn(v,f)})).apply(this,arguments)}function xs(){return(xs=(0,h.Z)(function*(v,f){return Xr(v,"POST","/v1/accounts:signInWithEmailLink",ut(v,f))})).apply(this,arguments)}function el(){return(el=(0,h.Z)(function*(v,f){return Xr(v,"POST","/v1/accounts:signInWithEmailLink",ut(v,f))})).apply(this,arguments)}class Br extends ir{constructor(f,g,E,A=null){super("password",E),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new Br(f,g,"password")}static _fromEmailAndCode(f,g,E=null){return new Br(f,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return function(v,f){return ni.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,f){return xs.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:De(f,"internal-error")}})()}_linkToIdToken(f,g){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return Zo(f,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(v,f){return el.apply(this,arguments)}(f,{idToken:g,email:E._email,oobCode:E._password});default:De(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Gt(v,f){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,h.Z)(function*(v,f){return Xr(v,"POST","/v1/accounts:signInWithIdp",ut(v,f))})).apply(this,arguments)}class $r extends ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new $r(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):De("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A}=g,M=(0,te._T)(g,["providerId","signInMethod"]);if(!E||!A)return null;const Z=new $r(E,A);return Z.idToken=M.idToken||void 0,Z.accessToken=M.accessToken||void 0,Z.secret=M.secret,Z.nonce=M.nonce,Z.pendingToken=M.pendingToken||null,Z}_getIdTokenResponse(f){return Gt(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Gt(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Gt(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,F.xO)(g)}return f}}function Ci(v,f){return tl.apply(this,arguments)}function tl(){return(tl=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:sendVerificationCode",ut(v,f))})).apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(v,f){return Xr(v,"POST","/v1/accounts:signInWithPhoneNumber",ut(v,f))})).apply(this,arguments)}function Md(){return(Md=(0,h.Z)(function*(v,f){const g=yield Xr(v,"POST","/v1/accounts:signInWithPhoneNumber",ut(v,f));if(g.temporaryProof)throw ki(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const dm={USER_NOT_FOUND:"user-not-found"};function Od(){return(Od=(0,h.Z)(function*(v,f){return Xr(v,"POST","/v1/accounts:signInWithPhoneNumber",ut(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),dm)})).apply(this,arguments)}class Yo extends ir{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Yo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Yo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(v,f){return Ko.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(v,f){return Md.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(v,f){return Od.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:E,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:E,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:M}=f;return E||g||A||M?new Yo({verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:M}):null}}class Qo{constructor(f){var g,E,A,M,Z,_e;const Be=(0,F.zd)((0,F.pd)(f)),Qe=null!==(g=Be.apiKey)&&void 0!==g?g:null,lt=null!==(E=Be.oobCode)&&void 0!==E?E:null,at=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Be.mode)&&void 0!==A?A:null);Te(Qe&&lt&&at,"argument-error"),this.apiKey=Qe,this.operation=at,this.code=lt,this.continueUrl=null!==(M=Be.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(Z=Be.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(_e=Be.tenantId)&&void 0!==_e?_e:null}static parseLink(f){const g=function(v){const f=(0,F.zd)((0,F.pd)(v)).link,g=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(v)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||g||f||v}(f);try{return new Qo(g)}catch(E){return null}}}let Uu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,E){return Br._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const A=Qo.parseLink(E);return Te(A,"argument-error"),Br._fromEmailAndCode(g,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class lo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class $a extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Rs extends $a{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Te("providerId"in g&&"signInMethod"in g,"argument-error"),$r._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Te(f.idToken||f.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Rs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Rs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:M,nonce:Z,providerId:_e}=f;if(!E&&!A&&!g&&!M||!_e)return null;try{return new Rs(_e)._credential({idToken:g,accessToken:E,nonce:Z,pendingToken:M})}catch(Be){return null}}}let nl=(()=>{class v extends $a{constructor(){super("facebook.com")}static credential(g){return $r._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ju=(()=>{class v extends $a{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return $r._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:A}=g;if(!E&&!A)return null;try{return v.credential(E,A)}catch(M){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),rl=(()=>{class v extends $a{constructor(){super("github.com")}static credential(g){return $r._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Jo extends ir{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Gt(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Gt(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Gt(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A,pendingToken:M}=g;return E&&A&&M&&E===A?new Jo(E,M):null}static _create(f,g){return new Jo(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ii=(()=>{class v extends $a{constructor(){super("twitter.com")}static credential(g,E){return $r._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=g;if(!E||!A)return null;try{return v.credential(E,A)}catch(M){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function il(v,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(v,f){return Xr(v,"POST","/v1/accounts:signUp",ut(v,f))})).apply(this,arguments)}class Di{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,E,A=!1){return(0,h.Z)(function*(){const M=yield Jt._fromIdTokenResponse(f,E,A),Z=Pd(E);return new Di({user:M,providerId:Z,_tokenResponse:E,operationType:g})})()}static _forOperation(f,g,E){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const A=Pd(E);return new Di({user:f,providerId:A,_tokenResponse:E,operationType:g})})()}}function Pd(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function fo(){return(fo=(0,h.Z)(function*(v){var f;const g=Ht(v);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Di({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield il(g,{returnSecureToken:!0}),A=yield Di._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Bu extends F.ZR{constructor(f,g,E,A){var M;super(g.code,g.message),this.operationType=E,this.user=A,this.name="FirebaseError",Object.setPrototypeOf(this,Bu.prototype),this.appName=f.name,this.code=g.code,this.tenantId=null!==(M=f.tenantId)&&void 0!==M?M:void 0,this.serverResponse=g.customData.serverResponse}static _fromErrorAndOperation(f,g,E,A){return new Bu(f,g,E,A)}}function Ha(v,f,g,E){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Bu._fromErrorAndOperation(v,M,f,E):M})}function kd(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function po(){return(po=(0,h.Z)(function*(v,f){const g=(0,F.m9)(v);yield Fi(!0,g,f);const{providerUserInfo:E}=yield Cn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=kd(E||[]);return g.providerData=g.providerData.filter(M=>A.has(M.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Xo(v,f){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(v,f,g=!1){const E=yield mn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return Di._forOperation(v,"link",E)})).apply(this,arguments)}function Fi(v,f,g){return go.apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(v,f,g){yield so(f);const A=!1===v?"provider-already-linked":"no-such-provider";Te(kd(f.providerData).has(g)===v,f.auth,A)})).apply(this,arguments)}function ea(v,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(v,f,g=!1){const{auth:E}=v,A="reauthenticate";try{const M=yield mn(v,Ha(E,A,f,v),g);Te(M.idToken,E,"internal-error");const Z=Ke(M.idToken);Te(Z,E,"internal-error");const{sub:_e}=Z;return Te(v.uid===_e,E,"user-mismatch"),Di._forOperation(v,A,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&De(E,"user-mismatch"),M}})).apply(this,arguments)}function $u(v,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,h.Z)(function*(v,f,g=!1){const E="signIn",A=yield Ha(v,E,f),M=yield Di._fromIdTokenResponse(v,E,A);return g||(yield v._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Hu(v,f){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(v,f){return $u(Ht(v),f)})).apply(this,arguments)}function Fd(v,f){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,h.Z)(function*(v,f){const g=(0,F.m9)(v);return yield Fi(!1,g,f.providerId),Xo(g,f)})).apply(this,arguments)}function Ga(v,f){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(v,f){return ea((0,F.m9)(v),f)})).apply(this,arguments)}function Uf(v,f){return Li.apply(this,arguments)}function Li(){return(Li=(0,h.Z)(function*(v,f){return Xr(v,"POST","/v1/accounts:signInWithCustomToken",ut(v,f))})).apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(v,f){const g=Ht(v),E=yield Uf(g,{token:f,returnSecureToken:!0}),A=yield Di._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class yo{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?na._fromServerResponse(f,g):De(f,"internal-error")}}class na extends yo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new na(g)}}function qa(v,f,g){var E;Te((null===(E=g.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),Te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Te(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Te(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ra(){return(ra=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v),A={requestType:"PASSWORD_RESET",email:f};g&&qa(E,A,g),yield Yt(E,A)})).apply(this,arguments)}function ct(){return(ct=(0,h.Z)(function*(v,f,g){yield hn((0,F.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function cs(){return(cs=(0,h.Z)(function*(v,f){yield Lu((0,F.m9)(v),{oobCode:f})})).apply(this,arguments)}function ia(v,f){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(v,f){const g=(0,F.m9)(v),E=yield hn(g,{oobCode:f}),A=E.requestType;switch(Te(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(E.mfaInfo,g,"internal-error");default:Te(E.email,g,"internal-error")}let M=null;return E.mfaInfo&&(M=yo._fromServerResponse(Ht(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:M},operation:A}})).apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(v,f){const{data:g}=yield ia((0,F.m9)(v),f);return g.email})).apply(this,arguments)}function xe(){return(xe=(0,h.Z)(function*(v,f,g){const E=Ht(v),A=yield il(E,{returnSecureToken:!0,email:f,password:g}),M=yield Di._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(M.user),M})).apply(this,arguments)}function yn(){return(yn=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v),A={requestType:"EMAIL_SIGNIN",email:f};Te(g.handleCodeInApp,E,"argument-error"),g&&qa(E,A,g),yield Rd(E,A)})).apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v),A=Uu.credentialWithLink(f,g||it());return Te(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Hu(E,A)})).apply(this,arguments)}function za(v,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:createAuthUri",ut(v,f))})).apply(this,arguments)}function zu(){return(zu=(0,h.Z)(function*(v,f){const E={identifier:f,continueUri:Bt()?it():"http://localhost"},{signinMethods:A}=yield za((0,F.m9)(v),E);return A||[]})).apply(this,arguments)}function Vi(){return(Vi=(0,h.Z)(function*(v,f){const g=(0,F.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&qa(g.auth,A,f);const{email:M}=yield bi(g.auth,A);M!==v.email&&(yield v.reload())})).apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&qa(E.auth,M,g);const{email:Z}=yield Nd(E.auth,M);Z!==v.email&&(yield v.reload())})).apply(this,arguments)}function Wu(v,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(v,f){return Ot(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wa(){return(Wa=(0,h.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const E=(0,F.m9)(v),M={idToken:yield E.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Z=yield mn(E,Wu(E.auth,M));E.displayName=Z.displayName||null,E.photoURL=Z.photoUrl||null;const _e=E.providerData.find(({providerId:Be})=>"password"===Be);_e&&(_e.displayName=E.displayName,_e.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Za(v,f,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(v,f,g){const{auth:E}=v,M={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(M.email=f),g&&(M.password=g);const Z=yield mn(v,Zo(E,M));yield v._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class vo{constructor(f,g,E={}){this.isNewUser=f,this.providerId=g,this.profile=E}}class ul extends vo{constructor(f,g,E,A){super(f,g,E),this.username=A}}class jf extends vo{constructor(f,g){super(f,"facebook.com",g)}}class Bd extends ul{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Eo extends vo{constructor(f,g){super(f,"google.com",g)}}class $d extends ul{constructor(f,g,E){super(f,"twitter.com",g,E)}}function Ku(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var f,g;if(!v)return null;const{providerId:E}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},M=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const Z=null===(g=null===(f=Ke(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new vo(M,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!E)return null;switch(E){case"facebook.com":return new jf(M,A);case"github.com":return new Bd(M,A);case"google.com":return new Eo(M,A);case"twitter.com":return new $d(M,A,v.screenName||null);case"custom":case"anonymous":return new vo(M,null);default:return new vo(M,E,A)}}(g)}class Bi{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Bi("enroll",f)}static _fromMfaPendingCredential(f){return new Bi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,E;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Bi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return Bi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class cl{constructor(f,g,E){this.session=f,this.hints=g,this.signInResolver=E}static _fromError(f,g){const E=Ht(f),A=(g.serverResponse.mfaInfo||[]).map(Z=>yo._fromServerResponse(E,Z));Te(g.serverResponse.mfaPendingCredential,E,"internal-error");const M=Bi._fromMfaPendingCredential(g.serverResponse.mfaPendingCredential);return new cl(M,A,function(){var Z=(0,h.Z)(function*(_e){const Be=yield _e._process(E,M);delete g.serverResponse.mfaInfo,delete g.serverResponse.mfaPendingCredential;const Qe=Object.assign(Object.assign({},g.serverResponse),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(g.operationType){case"signIn":const lt=yield Di._fromIdTokenResponse(E,g.operationType,Qe);return yield E._updateCurrentUser(lt.user),lt;case"reauthenticate":return Te(g.user,E,"internal-error"),Di._forOperation(g.user,g.operationType,Qe);default:De(E,"internal-error")}});return function(_e){return Z.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}function Gd(v,f){return Ot(v,"POST","/v2/accounts/mfaEnrollment:start",ut(v,f))}class ua{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>yo._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new ua(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Bi._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var E=this;return(0,h.Z)(function*(){const A=f,M=yield E.getSession(),Z=yield mn(E.user,A._process(E.user.auth,M,g));return yield E.user._updateTokensIfNecessary(Z),E.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const E="string"==typeof f?f:f.uid,A=yield g.user.getIdToken(),M=yield mn(g.user,function(v,f){return Ot(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(v,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Z})=>Z!==E),yield g.user._updateTokensIfNecessary(M);try{yield g.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const ca=new WeakMap,wo="__sak";class dl{constructor(f,g){this.storage=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(wo,"1"),this.storage.removeItem(wo),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}}const Qu=(()=>{class v extends dl{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,F.z$)();return Jc(v)||wi(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=os(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),M=this.localCache[E];A!==M&&g(E,M,A)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((_e,Be,Qe)=>{this.notifyListeners(_e,Qe)});const A=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(A);if(g.newValue!==_e)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!E)return}const M=()=>{const _e=this.storage.getItem(A);!E&&this.localCache[A]===_e||this.notifyListeners(A,_e)},Z=this.storage.getItem(A);(0,F.w1)()&&10===document.documentMode&&Z!==g.newValue&&g.newValue!==g.oldValue?setTimeout(M,10):M()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const M of Array.from(A))M(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var A=()=>super._set,M=this;return(0,h.Z)(function*(){yield A().call(M,g,E),M.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,A=this;return(0,h.Z)(function*(){const M=yield E().call(A,g);return A.localCache[g]=JSON.stringify(M),M})()}_remove(g){var E=()=>super._remove,A=this;return(0,h.Z)(function*(){yield E().call(A,g),delete A.localCache[g]})()}}return v.type="LOCAL",v})(),hs=(()=>{class v extends dl{constructor(){super(window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return v.type="SESSION",v})();let ks=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(M=>M.isListeningto(g));if(E)return E;const A=new v(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,h.Z)(function*(){const A=g,{eventId:M,eventType:Z,data:_e}=A.data,Be=E.handlersMap[Z];if(!(null==Be?void 0:Be.size))return;A.ports[0].postMessage({status:"ack",eventId:M,eventType:Z});const Qe=Array.from(Be).map(function(){var at=(0,h.Z)(function*(Fn){return Fn(A.origin,_e)});return function(Fn){return at.apply(this,arguments)}}()),lt=yield function(v){return Promise.all(v.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return f.apply(this,arguments)}}()))}(Qe);A.ports[0].postMessage({status:"done",eventId:M,eventType:Z,response:lt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ya(v="",f=10){let g="";for(let E=0;E<f;E++)g+=Math.floor(10*Math.random());return v+g}class ym{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,E=50){var A=this;return(0,h.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let Z,_e;return new Promise((Be,Qe)=>{const lt=Ya("",20);M.port1.start();const at=setTimeout(()=>{Qe(new Error("unsupported_event"))},E);_e={messageChannel:M,onMessage(Fn){const ui=Fn;if(ui.data.eventId===lt)switch(ui.data.status){case"ack":clearTimeout(at),Z=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Be(ui.data.response);break;default:clearTimeout(at),clearTimeout(Z),Qe(new Error("invalid_response"))}}},A.handlers.add(_e),M.port1.addEventListener("message",_e.onMessage),A.target.postMessage({eventType:f,eventId:lt,data:g},[M.port2])}).finally(()=>{_e&&A.removeMessageHandler(_e)})})()}}function an(){return window}function Ju(){return void 0!==an().WorkerGlobalScope&&"function"==typeof an().importScripts}function Xu(){return(Xu=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const zd="firebaseLocalStorageDb",tu="firebaseLocalStorage",la="fbase_key";class tc{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function da(v,f){return v.transaction([tu],f?"readwrite":"readonly").objectStore(tu)}function _n(){const v=indexedDB.open(zd,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(tu,{keyPath:la})}catch(A){g(A)}}),v.addEventListener("success",(0,h.Z)(function*(){const E=v.result;E.objectStoreNames.contains(tu)?f(E):(E.close(),yield function(){const v=indexedDB.deleteDatabase(zd);return new tc(v).toPromise()}(),f(yield _n()))}))})}function Jn(v,f,g){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,h.Z)(function*(v,f,g){const E=da(v,!0).put({[la]:f,value:g});return new tc(E).toPromise()})).apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(v,f){const g=da(v,!1).get(f),E=yield new tc(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ha(v,f){const g=da(v,!0).delete(f);return new tc(g).toPromise()}const bo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield _n()),g.db})()}_withRetries(g){var E=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const M=yield E._openDb();return yield g(M)}catch(M){if(A++>3)throw M;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return Ju()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=ks._getInstance(Ju()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(A,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(A,M){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(A,M){return["keyChanged"]});return function(A,M){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var E,A;if(g.activeServiceWorker=yield function(){return Xu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ym(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);!M||(null===(E=M[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=M[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield _n();return yield Jn(g,wo,"1"),yield ha(g,wo),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(M=>Jn(M,g,E)),A.localCache[g]=E,A.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,h.Z)(function*(){const A=yield E._withRetries(M=>function(v,f){return mr.apply(this,arguments)}(M,g));return E.localCache[g]=A,A})()}_remove(g){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(A=>ha(A,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const E=yield g._withRetries(Z=>{const _e=da(Z,!1).getAll();return new tc(_e).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const A=[],M=new Set;for(const{fbase_key:Z,value:_e}of E)M.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(_e)&&(g.notifyListeners(Z,_e),A.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!M.has(Z)&&(g.notifyListeners(Z,null),A.push(Z));return A})()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const M of Array.from(A))M(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function $i(v,f){return Ot(v,"POST","/v2/accounts/mfaSignIn:start",ut(v,f))}function pl(){return(pl=(0,h.Z)(function*(v){return(yield Ot(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Co(v){return new Promise((f,g)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=f,E.onerror=A=>{const M=Fe("internal-error");M.customData=A,g(M)},E.type="text/javascript",E.charset="UTF-8",function(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(E)})}function nu(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ps=1e12;class nc{constructor(f){this.auth=f,this.counter=ps,this._widgets=new Map}render(f,g){const E=this.counter;return this._widgets.set(E,new ml(f,this.auth.name,g||{})),this.counter++,E}reset(f){var g;const E=f||ps;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ps))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var E;return null===(E=g._widgets.get(f||ps))||void 0===E||E.execute(),""})()}}class ml{constructor(f,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;Te(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gs=nu("rcb"),Ls=new Pn(3e4,6e4);class fn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!an().grecaptcha}load(f,g=""){return Te((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(an().grecaptcha):new Promise((E,A)=>{const M=an().setTimeout(()=>{A(Fe(f,"network-request-failed"))},Ls.get());an()[gs]=()=>{an().clearTimeout(M),delete an()[gs];const _e=an().grecaptcha;if(!_e)return void A(Fe(f,"internal-error"));const Be=_e.render;_e.render=(Qe,lt)=>{const at=Be(Qe,lt);return this.counter++,at},this.hostLanguage=g,E(_e)},Co(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:gs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),A(Fe(f,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!an().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vs{load(f){return(0,h.Z)(function*(){return new nc(f)})()}clearedOneInstance(){}}const sc="recaptcha",Zd={theme:"light",type:"image"};class oc{constructor(f,g=Object.assign({},Zd),E){this.parameters=g,this.type=sc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ht(E),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;Te(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vs:new fn,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(g)||new Promise(M=>{const Z=_e=>{!_e||(f.tokenChangeListeners.delete(Z),M(_e))};f.tokenChangeListeners.add(Z),f.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof f)f(g);else if("string"==typeof f){const E=an()[f];"function"==typeof E&&E(g)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){Te(Bt()&&!Ju(),f.auth,"internal-error"),yield function(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(v){return pl.apply(this,arguments)}(f.auth);Te(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ac{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Yo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function yl(){return(yl=(0,h.Z)(function*(v,f,g){const E=Ht(v),A=yield uc(E,f,(0,F.m9)(g));return new ac(A,M=>Hu(E,M))})).apply(this,arguments)}function Wf(){return(Wf=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);yield Fi(!1,E,"phone");const A=yield uc(E.auth,f,(0,F.m9)(g));return new ac(A,M=>Fd(E,M))})).apply(this,arguments)}function Kd(){return(Kd=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v),A=yield uc(E.auth,f,(0,F.m9)(g));return new ac(A,M=>Ga(E,M))})).apply(this,arguments)}function uc(v,f,g){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,h.Z)(function*(v,f,g){var E;const A=yield g.verify();try{let M;if(Te("string"==typeof A,v,"argument-error"),Te(g.type===sc,v,"argument-error"),M="string"==typeof f?{phoneNumber:f}:f,"session"in M){const Z=M.session;if("phoneNumber"in M)return Te("enroll"===Z.type,v,"internal-error"),(yield Gd(v,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Te("signin"===Z.type,v,"internal-error");const _e=(null===(E=M.multiFactorHint)||void 0===E?void 0:E.uid)||M.multiFactorUid;return Te(_e,v,"missing-multi-factor-info"),(yield $i(v,{mfaPendingCredential:Z.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Ci(v,{phoneNumber:M.phoneNumber,recaptchaToken:A});return Z}}finally{g._reset()}})).apply(this,arguments)}function _l(){return(_l=(0,h.Z)(function*(v,f){yield Xo((0,F.m9)(v),f)})).apply(this,arguments)}let pa=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Ht(g)}verifyPhoneNumber(g,E){return uc(this.auth,g,(0,F.m9)(E))}static credential(g,E){return Yo._fromVerification(g,E)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:A}=g;return E&&A?Yo._fromTokenResponse(E,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ys(v,f){return f?ue(f):(Te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Us extends ir{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Gt(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Gt(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Gt(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Kf(v){return $u(v.auth,new Us(v),v.bypassAuthState)}function kn(v){const{auth:f,user:g}=v;return Te(g,f,"internal-error"),ea(g,new Us(v),v.bypassAuthState)}function cc(v){return js.apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(v){const{auth:f,user:g}=v;return Te(g,f,"internal-error"),Xo(g,new Us(v),v.bypassAuthState)})).apply(this,arguments)}class ga{constructor(f,g,E,A,M=!1){this.auth=f,this.resolver=E,this.user=A,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(E,A){f.pendingPromise={resolve:E,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(M){f.reject(M)}});return function(E,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:M,tenantId:Z,error:_e,type:Be}=f;if(_e)return void g.reject(_e);const Qe={auth:g.auth,requestUri:E,sessionId:A,tenantId:Z||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(Qe))}catch(lt){g.reject(lt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Kf;case"linkViaPopup":case"linkViaRedirect":return cc;case"reauthViaPopup":case"reauthViaRedirect":return kn;default:De(this.auth,"internal-error")}}resolve(f){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yf=new Pn(2e3,1e4);function ii(){return(ii=(0,h.Z)(function*(v,f,g){const E=Ht(v);vt(v,f,lo);const A=ys(E,g);return new _s(E,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);vt(E.auth,f,lo);const A=ys(E.auth,g);return new _s(E.auth,"reauthViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);vt(E.auth,f,lo);const A=ys(E.auth,g);return new _s(E.auth,"linkViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}let _s=(()=>{class v extends ga{constructor(g,E,A,M,Z){super(g,E,M,Z),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const E=yield g.execute();return Te(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,h.Z)(function*(){oe(1===g.filter.length,"Popup operations only handle one event");const E=Ya();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Fe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Yf.get())};g()}}return v.currentPopupAction=null,v})();const si=new Map;class Qf extends ga{constructor(f,g,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let E=si.get(g.auth._key());if(!E){try{const M=(yield function(v,f){return C.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;E=()=>Promise.resolve(M)}catch(A){E=()=>Promise.reject(A)}si.set(g.auth._key(),E)}return E()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(E,f);if("unknown"!==f.type){if(f.eventId){const A=yield E.auth._redirectUserForId(f.eventId);if(A)return E.user=A,g().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function C(){return(C=(0,h.Z)(function*(v,f){const g=pe(f),E="true"===(yield Q(v)._get(g));return yield Q(v)._remove(g),E})).apply(this,arguments)}function D(v,f){return x.apply(this,arguments)}function x(){return(x=(0,h.Z)(function*(v,f){return Q(v)._set(pe(f),"true")})).apply(this,arguments)}function Q(v){return ue(v._redirectPersistence)}function pe(v){return tn("pendingRedirect",v.config.apiKey,v.name)}function Ge(){return(Ge=(0,h.Z)(function*(v,f,g){const E=Ht(v);vt(v,f,lo);const A=ys(E,g);return yield D(A,E),A._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function xn(){return(xn=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);vt(E.auth,f,lo);const A=ys(E.auth,g);yield D(A,E.auth);const M=yield wl(E);return A._openRedirect(E.auth,f,"reauthViaRedirect",M)})).apply(this,arguments)}function Xn(){return(Xn=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);vt(E.auth,f,lo);const A=ys(E.auth,g);yield Fi(!1,E,f.providerId),yield D(A,E.auth);const M=yield wl(E);return A._openRedirect(E.auth,f,"linkViaRedirect",M)})).apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(v,f){return yield Ht(v)._initializationPromise,_r(v,f,!1)})).apply(this,arguments)}function _r(v,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(v,f,g=!1){const E=Ht(v),A=ys(E,f),Z=yield new Qf(E,A,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield E._persistUserIfCurrent(Z.user),yield E._setRedirectUser(null,f)),Z})).apply(this,arguments)}function wl(v){return bl.apply(this,arguments)}function bl(){return(bl=(0,h.Z)(function*(v){const f=Ya(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Cl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(g=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ru(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var E;if(f.error&&!ru(f)){const A=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Fe(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const E=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Io(f))}saveEventToCache(f){this.cachedEventUids.add(Io(f)),this.lastProcessedEventTime=Date.now()}}function Io(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function ru({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function vn(v){return ya.apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(v,f={}){return Ot(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Gw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iu=/^https?/;function Jf(){return(Jf=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield vn(v);for(const g of f)try{if(_m(g))return}catch(E){}De(v,"unauthorized-domain")})).apply(this,arguments)}function _m(v){const f=it(),{protocol:g,hostname:E}=new URL(f);if(v.startsWith("chrome-extension://")){const Z=new URL(v);return""===Z.hostname&&""===E?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===E}if(!iu.test(g))return!1;if(Gw.test(v))return E===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const Qd=new Pn(3e4,6e4);function av(){const v=an().___jsl;if(null==v?void 0:v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Ai=null;function Jd(v){return Ai=Ai||function(v){return new Promise((f,g)=>{var E,A,M;function Z(){av(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{av(),g(Fe(v,"network-request-failed"))},timeout:Qd.get()})}if(null===(A=null===(E=an().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)f(gapi.iframes.getContext());else{if(!(null===(M=an().gapi)||void 0===M?void 0:M.load)){const _e=nu("iframefcb");return an()[_e]=()=>{gapi.load?Z():g(Fe(v,"network-request-failed"))},Co(`https://apis.google.com/js/api.js?onload=${_e}`)}Z()}}).catch(f=>{throw Ai=null,f})}(v),Ai}const _a=new Pn(5e3,15e3),ep={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Xd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tp(v){const f=v.config;Te(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?Kt(f,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:v.name,v:ce.SDK_VERSION},A=Xd.get(v.config.apiHost);A&&(E.eid=A);const M=v._getFrameworks();return M.length&&(E.fw=M.join(",")),`${g}?${(0,F.xO)(E).slice(1)}`}function Do(){return(Do=(0,h.Z)(function*(v){const f=yield Jd(v),g=an().gapi;return Te(g,v,"internal-error"),f.open({where:document.body,url:tp(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ep,dontclear:!0},E=>new Promise(function(){var A=(0,h.Z)(function*(M,Z){yield E.restyle({setHideOnLeave:!1});const _e=Fe(v,"network-request-failed"),Be=an().setTimeout(()=>{Z(_e)},_a.get());function Qe(){an().clearTimeout(Be),M(E)}E.ping(Qe).then(Qe,()=>{Z(_e)})});return function(M,Z){return A.apply(this,arguments)}}()))})).apply(this,arguments)}const ar={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wm{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function dc(v,f,g,E,A,M){Te(v.config.authDomain,v,"auth-domain-config-required"),Te(v.config.apiKey,v,"invalid-api-key");const Z={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:E,v:ce.SDK_VERSION,eventId:A};if(f instanceof lo){f.setDefaultLanguage(v.languageCode),Z.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(Z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Be,Qe]of Object.entries(M||{}))Z[Be]=Qe}if(f instanceof $a){const Be=f.getScopes().filter(Qe=>""!==Qe);Be.length>0&&(Z.scopes=Be.join(","))}v.tenantId&&(Z.tid=v.tenantId);const _e=Z;for(const Be of Object.keys(_e))void 0===_e[Be]&&delete _e[Be];return`${function({config:v}){return v.emulator?Kt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,F.xO)(_e).slice(1)}`}const Ea="webStorageSupport";class su extends class{constructor(f){this.factorId=f}_process(f,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,E);case"signin":return this._finalizeSignIn(f,g.credential);default:return ne("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new su(f)}_finalizeEnroll(f,g,E){return function(v,f){return Ot(v,"POST","/v2/accounts/mfaEnrollment:finalize",ut(v,f))}(f,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(v,f){return Ot(v,"POST","/v2/accounts/mfaSignIn:finalize",ut(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let eh=(()=>{class v{constructor(){}static assertion(g){return su._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,ip="@firebase/auth";class Im{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(E=>{var A;f((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function au(){return window}function Si(){return(Si=(0,h.Z)(function*(v,f,g){var E;const{BuildInfo:A}=au();oe(f.sessionId,"AuthEvent did not contain a session ID");const M=yield Sm(f.sessionId),Z={};return wi()?Z.ibi=A.packageName:Ts()?Z.apn=A.packageName:De(v,"operation-not-supported-in-this-environment"),A.displayName&&(Z.appDisplayName=A.displayName),Z.sessionId=M,dc(v,g,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,Z)})).apply(this,arguments)}function th(){return(th=(0,h.Z)(function*(v){const{BuildInfo:f}=au(),g={};wi()?g.iosBundleId=f.packageName:Ts()?g.androidPackageName=f.packageName:De(v,"operation-not-supported-in-this-environment"),yield vn(v,g)})).apply(this,arguments)}function nh(){return(nh=(0,h.Z)(function*(v,f,g){const{cordova:E}=au();let A=()=>{};try{yield new Promise((M,Z)=>{let _e=null;function Be(){var at;M();const Fn=null===(at=E.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Fn&&Fn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Qe(){_e||(_e=window.setTimeout(()=>{Z(Fe(v,"redirect-cancelled-by-user"))},2e3))}function lt(){"visible"===(null==document?void 0:document.visibilityState)&&Qe()}f.addPassiveListener(Be),document.addEventListener("resume",Qe,!1),Ts()&&document.addEventListener("visibilitychange",lt,!1),A=()=>{f.removePassiveListener(Be),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",lt,!1),_e&&window.clearTimeout(_e)}})}finally{A()}})).apply(this,arguments)}function Sm(v){return op.apply(this,arguments)}function op(){return(op=(0,h.Z)(function*(v){const f=vr(v),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vr(v){if(oe(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),g=new Uint8Array(f);for(let E=0;E<v.length;E++)g[E]=v.charCodeAt(E);return g}v="Browser",(0,ce._registerComponent)(new be.wA("auth",(f,{options:g})=>{const E=f.getProvider("app").getImmediate(),{apiKey:A,authDomain:M}=E.options;return(Z=>{Te(A&&!A.includes(":"),"invalid-api-key",{appName:Z.name}),Te(!(null==M?void 0:M.includes(":")),"argument-error",{appName:Z.name});const _e={apiKey:A,authDomain:M,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wn(v)},Be=new xd(Z,_e);return function(v,f){const g=(null==f?void 0:f.persistence)||[],E=(Array.isArray(g)?g:[g]).map(ue);(null==f?void 0:f.errorMap)&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(Be,g),Be})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,E)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new be.wA("auth-internal",f=>{const g=Ht(f.getProvider("auth").getImmediate());return new Im(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(ip,"0.18.3",void 0),(0,ce.registerVersion)(ip,"0.18.3","esm2017");class hv extends Cl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function ap(v){return uu.apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(v){const f=yield wa()._get(Tl(v));return f&&(yield wa()._remove(Tl(v))),f})).apply(this,arguments)}function Gs(){const v=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*f.length);v.push(f.charAt(E))}return v.join("")}function wa(){return ue(Qu)}function Tl(v){return tn("authEvent",v.config.apiKey,v.name)}function xt(v){if(!(null==v?void 0:v.includes("?")))return{};const[f,...g]=v.split("?");return(0,F.zd)(g.join("?"))}function ih(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Fe("no-auth-event")}}function Ca(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Rl(v=(0,F.z$)()){return!("file:"!==Ca()&&"ionic:"!==Ca()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nl(){try{const v=self.localStorage,f=Ya();if(v)return v.setItem(f,"1"),v.removeItem(f),!function(v=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,F.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,F.hl)()}catch(v){return lp()&&(0,F.hl)()}return!1}function lp(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function En(){return("http:"===Ca()||"https:"===Ca()||(0,F.ru)()||Rl())&&!((0,F.b$)()||(0,F.UG)())&&Nl()&&!lp()}function Rm(){return Rl()&&"undefined"!=typeof document}function Ml(){return(Ml=(0,h.Z)(function*(){return!!Rm()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const ai={LOCAL:"local",NONE:"none",SESSION:"session"},Ol=Te,Nm="persistence";function ah(v){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,h.Z)(function*(v){yield v._initializationPromise;const f=Ao(),g=tn(Nm,v.config.apiKey,v.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,v._getPersistence())})).apply(this,arguments)}function Ao(){return"undefined"!=typeof window?window:null}const So=Te;class In{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hs,this._completeRedirectFn=_r}_openPopup(f,g,E,A){var M=this;return(0,h.Z)(function*(){var Z;oe(null===(Z=M.eventManagers[f._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const _e=dc(f,g,E,it(),A);return function(v,f,g,E=500,A=600){const M=Math.max((window.screen.availHeight-A)/2,0).toString(),Z=Math.max((window.screen.availWidth-E)/2,0).toString();let _e="";const Be=Object.assign(Object.assign({},ar),{width:E.toString(),height:A.toString(),top:M,left:Z}),Qe=(0,F.z$)().toLowerCase();g&&(_e=La(Qe)?"_blank":g),Wo(Qe)&&(f=f||"http://localhost",Be.scrollbars="yes");const lt=Object.entries(Be).reduce((Fn,[ui,Nr])=>`${Fn}${ui}=${Nr},`,"");if(function(v=(0,F.z$)()){var f;return wi(v)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Qe)&&"_self"!==_e)return function(v,f){const g=document.createElement("a");g.href=v,g.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(f||"",_e),new wm(null);const at=window.open(f||"",_e,lt);Te(at,v,"popup-blocked");try{at.focus()}catch(Fn){}return new wm(at)}(f,_e,Ya())})()}_openRedirect(f,g,E,A){var M=this;return(0,h.Z)(function*(){return yield M._originValidation(f),v=dc(f,g,E,it(),A),an().location.href=v,new Promise(()=>{});var v})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:M}=this.eventManagers[g];return A?Promise.resolve(A):(oe(M,"If manager is not set, promise should be"),M)}const E=this.initAndGetManager(f);return this.eventManagers[g]={promise:E},E}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const E=yield function(v){return Do.apply(this,arguments)}(f),A=new Cl(f);return E.register("authEvent",M=>(Te(null==M?void 0:M.authEvent,f,"invalid-auth-event"),{status:A.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=E,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ea,{type:Ea},A=>{var M;const Z=null===(M=null==A?void 0:A[0])||void 0===M?void 0:M[Ea];void 0!==Z&&g(!!Z),De(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Jf.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return os()||Jc()||wi()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=hs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_r}_initialize(f){var g=this;return(0,h.Z)(function*(){const E=f._key();let A=g.eventManagers.get(E);return A||(A=new hv(f),g.eventManagers.set(E,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){De(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,E,A){var M=this;return(0,h.Z)(function*(){!function(v){var f,g,E,A,M,Z,_e,Be,Qe,lt;const at=au();Te("function"==typeof(null===(f=null==at?void 0:at.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(M=null===(A=null===(E=null==at?void 0:at.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===M?void 0:M.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Be=null===(_e=null===(Z=null==at?void 0:at.cordova)||void 0===Z?void 0:Z.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Be?void 0:Be.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(lt=null===(Qe=null==at?void 0:at.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===lt?void 0:lt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Z=yield M._initialize(f);yield Z.initialized(),Z.resetRedirect(),si.clear(),yield M._originValidation(f);const _e=function(v,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Gs(),postBody:null,tenantId:v.tenantId,error:Fe(v,"no-auth-event")}}(f,E,A);yield function(v,f){return wa()._set(Tl(v),f)}(f,_e);const Be=yield function(v,f,g){return Si.apply(this,arguments)}(f,_e,g),Qe=yield function(v){const{cordova:f}=au();return new Promise(g=>{f.plugins.browsertab.isAvailable(E=>{let A=null;E?f.plugins.browsertab.openUrl(v):A=f.InAppBrowser.open(v,function(v=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(A)})})}(Be);return function(v,f,g){return nh.apply(this,arguments)}(f,Z,Qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return th.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:E,handleOpenURL:A,BuildInfo:M}=au(),Z=setTimeout((0,h.Z)(function*(){yield ap(f),g.onEvent(ih())}),500),_e=function(){var lt=(0,h.Z)(function*(at){clearTimeout(Z);const Fn=yield ap(f);let ui=null;Fn&&(null==at?void 0:at.url)&&(ui=function(v,f){var g,E;const A=function(v){const f=xt(v),g=f.link?decodeURIComponent(f.link):void 0,E=xt(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return xt(A).link||A||E||g||v}(f);if(A.includes("/__/auth/callback")){const M=xt(A),Z=M.firebaseError?function(v){try{return JSON.parse(v)}catch(f){return null}}(decodeURIComponent(M.firebaseError)):null,_e=null===(E=null===(g=null==Z?void 0:Z.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Be=_e?Fe(_e):null;return Be?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(Fn,at.url)),g.onEvent(ui||ih())});return function(Fn){return lt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,_e);const Be=A,Qe=`${M.packageName.toLowerCase()}://`;au().handleOpenURL=function(){var lt=(0,h.Z)(function*(at){if(at.toLowerCase().startsWith(Qe)&&_e({url:at}),"function"==typeof Be)try{Be(at)}catch(Fn){console.error(Fn)}});return function(at){return lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=hs,this._completeRedirectFn=_r}_initialize(f){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,E,A){var M=this;return(0,h.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(f,g,E,A)})()}_openRedirect(f,g,E,A){var M=this;return(0,h.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(f,g,E,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Rm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return So(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return Ml.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function kl(v){return v.unwrap()}function lu(v){return pc(v)}function pc(v){const{_tokenResponse:f}=v instanceof F.ZR?v.customData:v;if(!f)return null;if(!(v instanceof F.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return pa.credentialFromResult(v);const g=f.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=ju;break;case"facebook.com":E=nl;break;case"github.com":E=rl;break;case"twitter.com":E=Ii;break;default:const{oauthIdToken:A,oauthAccessToken:M,oauthTokenSecret:Z,pendingToken:_e,nonce:Be}=f;return M||Z||A||_e?_e?g.startsWith("saml.")?Jo._create(g,_e):$r._fromParams({providerId:g,signInMethod:g,pendingToken:_e,idToken:A,accessToken:M}):new Rs(g).credential({idToken:A,accessToken:M,rawNonce:Be}):null}return v instanceof F.ZR?E.credentialFromError(v):E.credentialFromResult(v)}function er(v,f){return f.catch(g=>{throw g instanceof F.ZR&&function(v,f){var g;const E=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new dp(v,function(v,f){var g;const E=(0,F.m9)(v),A=f;return Te(f.operationType,E,"argument-error"),Te(null===(g=A.serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),cl._fromError(E,A)}(v,f));else if(E){const A=pc(f),M=f;A&&(M.credential=A,M.tenantId=E.tenantId||void 0,M.email=E.email||void 0,M.phoneNumber=E.phoneNumber||void 0)}}(v,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:lu(g),additionalUserInfo:Ku(g),user:Es.getOrCreate(A)}})}function uh(v,f){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,h.Z)(function*(v,f){const g=yield f;return{verificationId:g.verificationId,confirm:E=>er(v,g.confirm(E))}})).apply(this,arguments)}class dp{constructor(f,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return er(kl(this.auth),this.resolver.resolveSignIn(f))}}class Es{constructor(f){this._delegate=f,this.multiFactor=function(v){const f=(0,F.m9)(v);return ca.has(f)||ca.set(f,ua._fromUser(f)),ca.get(f)}(f)}static getOrCreate(f){return Es.USER_MAP.has(f)||Es.USER_MAP.set(f,new Es(f)),Es.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,h.Z)(function*(){return er(g.auth,Fd(g._delegate,f))})()}linkWithPhoneNumber(f,g){var E=this;return(0,h.Z)(function*(){return uh(E.auth,function(v,f,g){return Wf.apply(this,arguments)}(E._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,h.Z)(function*(){return er(g.auth,function(v,f,g){return un.apply(this,arguments)}(g._delegate,f,In))})()}linkWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield ah(Ht(g.auth)),function(v,f,g){return function(v,f,g){return Xn.apply(this,arguments)}(v,f,g)}(g._delegate,f,In)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,h.Z)(function*(){return er(g.auth,Ga(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return uh(this.auth,function(v,f,g){return Kd.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return er(this.auth,function(v,f,g){return Bs.apply(this,arguments)}(this._delegate,f,In))}reauthenticateWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield ah(Ht(g.auth)),function(v,f,g){return function(v,f,g){return xn.apply(this,arguments)}(v,f,g)}(g._delegate,f,In)})()}sendEmailVerification(f){return function(v,f){return Vi.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,h.Z)(function*(){return yield function(v,f){return po.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(v,f){return Za((0,F.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function(v,f){return Za((0,F.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(v,f){return _l.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(v,f){return Wa.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(v,f,g){return Rr.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Es.USER_MAP=new WeakMap;const Ia=Te;let Pm=(()=>{class v{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Ia(A,"invalid-api-key",{appName:g.name});let M=[At];if("undefined"!=typeof window){M=function(v,f){const g=Ao();if(!(null==g?void 0:g.sessionStorage))return[];const E=tn(Nm,v,f);switch(g.sessionStorage.getItem(E)){case ai.NONE:return[At];case ai.LOCAL:return[bo,hs];case ai.SESSION:return[hs];default:return[]}}(A,g.name);for(const _e of[bo,Qu,hs])M.includes(_e)||M.push(_e)}Ia(A,"invalid-api-key",{appName:g.name});const Z="undefined"!=typeof window?In:void 0;this._delegate=E.initialize({options:{persistence:M,popupRedirectResolver:Z}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(v,f,g){const E=Ht(v);Te(E._canInitEmulator,E,"emulator-config-failed"),Te(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),M=nn(f),{host:Z,port:_e}=function(v){const f=nn(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const M=A[1];return{host:M,port:as(E.substr(M.length+1))}}{const[M,Z]=E.split(":");return{host:M,port:as(Z)}}}(f);E.config.emulator={url:`${M}//${Z}${null===_e?"":`:${_e}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Z,port:_e,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,E)}applyActionCode(g){return function(v,f){return cs.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ia(this._delegate,g)}confirmPasswordReset(g,E){return function(v,f,g){return ct.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var A=this;return(0,h.Z)(function*(){return er(A._delegate,function(v,f,g){return xe.apply(this,arguments)}(A._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,f){return zu.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,f){const g=Qo.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){Ia(En(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(v,f){return oi.apply(this,arguments)}(g._delegate,In);return E?er(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,f){Ht(v)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,E,A){const{next:M,error:Z,complete:_e}=gc(g,E,A);return this._delegate.onAuthStateChanged(M,Z,_e)}onIdTokenChanged(g,E,A){const{next:M,error:Z,complete:_e}=gc(g,E,A);return this._delegate.onIdTokenChanged(M,Z,_e)}sendSignInLinkToEmail(g,E){return function(v,f,g){return yn.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(v,f,g){return ra.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,h.Z)(function*(){let A;switch(function(v,f){Ol(Object.values(ai).includes(f),v,"invalid-persistence-type"),(0,F.b$)()?Ol(f!==ai.SESSION,v,"unsupported-persistence-type"):(0,F.UG)()?Ol(f===ai.NONE,v,"unsupported-persistence-type"):lp()?Ol(f===ai.NONE||f===ai.LOCAL&&(0,F.hl)(),v,"unsupported-persistence-type"):Ol(f===ai.NONE||Nl(),v,"unsupported-persistence-type")}(E._delegate,g),g){case ai.SESSION:A=hs;break;case ai.LOCAL:A=(yield ue(bo)._isAvailable())?bo:Qu;break;case ai.NONE:A=At;break;default:return De("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return er(this._delegate,function(v){return fo.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return er(this._delegate,Hu(this._delegate,g))}signInWithCustomToken(g){return er(this._delegate,function(v,f){return Yn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return er(this._delegate,function(v,f,g){return Hu((0,F.m9)(v),Uu.credential(f,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return er(this._delegate,function(v,f,g){return ri.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return uh(this._delegate,function(v,f,g){return yl.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,h.Z)(function*(){return Ia(En(),E._delegate,"operation-not-supported-in-this-environment"),er(E._delegate,function(v,f,g){return ii.apply(this,arguments)}(E._delegate,g,In))})()}signInWithRedirect(g){var E=this;return(0,h.Z)(function*(){return Ia(En(),E._delegate,"operation-not-supported-in-this-environment"),yield ah(E._delegate),function(v,f,g){return function(v,f,g){return Ge.apply(this,arguments)}(v,f,g)}(E._delegate,g,In)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,f){return ls.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=ai,v})();function gc(v,f,g){let E=v;"function"!=typeof v&&({next:E,error:f,complete:g}=v);const A=E;return{next:Z=>A(Z&&Es.getOrCreate(Z)),error:f,complete:g}}class ch{constructor(){this.providerId="phone",this._delegate=new pa(kl(ee.Z.auth()))}static credential(f,g){return pa.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}ch.PHONE_SIGN_IN_METHOD=pa.PHONE_SIGN_IN_METHOD,ch.PROVIDER_ID=pa.PROVIDER_ID;const _v=Te;class vv{constructor(f,g,E=ee.Z.app()){var A;_v(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new oc(f,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new be.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new Pm(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Uu,FacebookAuthProvider:nl,GithubAuthProvider:rl,GoogleAuthProvider:ju,OAuthProvider:Rs,PhoneAuthProvider:ch,PhoneMultiFactorGenerator:eh,RecaptchaVerifier:vv,TwitterAuthProvider:Ii,Auth:Pm,AuthCredential:ir,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.1.6")}(ee.Z)},6676:function(Xe,Ae){!function(V){"use strict";function h(q){return Array.prototype.slice.call(q)}function ee(q){return new Promise(function(me,ve){q.onsuccess=function(){me(q.result)},q.onerror=function(){ve(q.error)}})}function F(q,me,ve){var he,De=new Promise(function(Fe,Le){ee(he=q[me].apply(q,ve)).then(Fe,Le)});return De.request=he,De}function ce(q,me,ve){var he=F(q,me,ve);return he.then(function(De){if(De)return new k(De,he.request)})}function te(q,me,ve){ve.forEach(function(he){Object.defineProperty(q.prototype,he,{get:function(){return this[me][he]},set:function(De){this[me][he]=De}})})}function ie(q,me,ve,he){he.forEach(function(De){De in ve.prototype&&(q.prototype[De]=function(){return F(this[me],De,arguments)})})}function be(q,me,ve,he){he.forEach(function(De){De in ve.prototype&&(q.prototype[De]=function(){return this[me][De].apply(this[me],arguments)})})}function le(q,me,ve,he){he.forEach(function(De){De in ve.prototype&&(q.prototype[De]=function(){return ce(this[me],De,arguments)})})}function W(q){this._index=q}function k(q,me){this._cursor=q,this._request=me}function L(q){this._store=q}function J(q){this._tx=q,this.complete=new Promise(function(me,ve){q.oncomplete=function(){me()},q.onerror=function(){ve(q.error)},q.onabort=function(){ve(q.error)}})}function Y(q,me,ve){this._db=q,this.oldVersion=me,this.transaction=new J(ve)}function re(q){this._db=q}te(W,"_index",["name","keyPath","multiEntry","unique"]),ie(W,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),le(W,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(k,"_cursor",["direction","key","primaryKey","value"]),ie(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(q){q in IDBCursor.prototype&&(k.prototype[q]=function(){var me=this,ve=arguments;return Promise.resolve().then(function(){return me._cursor[q].apply(me._cursor,ve),ee(me._request).then(function(he){if(he)return new k(he,me._request)})})})}),L.prototype.createIndex=function(){return new W(this._store.createIndex.apply(this._store,arguments))},L.prototype.index=function(){return new W(this._store.index.apply(this._store,arguments))},te(L,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(L,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),le(L,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),be(L,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new L(this._tx.objectStore.apply(this._tx,arguments))},te(J,"_tx",["objectStoreNames","mode"]),be(J,"_tx",IDBTransaction,["abort"]),Y.prototype.createObjectStore=function(){return new L(this._db.createObjectStore.apply(this._db,arguments))},te(Y,"_db",["name","version","objectStoreNames"]),be(Y,"_db",IDBDatabase,["deleteObjectStore","close"]),re.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},te(re,"_db",["name","version","objectStoreNames"]),be(re,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(q){[L,W].forEach(function(me){q in me.prototype&&(me.prototype[q.replace("open","iterate")]=function(){var ve=h(arguments),he=ve[ve.length-1],De=this._store||this._index,Fe=De[q].apply(De,ve.slice(0,-1));Fe.onsuccess=function(){he(Fe.result)}})})}),[W,L].forEach(function(q){q.prototype.getAll||(q.prototype.getAll=function(me,ve){var he=this,De=[];return new Promise(function(Fe){he.iterateCursor(me,function(Le){Le?(De.push(Le.value),void 0===ve||De.length!=ve?Le.continue():Fe(De)):Fe(De)})})})}),V.openDb=function(q,me,ve){var he=F(indexedDB,"open",[q,me]),De=he.request;return De&&(De.onupgradeneeded=function(Fe){ve&&ve(new Y(De.result,Fe.oldVersion,De.transaction))}),he.then(function(Fe){return new re(Fe)})},V.deleteDb=function(q){return F(indexedDB,"deleteDatabase",[q])},Object.defineProperty(V,"__esModule",{value:!0})}(Ae)},7574:(Xe,Ae,V)=>{"use strict";V.d(Ae,{y:()=>L});var h=V(7393),F=V(9181),ce=V(6490),ie=V(6554),be=V(4487);var k=V(2494);let L=(()=>{class Y{constructor(Ce){this._isScalar=!1,Ce&&(this._subscribe=Ce)}lift(Ce){const de=new Y;return de.source=this,de.operator=Ce,de}subscribe(Ce,de,q){const{operator:me}=this,ve=function(Y,re,Ce){if(Y){if(Y instanceof h.L)return Y;if(Y[F.b])return Y[F.b]()}return Y||re||Ce?new h.L(Y,re,Ce):new h.L(ce.c)}(Ce,de,q);if(ve.add(me?me.call(ve,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!ve.syncErrorThrowable?this._subscribe(ve):this._trySubscribe(ve)),k.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable&&(ve.syncErrorThrowable=!1,ve.syncErrorThrown))throw ve.syncErrorValue;return ve}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(de){k.v.useDeprecatedSynchronousErrorHandling&&(Ce.syncErrorThrown=!0,Ce.syncErrorValue=de),function(Y){for(;Y;){const{closed:re,destination:Ce,isStopped:de}=Y;if(re||de)return!1;Y=Ce&&Ce instanceof h.L?Ce:null}return!0}(Ce)?Ce.error(de):console.warn(de)}}forEach(Ce,de){return new(de=J(de))((q,me)=>{let ve;ve=this.subscribe(he=>{try{Ce(he)}catch(De){me(De),ve&&ve.unsubscribe()}},me,q)})}_subscribe(Ce){const{source:de}=this;return de&&de.subscribe(Ce)}[ie.L](){return this}pipe(...Ce){return 0===Ce.length?this:function(Y){return 0===Y.length?be.y:1===Y.length?Y[0]:function(Ce){return Y.reduce((de,q)=>q(de),Ce)}}(Ce)(this)}toPromise(Ce){return new(Ce=J(Ce))((de,q)=>{let me;this.subscribe(ve=>me=ve,ve=>q(ve),()=>de(me))})}}return Y.create=re=>new Y(re),Y})();function J(Y){if(Y||(Y=k.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(Xe,Ae,V)=>{"use strict";V.d(Ae,{c:()=>F});var h=V(2494),ee=V(4449);const F={closed:!0,next(ce){},error(ce){if(h.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,ee.z)(ce)},complete(){}}},9765:(Xe,Ae,V)=>{"use strict";V.d(Ae,{Yc:()=>be,xQ:()=>le});var h=V(7574),ee=V(7393),F=V(5319),ce=V(7971),te=V(8858),ie=V(9181);class be extends ee.L{constructor(L){super(L),this.destination=L}}let le=(()=>{class k extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new be(this)}lift(J){const Y=new W(this,this);return Y.operator=J,Y}next(J){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:Y}=this,re=Y.length,Ce=Y.slice();for(let de=0;de<re;de++)Ce[de].next(J)}}error(J){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=J,this.isStopped=!0;const{observers:Y}=this,re=Y.length,Ce=Y.slice();for(let de=0;de<re;de++)Ce[de].error(J);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:J}=this,Y=J.length,re=J.slice();for(let Ce=0;Ce<Y;Ce++)re[Ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(J){if(this.closed)throw new ce.N;return super._trySubscribe(J)}_subscribe(J){if(this.closed)throw new ce.N;return this.hasError?(J.error(this.thrownError),F.w.EMPTY):this.isStopped?(J.complete(),F.w.EMPTY):(this.observers.push(J),new te.W(this,J))}asObservable(){const J=new h.y;return J.source=this,J}}return k.create=(L,J)=>new W(L,J),k})();class W extends le{constructor(L,J){super(),this.destination=L,this.source=J}next(L){const{destination:J}=this;J&&J.next&&J.next(L)}error(L){const{destination:J}=this;J&&J.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:J}=this;return J?this.source.subscribe(L):F.w.EMPTY}}},8858:(Xe,Ae,V)=>{"use strict";V.d(Ae,{W:()=>ee});var h=V(5319);class ee extends h.w{constructor(ce,te){super(),this.subject=ce,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,te=ce.observers;if(this.subject=null,!te||0===te.length||ce.isStopped||ce.closed)return;const ie=te.indexOf(this.subscriber);-1!==ie&&te.splice(ie,1)}}},7393:(Xe,Ae,V)=>{"use strict";V.d(Ae,{L:()=>be});var h=V(9105),ee=V(6490),F=V(5319),ce=V(9181),te=V(2494),ie=V(4449);class be extends F.w{constructor(k,L,J){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!k){this.destination=ee.c;break}if("object"==typeof k){k instanceof be?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new le(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new le(this,k,L,J)}}[ce.b](){return this}static create(k,L,J){const Y=new be(k,L,J);return Y.syncErrorThrowable=!1,Y}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class le extends be{constructor(k,L,J,Y){super(),this._parentSubscriber=k;let re,Ce=this;(0,h.m)(L)?re=L:L&&(re=L.next,J=L.error,Y=L.complete,L!==ee.c&&(Ce=Object.create(L),(0,h.m)(Ce.unsubscribe)&&this.add(Ce.unsubscribe.bind(Ce)),Ce.unsubscribe=this.unsubscribe.bind(this))),this._context=Ce,this._next=re,this._error=J,this._complete=Y}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;te.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:J}=te.v;if(this._error)J&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(L.syncErrorThrowable)J?(L.syncErrorValue=k,L.syncErrorThrown=!0):(0,ie.z)(k),this.unsubscribe();else{if(this.unsubscribe(),J)throw k;(0,ie.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const L=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,L){try{k.call(this._context,L)}catch(J){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw J;(0,ie.z)(J)}}__tryOrSetError(k,L,J){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,J)}catch(Y){return te.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=Y,k.syncErrorThrown=!0,!0):((0,ie.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Xe,Ae,V)=>{"use strict";V.d(Ae,{w:()=>ie});var h=V(9796),ee=V(1555),F=V(9105);const te=(()=>{function le(W){return Error.call(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((k,L)=>`${L+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W,this}return le.prototype=Object.create(Error.prototype),le})();class ie{constructor(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}unsubscribe(){let W;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:L,_unsubscribe:J,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ie)k.remove(this);else if(null!==k)for(let re=0;re<k.length;++re)k[re].remove(this);if((0,F.m)(J)){L&&(this._unsubscribe=void 0);try{J.call(this)}catch(re){W=re instanceof te?be(re.errors):[re]}}if((0,h.k)(Y)){let re=-1,Ce=Y.length;for(;++re<Ce;){const de=Y[re];if((0,ee.K)(de))try{de.unsubscribe()}catch(q){W=W||[],q instanceof te?W=W.concat(be(q.errors)):W.push(q)}}}if(W)throw new te(W)}add(W){let k=W;if(!W)return ie.EMPTY;switch(typeof W){case"function":k=new ie(W);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ie)){const Y=k;k=new ie,k._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}let{_parentOrParents:L}=k;if(null===L)k._parentOrParents=this;else if(L instanceof ie){if(L===this)return k;k._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return k;L.push(this)}const J=this._subscriptions;return null===J?this._subscriptions=[k]:J.push(k),k}remove(W){const k=this._subscriptions;if(k){const L=k.indexOf(W);-1!==L&&k.splice(L,1)}}}var le;function be(le){return le.reduce((W,k)=>W.concat(k instanceof te?k.errors:k),[])}ie.EMPTY=((le=new ie).closed=!0,le)},2494:(Xe,Ae,V)=>{"use strict";V.d(Ae,{v:()=>ee});let h=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=F},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(Xe,Ae,V)=>{"use strict";V.d(Ae,{IY:()=>ce,Ds:()=>ie,ft:()=>le});var h=V(7393),ee=V(7574),F=V(7444);class ce extends h.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends h.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function le(W,k){if(k.closed)return;if(W instanceof ee.y)return W.subscribe(k);let L;try{L=(0,F.s)(W)(k)}catch(J){k.error(J)}return L}},2441:(Xe,Ae,V)=>{"use strict";V.d(Ae,{c:()=>te,N:()=>ie});var h=V(9765),ee=V(7574),F=V(5319),ce=V(1307);class te extends ee.y{constructor(L,J){super(),this.source=L,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new F.w,L.add(this.source.subscribe(new be(this.getSubject(),this))),L.closed&&(this._connection=null,L=F.w.EMPTY)),L}refCount(){return(0,ce.x)()(this)}}const ie=(()=>{const k=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class be extends h.Yc{constructor(L,J){super(L),this.connectable=J}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const J=L._connection;L._refCount=0,L._subject=null,L._connection=null,J&&J.unsubscribe()}}}},9193:(Xe,Ae,V)=>{"use strict";V.d(Ae,{E:()=>ee,c:()=>F});var h=V(7574);const ee=new h.y(te=>te.complete());function F(te){return te?function(te){return new h.y(ie=>te.schedule(()=>ie.complete()))}(te):ee}},4402:(Xe,Ae,V)=>{"use strict";V.d(Ae,{D:()=>Ce});var h=V(7574),ee=V(7444),F=V(5319),ce=V(6554),be=V(4087),le=V(377),L=V(4072),J=V(9489);function Ce(de,q){return q?function(de,q){if(null!=de){if(function(de){return de&&"function"==typeof de[ce.L]}(de))return function(de,q){return new h.y(me=>{const ve=new F.w;return ve.add(q.schedule(()=>{const he=de[ce.L]();ve.add(he.subscribe({next(De){ve.add(q.schedule(()=>me.next(De)))},error(De){ve.add(q.schedule(()=>me.error(De)))},complete(){ve.add(q.schedule(()=>me.complete()))}}))})),ve})}(de,q);if((0,L.t)(de))return function(de,q){return new h.y(me=>{const ve=new F.w;return ve.add(q.schedule(()=>de.then(he=>{ve.add(q.schedule(()=>{me.next(he),ve.add(q.schedule(()=>me.complete()))}))},he=>{ve.add(q.schedule(()=>me.error(he)))}))),ve})}(de,q);if((0,J.z)(de))return(0,be.r)(de,q);if(function(de){return de&&"function"==typeof de[le.hZ]}(de)||"string"==typeof de)return function(de,q){if(!de)throw new Error("Iterable cannot be null");return new h.y(me=>{const ve=new F.w;let he;return ve.add(()=>{he&&"function"==typeof he.return&&he.return()}),ve.add(q.schedule(()=>{he=de[le.hZ](),ve.add(q.schedule(function(){if(me.closed)return;let De,Fe;try{const Le=he.next();De=Le.value,Fe=Le.done}catch(Le){return void me.error(Le)}Fe?me.complete():(me.next(De),this.schedule())}))})),ve})}(de,q)}throw new TypeError((null!==de&&typeof de||de)+" is not observable")}(de,q):de instanceof h.y?de:new h.y((0,ee.s)(de))}},6693:(Xe,Ae,V)=>{"use strict";V.d(Ae,{n:()=>ce});var h=V(7574),ee=V(5015),F=V(4087);function ce(te,ie){return ie?(0,F.r)(te,ie):new h.y((0,ee.V)(te))}},6682:(Xe,Ae,V)=>{"use strict";V.d(Ae,{T:()=>te});var h=V(7574),ee=V(4869),F=V(3282),ce=V(6693);function te(...ie){let be=Number.POSITIVE_INFINITY,le=null,W=ie[ie.length-1];return(0,ee.K)(W)?(le=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(be=ie.pop())):"number"==typeof W&&(be=ie.pop()),null===le&&1===ie.length&&ie[0]instanceof h.y?ie[0]:(0,F.J)(be)((0,ce.n)(ie,le))}},5917:(Xe,Ae,V)=>{"use strict";V.d(Ae,{of:()=>ce});var h=V(4869),ee=V(6693),F=V(4087);function ce(...te){let ie=te[te.length-1];return(0,h.K)(ie)?(te.pop(),(0,F.r)(te,ie)):(0,ee.n)(te)}},8002:(Xe,Ae,V)=>{"use strict";V.d(Ae,{U:()=>ee});var h=V(7393);function ee(te,ie){return function(le){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return le.lift(new F(te,ie))}}class F{constructor(ie,be){this.project=ie,this.thisArg=be}call(ie,be){return be.subscribe(new ce(ie,this.project,this.thisArg))}}class ce extends h.L{constructor(ie,be,le){super(ie),this.project=be,this.count=0,this.thisArg=le||this}_next(ie){let be;try{be=this.project.call(this.thisArg,ie,this.count++)}catch(le){return void this.destination.error(le)}this.destination.next(be)}}},3282:(Xe,Ae,V)=>{"use strict";V.d(Ae,{J:()=>F});var h=V(9773),ee=V(4487);function F(ce=Number.POSITIVE_INFINITY){return(0,h.zg)(ee.y,ce)}},9773:(Xe,Ae,V)=>{"use strict";V.d(Ae,{zg:()=>ce});var h=V(8002),ee=V(4402),F=V(5345);function ce(le,W,k=Number.POSITIVE_INFINITY){return"function"==typeof W?L=>L.pipe(ce((J,Y)=>(0,ee.D)(le(J,Y)).pipe((0,h.U)((re,Ce)=>W(J,re,Y,Ce))),k)):("number"==typeof W&&(k=W),L=>L.lift(new te(le,k)))}class te{constructor(W,k=Number.POSITIVE_INFINITY){this.project=W,this.concurrent=k}call(W,k){return k.subscribe(new ie(W,this.project,this.concurrent))}}class ie extends F.Ds{constructor(W,k,L=Number.POSITIVE_INFINITY){super(W),this.project=k,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(W){this.active<this.concurrent?this._tryNext(W):this.buffer.push(W)}_tryNext(W){let k;const L=this.index++;try{k=this.project(W,L)}catch(J){return void this.destination.error(J)}this.active++,this._innerSub(k)}_innerSub(W){const k=new F.IY(this),L=this.destination;L.add(k);const J=(0,F.ft)(W,k);J!==k&&L.add(J)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(W){this.destination.next(W)}notifyComplete(){const W=this.buffer;this.active--,W.length>0?this._next(W.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Xe,Ae,V)=>{"use strict";V.d(Ae,{ht:()=>L,QV:()=>W});var h=V(7393),ee=V(9193),F=V(5917),ce=V(7574);class le{constructor(re,Ce,de){this.kind=re,this.value=Ce,this.error=de,this.hasValue="N"===re}observe(re){switch(this.kind){case"N":return re.next&&re.next(this.value);case"E":return re.error&&re.error(this.error);case"C":return re.complete&&re.complete()}}do(re,Ce,de){switch(this.kind){case"N":return re&&re(this.value);case"E":return Ce&&Ce(this.error);case"C":return de&&de()}}accept(re,Ce,de){return re&&"function"==typeof re.next?this.observe(re):this.do(re,Ce,de)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return Y=this.error,new ce.y(Ce=>Ce.error(Y));case"C":return(0,ee.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(re){return void 0!==re?new le("N",re):le.undefinedValueNotification}static createError(re){return new le("E",void 0,re)}static createComplete(){return le.completeNotification}}function W(Y,re=0){return function(de){return de.lift(new k(Y,re))}}le.completeNotification=new le("C"),le.undefinedValueNotification=new le("N",void 0);class k{constructor(re,Ce=0){this.scheduler=re,this.delay=Ce}call(re,Ce){return Ce.subscribe(new L(re,this.scheduler,this.delay))}}class L extends h.L{constructor(re,Ce,de=0){super(re),this.scheduler=Ce,this.delay=de}static dispatch(re){const{notification:Ce,destination:de}=re;Ce.observe(de),this.unsubscribe()}scheduleMessage(re){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new J(re,this.destination)))}_next(re){this.scheduleMessage(le.createNext(re))}_error(re){this.scheduleMessage(le.createError(re)),this.unsubscribe()}_complete(){this.scheduleMessage(le.createComplete()),this.unsubscribe()}}class J{constructor(re,Ce){this.notification=re,this.destination=Ce}}},1307:(Xe,Ae,V)=>{"use strict";V.d(Ae,{x:()=>ee});var h=V(7393);function ee(){return function(ie){return ie.lift(new F(ie))}}class F{constructor(ie){this.connectable=ie}call(ie,be){const{connectable:le}=this;le._refCount++;const W=new ce(ie,le),k=be.subscribe(W);return W.closed||(W.connection=le.connect()),k}}class ce extends h.L{constructor(ie,be){super(ie),this.connectable=be}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const be=ie._refCount;if(be<=0)return void(this.connection=null);if(ie._refCount=be-1,be>1)return void(this.connection=null);const{connection:le}=this,W=ie._connection;this.connection=null,W&&(!le||W===le)&&W.unsubscribe()}}},3101:(Xe,Ae,V)=>{"use strict";V.d(Ae,{R:()=>q});var h=V(7574);let ee=1;const F=Promise.resolve(),ce={};function te(ve){return ve in ce&&(delete ce[ve],!0)}const ie={setImmediate(ve){const he=ee++;return ce[he]=!0,F.then(()=>te(he)&&ve()),he},clearImmediate(ve){te(ve)}};var le=V(6465),k=V(6102);const Y=new class extends k.v{flush(he){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let Fe,Le=-1,vt=De.length;he=he||De.shift();do{if(Fe=he.execute(he.state,he.delay))break}while(++Le<vt&&(he=De.shift()));if(this.active=!1,Fe){for(;++Le<vt&&(he=De.shift());)he.unsubscribe();throw Fe}}}(class extends le.o{constructor(he,De){super(he,De),this.scheduler=he,this.work=De}requestAsyncId(he,De,Fe=0){return null!==Fe&&Fe>0?super.requestAsyncId(he,De,Fe):(he.actions.push(this),he.scheduled||(he.scheduled=ie.setImmediate(he.flush.bind(he,null))))}recycleAsyncId(he,De,Fe=0){if(null!==Fe&&Fe>0||null===Fe&&this.delay>0)return super.recycleAsyncId(he,De,Fe);0===he.actions.length&&(ie.clearImmediate(De),he.scheduled=void 0)}});var re=V(9796);class de extends h.y{constructor(he,De=0,Fe=Y){var ve;super(),this.source=he,this.delayTime=De,this.scheduler=Fe,(!(!(0,re.k)(ve=De)&&ve-parseFloat(ve)+1>=0)||De<0)&&(this.delayTime=0),(!Fe||"function"!=typeof Fe.schedule)&&(this.scheduler=Y)}static create(he,De=0,Fe=Y){return new de(he,De,Fe)}static dispatch(he){const{source:De,subscriber:Fe}=he;return this.add(De.subscribe(Fe))}_subscribe(he){return this.scheduler.schedule(de.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function q(ve,he=0){return function(Fe){return Fe.lift(new me(ve,he))}}class me{constructor(he,De){this.scheduler=he,this.delay=De}call(he,De){return new de(De,this.delay,this.scheduler).subscribe(he)}}},3342:(Xe,Ae,V)=>{"use strict";V.d(Ae,{b:()=>ce});var h=V(7393);function ee(){}var F=V(9105);function ce(be,le,W){return function(L){return L.lift(new te(be,le,W))}}class te{constructor(le,W,k){this.nextOrObserver=le,this.error=W,this.complete=k}call(le,W){return W.subscribe(new ie(le,this.nextOrObserver,this.error,this.complete))}}class ie extends h.L{constructor(le,W,k,L){super(le),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=k||ee,this._tapComplete=L||ee,(0,F.m)(W)?(this._context=this,this._tapNext=W):W&&(this._context=W,this._tapNext=W.next||ee,this._tapError=W.error||ee,this._tapComplete=W.complete||ee)}_next(le){try{this._tapNext.call(this._context,le)}catch(W){return void this.destination.error(W)}this.destination.next(le)}_error(le){try{this._tapError.call(this._context,le)}catch(W){return void this.destination.error(W)}this.destination.error(le)}_complete(){try{this._tapComplete.call(this._context)}catch(le){return void this.destination.error(le)}return this.destination.complete()}}},4087:(Xe,Ae,V)=>{"use strict";V.d(Ae,{r:()=>F});var h=V(7574),ee=V(5319);function F(ce,te){return new h.y(ie=>{const be=new ee.w;let le=0;return be.add(te.schedule(function(){le!==ce.length?(ie.next(ce[le++]),ie.closed||be.add(this.schedule())):ie.complete()})),be})}},6465:(Xe,Ae,V)=>{"use strict";V.d(Ae,{o:()=>F});var h=V(5319);class ee extends h.w{constructor(te,ie){super()}schedule(te,ie=0){return this}}class F extends ee{constructor(te,ie){super(te,ie),this.scheduler=te,this.work=ie,this.pending=!1}schedule(te,ie=0){if(this.closed)return this;this.state=te;const be=this.id,le=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(le,be,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(le,this.id,ie),this}requestAsyncId(te,ie,be=0){return setInterval(te.flush.bind(te,this),be)}recycleAsyncId(te,ie,be=0){if(null!==be&&this.delay===be&&!1===this.pending)return ie;clearInterval(ie)}execute(te,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(te,ie);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ie){let le,be=!1;try{this.work(te)}catch(W){be=!0,le=!!W&&W||new Error(W)}if(be)return this.unsubscribe(),le}_unsubscribe(){const te=this.id,ie=this.scheduler,be=ie.actions,le=be.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==le&&be.splice(le,1),null!=te&&(this.id=this.recycleAsyncId(ie,te,null)),this.delay=null}}},6102:(Xe,Ae,V)=>{"use strict";V.d(Ae,{v:()=>ee});let h=(()=>{class F{constructor(te,ie=F.now){this.SchedulerAction=te,this.now=ie}schedule(te,ie=0,be){return new this.SchedulerAction(this,te).schedule(be,ie)}}return F.now=()=>Date.now(),F})();class ee extends h{constructor(ce,te=h.now){super(ce,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,te=0,ie){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(ce,te,ie):super.schedule(ce,te,ie)}flush(ce){const{actions:te}=this;if(this.active)return void te.push(ce);let ie;this.active=!0;do{if(ie=ce.execute(ce.state,ce.delay))break}while(ce=te.shift());if(this.active=!1,ie){for(;ce=te.shift();)ce.unsubscribe();throw ie}}}},3637:(Xe,Ae,V)=>{"use strict";V.d(Ae,{z:()=>F});var h=V(6465);const F=new(V(6102).v)(h.o)},7771:(Xe,Ae,V)=>{"use strict";V.d(Ae,{c:()=>ie,N:()=>te});var h=V(6465),F=V(6102);const te=new class extends F.v{}(class extends h.o{constructor(le,W){super(le,W),this.scheduler=le,this.work=W}schedule(le,W=0){return W>0?super.schedule(le,W):(this.delay=W,this.state=le,this.scheduler.flush(this),this)}execute(le,W){return W>0||this.closed?super.execute(le,W):this._execute(le,W)}requestAsyncId(le,W,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(le,W,k):le.flush(this)}}),ie=te},377:(Xe,Ae,V)=>{"use strict";V.d(Ae,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Xe,Ae,V)=>{"use strict";V.d(Ae,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Xe,Ae,V)=>{"use strict";V.d(Ae,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Xe,Ae,V)=>{"use strict";V.d(Ae,{N:()=>ee});const ee=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(Xe,Ae,V)=>{"use strict";function h(ee){setTimeout(()=>{throw ee},0)}V.d(Ae,{z:()=>h})},4487:(Xe,Ae,V)=>{"use strict";function h(ee){return ee}V.d(Ae,{y:()=>h})},9796:(Xe,Ae,V)=>{"use strict";V.d(Ae,{k:()=>h});const h=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(Xe,Ae,V)=>{"use strict";V.d(Ae,{z:()=>h});const h=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(Xe,Ae,V)=>{"use strict";function h(ee){return"function"==typeof ee}V.d(Ae,{m:()=>h})},1555:(Xe,Ae,V)=>{"use strict";function h(ee){return null!==ee&&"object"==typeof ee}V.d(Ae,{K:()=>h})},4072:(Xe,Ae,V)=>{"use strict";function h(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}V.d(Ae,{t:()=>h})},4869:(Xe,Ae,V)=>{"use strict";function h(ee){return ee&&"function"==typeof ee.schedule}V.d(Ae,{K:()=>h})},7444:(Xe,Ae,V)=>{"use strict";V.d(Ae,{s:()=>L});var h=V(5015),ee=V(4449),ce=V(377),ie=V(6554),le=V(9489),W=V(4072),k=V(1555);const L=J=>{if(J&&"function"==typeof J[ie.L])return(J=>Y=>{const re=J[ie.L]();if("function"!=typeof re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return re.subscribe(Y)})(J);if((0,le.z)(J))return(0,h.V)(J);if((0,W.t)(J))return(J=>Y=>(J.then(re=>{Y.closed||(Y.next(re),Y.complete())},re=>Y.error(re)).then(null,ee.z),Y))(J);if(J&&"function"==typeof J[ce.hZ])return(J=>Y=>{const re=J[ce.hZ]();for(;;){let Ce;try{Ce=re.next()}catch(de){return Y.error(de),Y}if(Ce.done){Y.complete();break}if(Y.next(Ce.value),Y.closed)break}return"function"==typeof re.return&&Y.add(()=>{re.return&&re.return()}),Y})(J);{const re=`You provided ${(0,k.K)(J)?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(re)}}},5015:(Xe,Ae,V)=>{"use strict";V.d(Ae,{V:()=>h});const h=ee=>F=>{for(let ce=0,te=ee.length;ce<te&&!F.closed;ce++)F.next(ee[ce]);F.complete()}},522:(Xe,Ae,V)=>{"use strict";var h=V(3018);let ee=null;function F(){return ee}const be=new h.OlP("DocumentToken");let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:W,token:n,providedIn:"platform"}),n})();function W(){return(0,h.LFG)(L)}const k=new h.OlP("Location Initialized");let L=(()=>{class n extends le{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const s=F().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=F().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){J()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){J()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=(0,h.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Y(){return new L((0,h.LFG)(be))}function re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:me,token:n,providedIn:"root"}),n})();function me(n){const e=(0,h.LFG)(be).location;return new he((0,h.LFG)(le),e&&e.origin||"")}const ve=new h.OlP("appBaseHref");let he=(()=>{class n extends q{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return re(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+de(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,l){const p=this.prepareExternalUrl(a+de(l));this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,l){const p=this.prepareExternalUrl(a+de(l));this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le),h.LFG(ve,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends q{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=re(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,l){let p=this.prepareExternalUrl(a+de(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,l){let p=this.prepareExternalUrl(a+de(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(le),h.LFG(ve,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t,s){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ce(mt(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+de(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,mt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(q),h.LFG(le))},n.normalizeQueryParams=de,n.joinWithSlash=re,n.stripTrailingSlash=Ce,n.\u0275prov=(0,h.Yz7)({factory:Le,token:n,providedIn:"root"}),n})();function Le(){return new Fe((0,h.LFG)(q),(0,h.LFG)(le))}function mt(n){return n.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))();const Tr=h.kL8;class ir{}let Sn=(()=>{class n extends ir{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(Tr(s||this.locale)(t)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function yt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,l]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}class Xc{constructor(e,t,s,a){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ni=(()=>{class n{constructor(t,s,a){this._viewContainer=t,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((a,l,p)=>{if(null==a.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new Xc(null,this._ngForOf,-1,-1),null===p?void 0:p),b=new Zn(a,_);s.push(b)}else if(null==p)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const _=this._viewContainer.get(l);this._viewContainer.move(_,p);const b=new Zn(a,_);s.push(b)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const p=this._viewContainer.get(a);p.context.index=a,p.context.count=l,p.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Zn{constructor(e,t){this.record=e,this.view=t}}let bi=(()=>{class n{constructor(t,s){this._viewContainer=t,this._context=new jr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class jr{constructor(){this.$implicit=null,this.ngIf=null}}function Yt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let gm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:ir,useClass:Sn}]}),n})();function ho(n){return"server"===n}let fo=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Bu((0,h.LFG)(be),window)}),n})();class Bu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const p=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(p)return p}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ha(this.window.history)||Ha(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ha(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class po{}class Ns extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ns,ee||(ee=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Fi=Fi||document.querySelector("base"),Fi?Fi.getAttribute("href"):null);return null==t?null:function(n){ea=ea||document.createElement("a"),ea.setAttribute("href",n);const e=ea.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yt(document.cookie,e)}}let ea,Fi=null;const $u=new h.OlP("TRANSITION_ID"),Hu=[{provide:h.ip1,useFactory:function(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const s=F(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[$u,be,h.zs3],multi:!0}];class It{static init(){(0,h.VLi)(new It)}addToWindow(e){h.dqk.getAngularTestability=(s,a=!0)=>{const l=e.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(s=>{const a=h.dqk.getAllAngularTestabilities();let l=a.length,p=!1;const _=function(b){p=p||b,l--,0==l&&s(p)};a.forEach(function(b){b.whenStable(_)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Fd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const cs=new h.OlP("EventManagerPlugins");let ia=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const p=a[l];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(cs),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class _o{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=F().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let sl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ls=(()=>{class n extends sl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(l=>{const p=this._doc.createElement("style");p.textContent=l,a.push(s.appendChild(p))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(Ld),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ld))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ld(n){F().remove(n)}const xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},St=/%COMP%/g;function Os(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?Os(n,a,t):(a=a.replace(St,n),t.push(a))}return t}function Ud(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let oa=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Vi(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case h.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Ui(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case h.ifc.ShadowDom:return new ds(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=Os(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ia),h.LFG(ls),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Vi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(xe[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const l=xe[a];l?e.setAttributeNS(l,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=xe[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,s,a&h.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ud(s)):this.eventManager.addEventListener(e,t,Ud(s))}}class Ui extends Vi{constructor(e,t,s,a){super(e),this.component=s;const l=Os(a+"-"+s.id,s.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(St,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(St,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class ds extends Vi{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Os(a.id,a.styles,[]);for(let p=0;p<l.length;p++){const _=document.createElement("style");_.textContent=l[p],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Wa=(()=>{class n extends _o{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Eo=["alt","control","meta","shift"],Ku={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ji=(()=>{class n extends _o{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const l=n.parseEventName(s),p=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,l.domEventName,p))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(s.pop());let p="";if(Eo.forEach(b=>{const S=s.indexOf(b);S>-1&&(s.splice(S,1),p+=b+".")}),p+=l,0!=s.length||0===l.length)return null;const _={};return _.domEventName=a,_.fullKey=p,_}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Hd.hasOwnProperty(e)&&(e=Hd[e]))}return Ku[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Eo.forEach(l=>{l!=a&&Hr[l](t)&&(s+=l+".")}),s+=a,s}static eventCallback(t,s,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>s(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const hl=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){Ns.makeCurrent(),It.init()},multi:!0},{provide:be,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),Ps=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:cs,useClass:Wa,multi:!0,deps:[be,h.R0b,h.Lbi]},{provide:cs,useClass:ji,multi:!0,deps:[be]},[],{provide:oa,useClass:oa,deps:[ia,ls,h.AFp]},{provide:h.FYo,useExisting:oa},{provide:sl,useExisting:ls},{provide:ls,useClass:ls,deps:[be]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:ia,useClass:ia,deps:[cs,h.R0b]},{provide:po,useClass:Fd,deps:[]},[]];let Ka=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:$u,useExisting:h.AFp},Hu]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Ps,imports:[gm,h.hGG]}),n})();"undefined"!=typeof window&&window;var ot=V(5917),_n=V(7574),Jn=V(9773);function Gr(n,e){return(0,Jn.zg)(n,e,1)}var or=V(7393);function mr(n,e){return function(s){return s.lift(new ha(n,e))}}class ha{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Fs(e,this.predicate,this.thisArg))}}class Fs extends or.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}var ht=V(8002);class Gf{}class bo{}class $i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const s=t.indexOf(":");if(s>0){const a=t.slice(0,s),l=a.toLowerCase(),p=t.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(p):this.headers.set(l,[p])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let s=e[t];const a=t.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(t,a))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof $i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new $i;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof $i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let s=e.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(e.name,t);const a=("a"===e.op?this.headers.get(t):void 0)||[];a.push(...s),this.headers.set(t,a);break;case"d":const l=e.value;if(l){let p=this.headers.get(t);if(!p)return;p=p.filter(_=>-1===l.indexOf(_)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Wd{encodeKey(e){return Co(e)}encodeValue(e){return Co(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const pl=/%(\d[a-f0-9])/gi,fa={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Co(n){return encodeURIComponent(n).replace(pl,(e,t)=>{var s;return null!==(s=fa[t])&&void 0!==s?s:e})}function nu(n){return`${n}`}class fs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Wd,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[p,_]=-1==l?[e.decodeKey(a),""]:[e.decodeKey(a.slice(0,l)),e.decodeValue(a.slice(l+1))],b=t.get(p)||[];b.push(_),t.set(p,b)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const s=e.fromObject[t];this.map.set(t,Array.isArray(s)?s:[s])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(s=>{const a=e[s];Array.isArray(a)?a.forEach(l=>{t.push({param:s,value:l,op:"a"})}):t.push({param:s,value:a,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(s=>t+"="+this.encoder.encodeValue(s)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new fs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(nu(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let s=this.map.get(e.param)||[];const a=s.indexOf(nu(e.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(e.param,s):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ps{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function ml(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function rc(n){return"undefined"!=typeof Blob&&n instanceof Blob}function gs(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ms{constructor(e,t,s,a){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new $i),this.context||(this.context=new ps),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const _=t.indexOf("?");this.urlWithParams=t+(-1===_?"?":_<t.length-1?"&":"")+p}}else this.params=new fs,this.urlWithParams=t}serializeBody(){return null===this.body?null:ml(this.body)||rc(this.body)||gs(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof fs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gs(this.body)?null:rc(this.body)?this.body.type||null:ml(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const s=e.method||this.method,a=e.url||this.url,l=e.responseType||this.responseType,p=void 0!==e.body?e.body:this.body,_=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let S=e.headers||this.headers,N=e.params||this.params;const P=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(S=Object.keys(e.setHeaders).reduce((K,G)=>K.set(G,e.setHeaders[G]),S)),e.setParams&&(N=Object.keys(e.setParams).reduce((K,G)=>K.set(G,e.setParams[G]),N)),new ms(s,a,p,{params:N,headers:S,context:P,reportProgress:b,responseType:l,withCredentials:_})}}var fn=(()=>((fn=fn||{})[fn.Sent=0]="Sent",fn[fn.UploadProgress=1]="UploadProgress",fn[fn.ResponseHeader=2]="ResponseHeader",fn[fn.DownloadProgress=3]="DownloadProgress",fn[fn.Response=4]="Response",fn[fn.User=5]="User",fn))();class ic{constructor(e,t=200,s="OK"){this.headers=e.headers||new $i,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||s,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Vs extends ic{constructor(e={}){super(e),this.type=fn.ResponseHeader}clone(e={}){return new Vs({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sc extends ic{constructor(e={}){super(e),this.type=fn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zd extends ic{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function oc(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qf=(()=>{class n{constructor(t){this.handler=t}request(t,s,a={}){let l;if(t instanceof ms)l=t;else{let b,S;b=a.headers instanceof $i?a.headers:new $i(a.headers),a.params&&(S=a.params instanceof fs?a.params:new fs({fromObject:a.params})),l=new ms(t,s,void 0!==a.body?a.body:null,{headers:b,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const p=(0,ot.of)(l).pipe(Gr(b=>this.handler.handle(b)));if(t instanceof ms||"events"===a.observe)return p;const _=p.pipe(mr(b=>b instanceof sc));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return _.pipe((0,ht.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return _.pipe((0,ht.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return _.pipe((0,ht.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));case"json":default:return _.pipe((0,ht.U)(b=>b.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,s={}){return this.request("DELETE",t,s)}get(t,s={}){return this.request("GET",t,s)}head(t,s={}){return this.request("HEAD",t,s)}jsonp(t,s){return this.request("JSONP",t,{params:(new fs).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,s={}){return this.request("OPTIONS",t,s)}patch(t,s,a={}){return this.request("PATCH",t,oc(a,s))}post(t,s,a={}){return this.request("POST",t,oc(a,s))}put(t,s,a={}){return this.request("PUT",t,oc(a,s))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Gf))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ac{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const pn=new h.OlP("HTTP_INTERCEPTORS");let yl=(()=>{class n{intercept(t,s){return s.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const _l=/^\)\]\}',?\n/;let ys=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _n.y(s=>{const a=this.xhrFactory.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((G,Ee)=>a.setRequestHeader(G,Ee.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&a.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();a.responseType="json"!==G?G:"text"}const l=t.serializeBody();let p=null;const _=()=>{if(null!==p)return p;const G=1223===a.status?204:a.status,Ee=a.statusText||"OK",Ue=new $i(a.getAllResponseHeaders()),We=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||t.url;return p=new Vs({headers:Ue,status:G,statusText:Ee,url:We}),p},b=()=>{let{headers:G,status:Ee,statusText:Ue,url:We}=_(),pt=null;204!==Ee&&(pt=void 0===a.response?a.responseText:a.response),0===Ee&&(Ee=pt?200:0);let Wt=Ee>=200&&Ee<300;if("json"===t.responseType&&"string"==typeof pt){const bn=pt;pt=pt.replace(_l,"");try{pt=""!==pt?JSON.parse(pt):null}catch(Ft){pt=bn,Wt&&(Wt=!1,pt={error:Ft,text:pt})}}Wt?(s.next(new sc({body:pt,headers:G,status:Ee,statusText:Ue,url:We||void 0})),s.complete()):s.error(new Zd({error:pt,headers:G,status:Ee,statusText:Ue,url:We||void 0}))},S=G=>{const{url:Ee}=_(),Ue=new Zd({error:G,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Ee||void 0});s.error(Ue)};let N=!1;const P=G=>{N||(s.next(_()),N=!0);let Ee={type:fn.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(Ee.total=G.total),"text"===t.responseType&&!!a.responseText&&(Ee.partialText=a.responseText),s.next(Ee)},K=G=>{let Ee={type:fn.UploadProgress,loaded:G.loaded};G.lengthComputable&&(Ee.total=G.total),s.next(Ee)};return a.addEventListener("load",b),a.addEventListener("error",S),a.addEventListener("timeout",S),a.addEventListener("abort",S),t.reportProgress&&(a.addEventListener("progress",P),null!==l&&a.upload&&a.upload.addEventListener("progress",K)),a.send(l),s.next({type:fn.Sent}),()=>{a.removeEventListener("error",S),a.removeEventListener("abort",S),a.removeEventListener("load",b),a.removeEventListener("timeout",S),t.reportProgress&&(a.removeEventListener("progress",P),null!==l&&a.upload&&a.upload.removeEventListener("progress",K)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(po))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Us=new h.OlP("XSRF_COOKIE_NAME"),Kf=new h.OlP("XSRF_HEADER_NAME");class kn{}let cc=(()=>{class n{constructor(t,s,a){this.doc=t,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(h.Lbi),h.LFG(Us))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n{constructor(t,s){this.tokenService=t,this.headerName=s}intercept(t,s){const a=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||a.startsWith("http://")||a.startsWith("https://"))return s.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),s.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(kn),h.LFG(Kf))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ga=(()=>{class n{constructor(t,s){this.backend=t,this.injector=s,this.chain=null}handle(t){if(null===this.chain){const s=this.injector.get(pn,[]);this.chain=s.reduceRight((a,l)=>new ac(a,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bo),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ii=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:js,useClass:yl}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Us,useValue:t.cookieName}:[],t.headerName?{provide:Kf,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[js,{provide:pn,useExisting:js,multi:!0},{provide:kn,useClass:cc},{provide:Us,useValue:"XSRF-TOKEN"},{provide:Kf,useValue:"X-XSRF-TOKEN"}]}),n})(),Hi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[qf,{provide:Gf,useClass:ga},ys,{provide:bo,useExisting:ys}],imports:[[ii.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var un=V(4402),_s=V(9765),vl=V(7971);class si extends _s.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new vl.N;return this._value}next(e){super.next(this._value=e)}}var Qf=V(4869),El=V(9796);class C extends or.L{notifyNext(e,t,s,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class D extends or.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var x=V(7444);function U(n,e,t,s,a=new D(n,t,s)){if(!a.closed)return e instanceof _n.y?e.subscribe(a):(0,x.s)(e)(a)}var Q=V(6693);const pe={};class Ze{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Ge(e,this.resultSelector))}}class Ge extends C{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(pe),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(U(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,p=this.toRespond?a[s]===pe?--this.toRespond:this.toRespond:0;a[s]=t,0===p&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}const Pt=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var xn=V(3282);function Bn(...n){return(0,xn.J)(1)((0,ot.of)(...n))}var Xn=V(9193);function ma(n){return new _n.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,un.D)(t):(0,Xn.c)()).subscribe(e)})}var oi=V(2441),_r=V(5345);function gn(n,e){return"function"==typeof e?t=>t.pipe(gn((s,a)=>(0,un.D)(n(s,a)).pipe((0,ht.U)((l,p)=>e(s,l,a,p))))):t=>t.lift(new wl(n))}class wl{constructor(e){this.project=e}call(e,t){return t.subscribe(new bl(e,this.project))}}class bl extends _r.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new _r.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,_r.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Cl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Io(n){return e=>0===n?(0,Xn.c)():e.lift(new ru(n))}class ru{constructor(e){if(this.total=e,this.total<0)throw new Cl}call(e,t){return t.subscribe(new ov(e,this.total))}}class ov extends or.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function vn(...n){const e=n[n.length-1];return(0,Qf.K)(e)?(n.pop(),t=>Bn(n,t,e)):t=>Bn(n,t)}function ya(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new Gw(n,e,t))}}class Gw{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new iu(e,this.accumulator,this.seed,this.hasSeed))}}class iu extends or.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function vs(n){return function(t){const s=new Jf(n),a=t.lift(s);return s.caught=a}}class Jf{constructor(e){this.selector=e}call(e,t){return t.subscribe(new _m(e,this.selector,this.caught))}}class _m extends _r.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new _r.IY(this);this.add(s);const a=(0,_r.ft)(t,s);a!==s&&this.add(a)}}}function Qd(n){return function(t){return 0===n?(0,Xn.c)():t.lift(new av(n))}}class av{constructor(e){if(this.total=e,this.total<0)throw new Cl}call(e,t){return t.subscribe(new lc(e,this.total))}}class lc extends or.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const p=t++%s;e.next(a[p])}}e.complete()}}function Ai(n=uv){return e=>e.lift(new Jd(n))}class Jd{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new _a(e,this.errorFactory))}}class _a extends or.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function uv(){return new Pt}function Xf(n=null){return e=>e.lift(new ep(n))}class ep{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Xd(e,this.defaultValue))}}class Xd extends or.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var tp=V(4487);function Do(n,e){const t=arguments.length>=2;return s=>s.pipe(n?mr((a,l)=>n(a,l,s)):tp.y,Io(1),t?Xf(e):Ai(()=>new Pt))}var ar=V(3342),Il=V(1307),vm=V(5319);class Em{constructor(e){this.callback=e}call(e,t){return t.subscribe(new wm(e,this.callback))}}class wm extends or.L{constructor(e,t){super(e),this.add(new vm.w(t))}}class va{constructor(e,t){this.id=e,this.url=t}}class np extends va{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dl extends va{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bm extends va{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dc extends va{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rp extends va{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ea extends va{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lv extends va{constructor(e,t,s,a,l){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cm extends va{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zw extends va{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class su{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eh{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ip{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sp{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Im{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ou{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dm{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nt="primary";class au{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hc(n){return new au(n)}const Tm="ngNavigationCancelingError";function Si(n){const e=Error("NavigationCancelingError: "+n);return e[Tm]=!0,e}function th(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let l=0;l<s.length;l++){const p=s[l],_=n[l];if(p.startsWith(":"))a[p.substring(1)]=_;else if(p!==_.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function $s(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!nh(n[a],e[a]))return!1;return!0}function nh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,l)=>s[l]===a)}return n===e}function Am(n){return Array.prototype.concat.apply([],n)}function Sm(n){return n.length>0?n[n.length-1]:null}function vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Hs(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,un.D)(Promise.resolve(n)):(0,ot.of)(n)}const fv={exact:function up(n,e,t){if(!To(n.segments,e.segments)||!Al(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!up(n.children[s],e.children[s],t))return!1;return!0},subset:wa},pv={exact:function(n,e){return $s(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nh(n[t],e[t]))},ignored:()=>!0};function ap(n,e,t){return fv[t.paths](n.root,e.root,t.matrixParams)&&pv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wa(n,e,t){return Tl(n,e,e.segments,t)}function Tl(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!To(a,t)||e.hasChildren()||!Al(a,t,s))}if(n.segments.length===t.length){if(!To(n.segments,t)||!Al(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!wa(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(To(n.segments,a)&&Al(n.segments,a,s)&&n.children[Nt])&&Tl(n.children[Nt],e,l,s)}}function Al(n,e,t){return e.every((s,a)=>pv[t](n[a].parameters,s.parameters))}class ba{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hc(this.queryParams)),this._queryParamMap}toString(){return Zw.serialize(this)}}class xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vr(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xl(this)}}class rh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hc(this.parameters)),this._parameterMap}toString(){return Nl(this)}}function To(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class Sl{}class gv{parse(e){const t=new yv(e);return new ba(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Ca(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${Rl(t)}=${Rl(a)}`).join("&"):`${Rl(t)}=${Rl(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Zw=new gv;function xl(n){return n.segments.map(e=>Nl(e)).join("/")}function Ca(n,e){if(!n.hasChildren())return xl(n);if(e){const t=n.children[Nt]?Ca(n.children[Nt],!1):"",s=[];return vr(n.children,(a,l)=>{l!==Nt&&s.push(`${l}:${Ca(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return vr(n.children,(s,a)=>{a===Nt&&(t=t.concat(e(s,a)))}),vr(n.children,(s,a)=>{a!==Nt&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===Nt?[Ca(n.children[Nt],!1)]:[`${a}:${Ca(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nt]?`${xl(n)}/${t[0]}`:`${xl(n)}/(${t.join("//")})`}}function xm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rl(n){return xm(n).replace(/%3B/gi,";")}function sh(n){return xm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cu(n){return decodeURIComponent(n)}function cp(n){return cu(n.replace(/\+/g,"%20"))}function Nl(n){return`${sh(n.path)}${function(n){return Object.keys(n).map(e=>`;${sh(e)}=${sh(n[e])}`).join("")}(n.parameters)}`}const Rm=/^[^\/()?;=#]+/;function oh(n){const e=n.match(Rm);return e?e[0]:""}const Ml=/^[^=?&#]+/,Ol=/^[^?&#]+/;class yv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[Nt]=new xt(e,t)),s}parseSegment(){const e=oh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new rh(cu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=oh(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=oh(this.remaining);a&&(s=a,this.capture(s))}e[cu(t)]=cu(s)}parseQueryParam(e){const t=function(n){const e=n.match(Ml);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const p=function(n){const e=n.match(Ol);return e?e[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const a=cp(t),l=cp(s);if(e.hasOwnProperty(a)){let p=e[a];Array.isArray(p)||(p=[p],e[a]=p),p.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=oh(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Nt);const p=this.parseChildren();t[l]=1===Object.keys(p).length?p[Nt]:new xt([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ah{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Pl(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=Pl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Mm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Mm(e,this._root).map(t=>t.value)}}function Pl(n,e){if(n===e.value)return e;for(const t of e.children){const s=Pl(n,t);if(s)return s}return null}function Mm(n,e){if(n===e.value)return[e];for(const t of e.children){const s=Mm(n,t);if(s.length)return s.unshift(e),s}return[]}class Ao{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function So(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class In extends ah{constructor(e,t){super(e),this.snapshot=t,Fl(this,e)}toString(){return this.snapshot.toString()}}function kl(n,e){const t=function(n,e){const p=new er([],{},{},"",{},Nt,e,null,n.root,-1,{});return new uh("",new Ao(p,[]))}(n,e),s=new si([new rh("",{})]),a=new si({}),l=new si({}),p=new si({}),_=new si(""),b=new lu(s,a,p,_,l,Nt,e,t.root);return b.snapshot=t.root,new In(new Ao(b,[]),t)}class lu{constructor(e,t,s,a,l,p,_,b){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=p,this.component=_,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>hc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>hc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Er(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],l=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class er{constructor(e,t,s,a,l,p,_,b,S,N,P){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=p,this.component=_,this.routeConfig=b,this._urlSegment=S,this._lastPathIndex=N,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uh extends ah{constructor(e,t){super(t),this.url=e,Fl(this,t)}toString(){return dp(this._root)}}function Fl(n,e){e.value._routerState=n,e.children.forEach(t=>Fl(n,t))}function dp(n){const e=n.children.length>0?` { ${n.children.map(dp).join(", ")} } `:"";return`${n.value}${e}`}function Es(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$s(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$s(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$s(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$s(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ia(n,e){return $s(n.params,e.params)&&function(n,e){return To(n,e)&&n.every((t,s)=>$s(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Ia(n.parent,e.parent))}function gc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return gc(n,s,a);return gc(n,s)})}(n,e,t);return new Ao(s,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const p=l.route;return ch(e,p),p}}const s=function(n){return new lu(new si(n.url),new si(n.params),new si(n.queryParams),new si(n.fragment),new si(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>gc(n,l));return new Ao(s,a)}}function ch(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)ch(n.children[t],e.children[t])}function mc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function v(n){return"object"==typeof n&&null!=n&&n.outlets}function f(n,e,t,s,a){let l={};return s&&vr(s,(p,_)=>{l[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),new ba(t.root===n?e:g(t.root,n,e),l,a)}function g(n,e,t){const s={};return vr(n.children,(a,l)=>{s[l]=a===e?t:g(a,e,t)}),new xt(n.segments,s)}class E{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&mc(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(v);if(a&&a!==Sm(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class M{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function Qe(n,e,t){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return lt(n,e,t);const s=function(n,e,t){let s=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return l;const p=n.segments[a],_=t[s];if(v(_))break;const b=`${_}`,S=s<t.length-1?t[s+1]:null;if(a>0&&void 0===b)break;if(b&&S&&"object"==typeof S&&void 0===S.outlets){if(!lh(b,S,p))return l;s+=2}else{if(!lh(b,{},p))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const l=new xt(n.segments.slice(0,s.pathIndex),{});return l.children[Nt]=new xt(n.segments.slice(s.pathIndex),n.children),lt(l,0,a)}return s.match&&0===a.length?new xt(n.segments,{}):s.match&&!n.hasChildren()?Fn(n,e,t):s.match?lt(n,0,a):Fn(n,e,t)}function lt(n,e,t){if(0===t.length)return new xt(n.segments,{});{const s=function(n){return v(n[0])?n[0].outlets:{[Nt]:n}}(t),a={};return vr(s,(l,p)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[p]=Qe(n.children[p],e,l))}),vr(n.children,(l,p)=>{void 0===s[p]&&(a[p]=l)}),new xt(n.segments,a)}}function Fn(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(v(l)){const b=ui(l.outlets);return new xt(s,b)}if(0===a&&mc(t[0])){s.push(new rh(n.segments[e].path,Nr(t[0]))),a++;continue}const p=v(l)?l.outlets[Nt]:`${l}`,_=a<t.length-1?t[a+1]:null;p&&_&&mc(_)?(s.push(new rh(p,Nr(_))),a+=2):(s.push(new rh(p,{})),a++)}return new xt(s,{})}function ui(n){const e={};return vr(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=Fn(new xt([],{}),0,t))}),e}function Nr(n){const e={};return vr(n,(t,s)=>e[s]=`${t}`),e}function lh(n,e,t){return n==t.path&&$s(e,t.parameters)}class Fm{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),Es(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=So(t);e.children.forEach(l=>{const p=l.value.outlet;this.deactivateRoutes(l,a[p],s),delete a[p]}),vr(a,(l,p)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const p=s.getContext(a.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,s);else l&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,l=So(e);for(const p of Object.keys(l))this.deactivateRouteAndItsChildren(l[p],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=So(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new ou(l.value.snapshot))}),e.children.length&&this.forwardEvent(new sp(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(Es(a),a===l)if(a.component){const p=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const p=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const _=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(_.contexts),p.attachRef=_.componentRef,p.route=_.route.value,p.outlet&&p.outlet.attach(_.componentRef,_.route.value),dh(_.route)}else{const _=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),b=_?_.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=b,p.outlet&&p.outlet.activateWith(a,b),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,s)}}function dh(n){Es(n.value),n.children.forEach(dh)}class Ll{constructor(e,t){this.routes=e,this.module=t}}function xo(n){return"function"==typeof n}function Da(n){return n instanceof ba}const hh=Symbol("INITIAL_VALUE");function Vm(){return gn(n=>function(...n){let e,t;return(0,Qf.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,El.k)(n[0])&&(n=n[0]),(0,Q.n)(n,t).lift(new Ze(e))}(n.map(e=>e.pipe(Io(1),vn(hh)))).pipe(ya((e,t)=>{let s=!1;return t.reduce((a,l,p)=>a!==hh?a:(l===hh&&(s=!0),s||!1!==l&&p!==t.length-1&&!Da(l)?a:l),e)},hh),mr(e=>e!==hh),(0,ht.U)(e=>Da(e)?e:!0===e),Io(1)))}let Ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&h._UZ(0,"router-outlet")},directives:function(){return[_b]},encapsulation:2}),n})();function Um(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];Ev(s,AT(e,s))}}function Ev(n,e){n.children&&Um(n.children,e)}function AT(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function jm(n){const e=n.children&&n.children.map(jm),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Nt&&(t.component=Ro),t}function ci(n){return n.outlet||Nt}function wv(n,e){const t=n.filter(s=>ci(s)===e);return t.push(...n.filter(s=>ci(s)!==e)),t}const bv={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function fh(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},bv):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||th)(t,n,e);if(!l)return Object.assign({},bv);const p={};vr(l.posParams,(b,S)=>{p[S]=b.path});const _=l.consumed.length>0?Object.assign(Object.assign({},p),l.consumed[l.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:_,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function ph(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>pp(n,e,s)&&ci(s)!==Nt)}(n,t,s)){const p=new xt(e,function(n,e,t,s){const a={};a[Nt]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&ci(l)!==Nt){const p=new xt([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[ci(l)]=p}return a}(n,e,s,new xt(t,n.children)));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>pp(n,e,s))}(n,t,s)){const p=new xt(n.segments,function(n,e,t,s,a,l){const p={};for(const _ of s)if(pp(n,t,_)&&!a[ci(_)]){const b=new xt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:e.length,p[ci(_)]=b}return Object.assign(Object.assign({},a),p)}(n,e,t,s,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const l=new xt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function pp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Qw(n,e,t,s){return!!(ci(n)===s||s!==Nt&&pp(e,t,n))&&("**"===n.path||fh(e,n,t).matched)}function Bm(n,e,t){return 0===e.length&&!n.children[t]}class gp{constructor(e){this.segmentGroup=e||null}}class Jw{constructor(e){this.urlTree=e}}function $m(n){return new _n.y(e=>e.error(new gp(n)))}function Xw(n){return new _n.y(e=>e.error(new Jw(n)))}function ST(n){return new _n.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Iv{constructor(e,t,s,a,l){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=ph(this.urlTree.root,[],[],this.config).segmentGroup,t=new xt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Nt).pipe((0,ht.U)(l=>this.createUrlTree(mp(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vs(l=>{if(l instanceof Jw)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof gp?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Nt).pipe((0,ht.U)(a=>this.createUrlTree(mp(a),e.queryParams,e.fragment))).pipe(vs(a=>{throw a instanceof gp?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new xt([],{[Nt]:e}):e;return new ba(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,ht.U)(l=>new xt([],l))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,un.D)(a).pipe(Gr(l=>{const p=s.children[l],_=wv(t,l);return this.expandSegmentGroup(e,_,p,l).pipe((0,ht.U)(b=>({segment:b,outlet:l})))}),ya((l,p)=>(l[p.outlet]=p.segment,l),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?mr((a,l)=>n(a,l,s)):tp.y,Qd(1),t?Xf(e):Ai(()=>new Pt))}())}expandSegment(e,t,s,a,l,p){return(0,un.D)(s).pipe(Gr(_=>this.expandSegmentAgainstRoute(e,t,s,_,a,l,p).pipe(vs(S=>{if(S instanceof gp)return(0,ot.of)(null);throw S}))),Do(_=>!!_),vs((_,b)=>{if(_ instanceof Pt||"EmptyError"===_.name){if(Bm(t,a,l))return(0,ot.of)(new xt([],{}));throw new gp(t)}throw _}))}expandSegmentAgainstRoute(e,t,s,a,l,p,_){return Qw(a,t,l,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,p):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p):$m(t):$m(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Xw(l):this.lineralizeSegments(s,l).pipe((0,Jn.zg)(p=>{const _=new xt(p,{});return this.expandSegment(e,_,t,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p){const{matched:_,consumedSegments:b,lastChild:S,positionalParamSegments:N}=fh(t,a,l);if(!_)return $m(t);const P=this.applyRedirectCommands(b,a.redirectTo,N);return a.redirectTo.startsWith("/")?Xw(P):this.lineralizeSegments(a,P).pipe((0,Jn.zg)(K=>this.expandSegment(e,t,s,K.concat(l.slice(S)),p,!1)))}matchSegmentAgainstRoute(e,t,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,ot.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,ht.U)(K=>(s._loadedConfig=K,new xt(a,{})))):(0,ot.of)(new xt(a,{}));const{matched:p,consumedSegments:_,lastChild:b}=fh(t,s,a);if(!p)return $m(t);const S=a.slice(b);return this.getChildConfig(e,s,a).pipe((0,Jn.zg)(P=>{const K=P.module,G=P.routes,{segmentGroup:Ee,slicedSegments:Ue}=ph(t,_,S,G),We=new xt(Ee.segments,Ee.children);if(0===Ue.length&&We.hasChildren())return this.expandChildren(K,G,We).pipe((0,ht.U)(Ft=>new xt(_,Ft)));if(0===G.length&&0===Ue.length)return(0,ot.of)(new xt(_,{}));const pt=ci(s)===l;return this.expandSegment(K,We,G,Ue,pt?Nt:l,!0).pipe((0,ht.U)(bn=>new xt(_.concat(bn.segments),bn.children)))}))}getChildConfig(e,t,s){return t.children?(0,ot.of)(new Ll(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,ot.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,Jn.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,ht.U)(l=>(t._loadedConfig=l,l))):(n=t,new _n.y(e=>e.error(Si(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,ot.of)(new Ll([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,ot.of)(!0);const l=a.map(p=>{const _=e.get(p);let b;if((n=_)&&xo(n.canLoad))b=_.canLoad(t,s);else{if(!xo(_))throw new Error("Invalid CanLoad guard");b=_(t,s)}var n;return Hs(b)});return(0,ot.of)(l).pipe(Vm(),(0,ar.b)(p=>{if(!Da(p))return;const _=Si(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw _.url=p,_}),(0,ht.U)(p=>!0===p))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,ot.of)(s);if(a.numberOfChildren>1||!a.children[Nt])return ST(e.redirectTo);a=a.children[Nt]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const l=this.createSegmentGroup(e,t.root,s,a);return new ba(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return vr(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const _=a.substring(1);s[l]=t[_]}else s[l]=a}),s}createSegmentGroup(e,t,s,a){const l=this.createSegments(e,t.segments,s,a);let p={};return vr(t.children,(_,b)=>{p[b]=this.createSegmentGroup(e,_,s,a)}),new xt(l,p)}createSegments(e,t,s,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function mp(n){const e={};for(const s of Object.keys(n.children)){const l=mp(n.children[s]);(l.segments.length>0||l.hasChildren())&&(e[s]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Nt]){const e=n.children[Nt];return new xt(n.segments.concat(e.segments),e.children)}return n}(new xt(n.segments,e))}class nb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yp{constructor(e,t){this.component=e,this.route=t}}function rb(n,e,t){const s=n._root;return vp(s,e?e._root:null,t,[s.value])}function _p(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function vp(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=So(e);return n.children.forEach(p=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,p=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(p&&l.routeConfig===p.routeConfig){const b=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!To(n.url,e.url);case"pathParamsOrQueryParamsChange":return!To(n.url,e.url)||!$s(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ia(n,e)||!$s(n.queryParams,e.queryParams);case"paramsChange":default:return!Ia(n,e)}}(p,l,l.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new nb(s)):(l.data=p.data,l._resolvedData=p._resolvedData),vp(n,e,l.component?_?_.children:null:t,s,a),b&&_&&_.outlet&&_.outlet.isActivated&&a.canDeactivateChecks.push(new yp(_.outlet.component,p))}else p&&mh(e,_,a),a.canActivateChecks.push(new nb(s)),vp(n,null,l.component?_?_.children:null:t,s,a)})(p,l[p.value.outlet],t,s.concat([p.value]),a),delete l[p.value.outlet]}),vr(l,(p,_)=>mh(p,t.getContext(_),a)),a}function mh(n,e,t){const s=So(n),a=n.value;vr(s,(l,p)=>{mh(l,a.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new yp(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class cb{}function zm(n){return new _n.y(e=>e.error(n))}class MT{constructor(e,t,s,a,l,p){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=p}recognize(){const e=ph(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Nt);if(null===t)return null;const s=new er([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ao(s,t),l=new uh(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,s=Er(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const l of Object.keys(t.children)){const p=t.children[l],_=wv(e,l),b=this.processSegmentGroup(_,p,l);if(null===b)return null;s.push(...b)}const a=Av(s);return a.sort((e,t)=>e.value.outlet===Nt?-1:t.value.outlet===Nt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,s,a){for(const l of e){const p=this.processSegmentAgainstRoute(l,t,s,a);if(null!==p)return p}return Bm(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!Qw(e,t,s,a))return null;let l,p=[],_=[];if("**"===e.path){const G=s.length>0?Sm(s).parameters:{};l=new er(s,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xv(e),ci(e),e.component,e,Sv(t),kT(t)+s.length,hb(e))}else{const G=fh(t,e,s);if(!G.matched)return null;p=G.consumedSegments,_=s.slice(G.lastChild),l=new er(p,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xv(e),ci(e),e.component,e,Sv(t),kT(t)+p.length,hb(e))}const b=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:N}=ph(t,p,_,b.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&S.hasChildren()){const G=this.processChildren(b,S);return null===G?null:[new Ao(l,G)]}if(0===b.length&&0===N.length)return[new Ao(l,[])];const P=ci(e)===a,K=this.processSegment(b,S,N,P?Nt:a);return null===K?null:[new Ao(l,K)]}}function PT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Av(n){const e=[],t=new Set;for(const s of n){if(!PT(s)){e.push(s);continue}const a=e.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=Av(s.children);e.push(new Ao(s.value,a))}return e.filter(s=>!t.has(s))}function Sv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kT(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function xv(n){return n.data||{}}function hb(n){return n.resolve||{}}function Wm(n){return gn(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,ht.U)(()=>e)):(0,ot.of)(e)})}class BT extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Rv=new h.OlP("ROUTES");class Nv{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,ht.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=l.create(e);return new Ll(Am(p.injector.get(Rv,void 0,h.XFs.Self|h.XFs.Optional)).map(jm),p)}),vs(l=>{throw t._loader$=void 0,l}));return t._loader$=new oi.c(a,()=>new _s.xQ).pipe((0,Il.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,un.D)(this.loader.load(e)):Hs(e()).pipe((0,Jn.zg)(t=>t instanceof h.YKP?(0,ot.of)(t):(0,un.D)(this.compiler.compileModuleAsync(t))))}}class $T{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yh,this.attachRef=null}}class yh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new $T,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class bt{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pb(n){throw n}function gb(n,e,t){return e.parse("/")}function wp(n,e){return(0,ot.of)(null)}const Mo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class n{constructor(t,s,a,l,p,_,b,S){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _s.xQ,this.errorHandler=pb,this.malformedUriErrorHandler=gb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wp,afterPreactivation:wp},this.urlHandlingStrategy=new bt,this.routeReuseStrategy=new BT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(h.h0i),this.console=p.get(h.c2e);const K=p.get(h.R0b);this.isNgZoneEnabled=K instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new ba(new xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nv(_,b,G=>this.triggerEvent(new su(G)),G=>this.triggerEvent(new eh(G))),this.routerState=kl(this.currentUrlTree,this.rootComponentType),this.transitions=new si({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(mr(a=>0!==a.id),(0,ht.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),gn(a=>{let l=!1,p=!1;return(0,ot.of)(a).pipe((0,ar.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gn(_=>{const b=this.browserUrlTree.toString(),S=!this.navigated||_.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return qs(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,ot.of)(_).pipe(gn(P=>{const K=this.transitions.getValue();return s.next(new np(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),K!==this.transitions.getValue()?Xn.E:Promise.resolve(P)}),function(n,e,t,s){return gn(a=>function(n,e,t,s,a){return new Iv(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,ht.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ar.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function(n,e,t,s,a){return(0,Jn.zg)(l=>function(n,e,t,s,a="emptyOnly",l="legacy"){try{const p=new MT(n,e,t,s,a,l).recognize();return null===p?zm(new cb):(0,ot.of)(p)}catch(p){return zm(p)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),s,a).pipe((0,ht.U)(p=>Object.assign(Object.assign({},l),{targetSnapshot:p}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ar.b)(P=>{"eager"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(P.urlAfterRedirects,P),this.browserUrlTree=P.urlAfterRedirects);const K=new rp(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);s.next(K)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:K,extractedUrl:G,source:Ee,restoredState:Ue,extras:We}=_,pt=new np(K,this.serializeUrl(G),Ee,Ue);s.next(pt);const Wt=kl(G,this.rootComponentType).snapshot;return(0,ot.of)(Object.assign(Object.assign({},_),{targetSnapshot:Wt,urlAfterRedirects:G,extras:Object.assign(Object.assign({},We),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Xn.E}),Wm(_=>{const{targetSnapshot:b,id:S,extractedUrl:N,rawUrl:P,extras:{skipLocationChange:K,replaceUrl:G}}=_;return this.hooks.beforePreactivation(b,{navigationId:S,appliedUrlTree:N,rawUrlTree:P,skipLocationChange:!!K,replaceUrl:!!G})}),(0,ar.b)(_=>{const b=new Ea(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),(0,ht.U)(_=>Object.assign(Object.assign({},_),{guards:rb(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Jn.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:p}}=t;return 0===p.length&&0===l.length?(0,ot.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,un.D)(n).pipe((0,Jn.zg)(a=>function(n,e,t,s,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,ot.of)(!0);const p=l.map(_=>{const b=_p(_,e,a);let S;if(function(n){return n&&xo(n.canDeactivate)}(b))S=Hs(b.canDeactivate(n,e,t,s));else{if(!xo(b))throw new Error("Invalid CanDeactivate guard");S=Hs(b(n,e,t,s))}return S.pipe(Do())});return(0,ot.of)(p).pipe(Vm())}(a.component,a.route,t,e,s)),Do(a=>!0!==a,!0))}(p,s,a,n).pipe((0,Jn.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,e,t,s){return(0,un.D)(e).pipe(Gr(a=>Bn(function(n,e){return null!==n&&e&&e(new ip(n)),(0,ot.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new Im(n)),(0,ot.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(p=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(p)).filter(p=>null!==p).map(p=>ma(()=>{const _=p.guards.map(b=>{const S=_p(b,p.node,t);let N;if(function(n){return n&&xo(n.canActivateChild)}(S))N=Hs(S.canActivateChild(s,n));else{if(!xo(S))throw new Error("Invalid CanActivateChild guard");N=Hs(S(s,n))}return N.pipe(Do())});return(0,ot.of)(_).pipe(Vm())}));return(0,ot.of)(l).pipe(Vm())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,ot.of)(!0);const a=s.map(l=>ma(()=>{const p=_p(l,e,t);let _;if(function(n){return n&&xo(n.canActivate)}(p))_=Hs(p.canActivate(e,n));else{if(!xo(p))throw new Error("Invalid CanActivate guard");_=Hs(p(e,n))}return _.pipe(Do())}));return(0,ot.of)(a).pipe(Vm())}(n,a.route,t))),Do(a=>!0!==a,!0))}(s,l,n,e):(0,ot.of)(_)),(0,ht.U)(_=>Object.assign(Object.assign({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,ar.b)(_=>{if(Da(_.guardsResult)){const S=Si(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw S.url=_.guardsResult,S}const b=new lv(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(b)}),mr(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),Wm(_=>{if(_.guards.canActivateChecks.length)return(0,ot.of)(_).pipe((0,ar.b)(b=>{const S=new Cm(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}),gn(b=>{let S=!1;return(0,ot.of)(b).pipe(function(n,e){return(0,Jn.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,ot.of)(t);let l=0;return(0,un.D)(a).pipe(Gr(p=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,ot.of)({});const l={};return(0,un.D)(a).pipe((0,Jn.zg)(p=>function(n,e,t,s){const a=_p(n,e,s);return Hs(a.resolve?a.resolve(e,t):a(e,t))}(n[p],e,t,s).pipe((0,ar.b)(_=>{l[p]=_}))),Qd(1),(0,Jn.zg)(()=>Object.keys(l).length===a.length?(0,ot.of)(l):Xn.E))}(n._resolve,n,e,s).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Er(n,t).resolve),null)))}(p.route,s,n,e)),(0,ar.b)(()=>l++),Qd(1),(0,Jn.zg)(p=>l===a.length?(0,ot.of)(t):Xn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ar.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,ar.b)(b=>{const S=new zw(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}))}),Wm(_=>{const{targetSnapshot:b,id:S,extractedUrl:N,rawUrl:P,extras:{skipLocationChange:K,replaceUrl:G}}=_;return this.hooks.afterPreactivation(b,{navigationId:S,appliedUrlTree:N,rawUrlTree:P,skipLocationChange:!!K,replaceUrl:!!G})}),(0,ht.U)(_=>{const b=function(n,e,t){const s=gc(n,e._root,t?t._root:void 0);return new In(s,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:b})}),(0,ar.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(s=>(new Fm(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,ar.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new Em(n))}(()=>{if(!l&&!p){const _=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,_)):this.cancelNavigationTransition(a,_)}this.currentNavigation=null}),vs(_=>{if(p=!0,function(n){return n&&n[Tm]}(_)){const b=Da(_.url);b||(this.navigated=!0,this.restoreHistory(a,!0));const S=new bm(a.id,this.serializeUrl(a.extractedUrl),_.message);s.next(S),b?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),P={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qs(a.source)};this.scheduleNavigation(N,"imperative",null,P,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const b=new dc(a.id,this.serializeUrl(a.extractedUrl),_);s.next(b);try{a.resolve(this.errorHandler(_))}catch(S){a.reject(S)}}return Xn.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:p}=s,_={replaceUrl:!0};if(l){const b=Object.assign({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(_.state=b)}this.scheduleNavigation(p,a,l,_)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Um(t),this.config=t.map(jm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:l,fragment:p,queryParamsHandling:_,preserveFragment:b}=s,S=a||this.routerState.root,N=b?this.currentUrlTree.fragment:p;let P=null;switch(_){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=l||null}return null!==P&&(P=this.removeEmptyProps(P)),function(n,e,t,s,a){if(0===t.length)return f(e.root,e.root,e,s,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new E(!0,0,n);let e=0,t=!1;const s=n.reduce((a,l,p)=>{if("object"==typeof l&&null!=l){if(l.outlets){const _={};return vr(l.outlets,(b,S)=>{_[S]="string"==typeof b?b.split("/"):b}),[...a,{outlets:_}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===p?(l.split("/").forEach((_,b)=>{0==b&&"."===_||(0==b&&""===_?t=!0:".."===_?e++:""!=_&&a.push(_))}),a):[...a,l]},[]);return new E(t,e,s)}(t);if(l.toRoot())return f(e.root,new xt([],{}),e,s,a);const p=function(n,e,t){if(n.isAbsolute)return new M(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new M(l,l===e.root,0)}const s=mc(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,l=t;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new M(s,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(l,e,n),_=p.processChildren?lt(p.segmentGroup,p.index,l.commands):Qe(p.segmentGroup,p.index,l.commands);return f(p.segmentGroup,_,e,s,a)}(S,this.currentUrlTree,t,P,null!=N?N:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=Da(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},Mo):!1===s?Object.assign({},mb):s,Da(t))return ap(this.currentUrlTree,t,a);const l=this.parseUrl(t);return ap(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const l=t[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Dl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,l,p){var _,b;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),N=qs(s)&&S&&!qs(S.source),G=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===t.toString();if(N&&G)return Promise.resolve(!0);let Ee,Ue,We;p?(Ee=p.resolve,Ue=p.reject,We=p.promise):We=new Promise((bn,Ft)=>{Ee=bn,Ue=Ft});const pt=++this.navigationId;let Wt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Wt=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Wt=0,this.setTransition({id:pt,targetPageId:Wt,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:Ee,reject:Ue,promise:We,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),We.catch(bn=>Promise.reject(bn))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new bm(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.DyG),h.LFG(Sl),h.LFG(yh),h.LFG(Fe),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function qs(n){return"imperative"!==n}let Cp=(()=>{class n{constructor(t,s,a){this.router=t,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new _s.xQ,this.subscription=t.events.subscribe(l=>{l instanceof Dl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,s,a,l,p){if(0!==t||s||a||l||p||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:_c(this.skipLocationChange),replaceUrl:_c(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_c(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(li),h.Y36(lu),h.Y36(q))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,s){1&t&&h.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&(h.Ikx("href",s.href,h.LSH),h.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})();function _c(n){return""===n||!!n}let _b=(()=>{class n{constructor(t,s,a,l,p){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=l||Nt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,b=new du(t,_,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(yh),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class du{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===lu?this.route:e===yh?this.childContexts:this.parent.get(e,t)}}class Ip{}class Km{preload(e,t){return(0,ot.of)(null)}}let GT=(()=>{class n{constructor(t,s,a,l,p){this.router=t,this.injector=l,this.preloadingStrategy=p,this.loader=new Nv(s,a,S=>t.triggerEvent(new su(S)),S=>t.triggerEvent(new eh(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(mr(t=>t instanceof Dl),Gr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const p=l._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,un.D)(a).pipe((0,xn.J)(),(0,ht.U)(l=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,ot.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,Jn.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(li),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Ip))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ov=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof np?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new Dm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(li),h.LFG(fo),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const _h=new h.OlP("ROUTER_CONFIGURATION"),vb=new h.OlP("ROUTER_FORROOT_GUARD"),Eb=[Fe,{provide:Sl,useClass:gv},{provide:li,useFactory:function(n,e,t,s,a,l,p,_={},b,S){const N=new li(null,n,e,t,s,a,l,Am(p));return b&&(N.urlHandlingStrategy=b),S&&(N.routeReuseStrategy=S),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(_,N),_.enableTracing&&N.events.subscribe(P=>{var K,G;null===(K=console.group)||void 0===K||K.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(G=console.groupEnd)||void 0===G||G.call(console)}),N},deps:[Sl,yh,Fe,h.zs3,h.v3s,h.Sil,Rv,_h,[class{},new h.FiY],[class{},new h.FiY]]},yh,{provide:lu,useFactory:function(n){return n.routerState.root},deps:[li]},{provide:h.v3s,useClass:h.EAV},GT,Km,class{preload(e,t){return t().pipe(vs(()=>(0,ot.of)(null)))}},{provide:_h,useValue:{enableTracing:!1}}];function wb(){return new h.PXZ("Router",li)}let bb=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[Eb,zT(t),{provide:vb,useFactory:_R,deps:[[li,new h.FiY,new h.tp0]]},{provide:_h,useValue:s||{}},{provide:q,useFactory:yR,deps:[le,[new h.tBr(ve),new h.FiY],_h]},{provide:Ov,useFactory:Pv,deps:[li,fo,_h]},{provide:Ip,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Km},{provide:h.PXZ,multi:!0,useFactory:wb},[Cb,{provide:h.ip1,multi:!0,useFactory:bR,deps:[Cb]},{provide:WT,useFactory:CR,deps:[Cb]},{provide:h.tb,multi:!0,useExisting:WT}]]}}static forChild(t){return{ngModule:n,providers:[zT(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(vb,8),h.LFG(li,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Pv(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ov(n,e,t)}function yR(n,e,t={}){return t.useHash?new De(n,e):new he(n,e)}function _R(n){return"guarded"}function zT(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Rv,multi:!0,useValue:n}]}let Cb=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new _s.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(_=>s=_),l=this.injector.get(li),p=this.injector.get(_h);return"disabled"===p.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,ot.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(_h),a=this.injector.get(GT),l=this.injector.get(Ov),p=this.injector.get(li),_=this.injector.get(h.z2F);t===_.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),l.init(),p.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function bR(n){return n.appInitializer.bind(n)}function CR(n){return n.bootstrapListener.bind(n)}const WT=new h.OlP("Router Initializer");var kv=V(1555);function Dp(n,e){return new _n.y(t=>{const s=n.length;if(0===s)return void t.complete();const a=new Array(s);let l=0,p=0;for(let _=0;_<s;_++){const b=(0,un.D)(n[_]);let S=!1;t.add(b.subscribe({next:N=>{S||(S=!0,p++),a[_]=N},error:N=>t.error(N),complete:()=>{l++,(l===s||!S)&&(p===s&&t.next(e?e.reduce((N,P,K)=>(N[P]=a[K],N),{}):a),t.complete())}}))}})}let Ym=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),vc=(()=>{class n extends Ym{}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const zs=new h.OlP("NgValueAccessor"),Ib={provide:zs,useExisting:(0,h.Gpc)(()=>fu),multi:!0},DR=new h.OlP("CompositionEventMode");let fu=(()=>{class n extends Ym{constructor(t,s,a){super(t,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(DR,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&h.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[h._Bn([Ib]),h.qOj]}),n})();function Ec(n){return null==n||0===n.length}function Fv(n){return null!=n&&"number"==typeof n.length}const di=new h.OlP("NgValidators"),wc=new h.OlP("NgAsyncValidators"),Tp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oo{static min(e){return function(n){return e=>{if(Ec(e.value)||Ec(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(Ec(e.value)||Ec(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return Ec(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return Db(e)}static minLength(e){return function(n){return e=>Ec(e.value)||!Fv(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>Fv(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Ta;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),s=>{if(Ec(s.value))return null;const a=s.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return $v(e)}static composeAsync(e){return Gv(e)}}function Db(n){return Ec(n.value)||Tp.test(n.value)?null:{email:!0}}function Ta(n){return null}function Uv(n){return null!=n}function Ap(n){const e=(0,h.QGY)(n)?(0,un.D)(n):n;return(0,h.CqO)(e),e}function Tb(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function jv(n,e){return e.map(t=>t(n))}function Bv(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function $v(n){if(!n)return null;const e=n.filter(Uv);return 0==e.length?null:function(t){return Tb(jv(t,e))}}function Hv(n){return null!=n?$v(Bv(n)):null}function Gv(n){if(!n)return null;const e=n.filter(Uv);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,El.k)(e))return Dp(e,null);if((0,kv.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Dp(t.map(s=>e[s]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Dp(n=1===n.length&&(0,El.k)(n[0])?n[0]:n,null).pipe((0,ht.U)(t=>e(...t)))}return Dp(n,null)}(jv(t,e).map(Ap)).pipe((0,ht.U)(Tb))}}function qv(n){return null!=n?Gv(Bv(n)):null}function Ab(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qi(n){return n._rawValidators}function Sb(n){return n._rawAsyncValidators}function zv(n){return n?Array.isArray(n)?n:[n]:[]}function Wv(n,e){return Array.isArray(n)?n.includes(e):n===e}function QT(n,e){const t=zv(e);return zv(n).forEach(a=>{Wv(t,a)||t.push(a)}),t}function Zv(n,e){return zv(e).filter(t=>!Wv(n,t))}let JT=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Hv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n}),n})(),xi=(()=>{class n extends JT{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();class Aa extends JT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kv{constructor(e){this._cd=e}is(e){var t,s,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[e])}}let Sp=(()=>{class n extends Kv{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Aa,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[h.qOj]}),n})(),Eh=(()=>{class n extends Kv{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(xi,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,s){2&t&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[h.qOj]}),n})();function Rp(n,e){return[...e.path,n]}function Np(n,e){Xv(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Nb(n,e)})}(n,e),function(n,e){const t=(s,a)=>{e.valueAccessor.writeValue(s),a&&e.viewToModelUpdate(s)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Nb(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=s=>{e.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Xm(n,e,t=!0){const s=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(s),e.valueAccessor.registerOnTouched(s)),ty(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ey(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Xv(n,e){const t=qi(n);null!==e.validator?n.setValidators(Ab(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const s=Sb(n);null!==e.asyncValidator?n.setAsyncValidators(Ab(s,e.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();ey(e._rawValidators,a),ey(e._rawAsyncValidators,a)}function ty(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=qi(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(p=>p!==e.validator);l.length!==a.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const a=Sb(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(p=>p!==e.asyncValidator);l.length!==a.length&&(t=!0,n.setAsyncValidators(l))}}}const s=()=>{};return ey(e._rawValidators,s),ey(e._rawAsyncValidators,s),t}function Nb(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ry(n,e){Xv(n,e)}function Mp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ob(n,e){n._syncPendingControls(),e.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function iy(n,e){if(!e)return null;let t,s,a;return Array.isArray(e),e.forEach(l=>{l.constructor===fu?t=l:function(n){return Object.getPrototypeOf(n.constructor)===vc}(l)?s=l:a=l}),a||s||t||null}function Op(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const wh="VALID",Pp="INVALID",zi="PENDING",bc="DISABLED";function nE(n){return($l(n)?n.validators:n)||null}function iA(n){return Array.isArray(n)?Hv(n):n||null}function Cc(n,e){return($l(e)?e.asyncValidators:n)||null}function rE(n){return Array.isArray(n)?qv(n):n||null}function $l(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Hl{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=iA(this._rawValidators),this._composedAsyncValidatorFn=rE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wh}get invalid(){return this.status===Pp}get pending(){return this.status==zi}get disabled(){return this.status===bc}get enabled(){return this.status!==bc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=iA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=rE(e)}addValidators(e){this.setValidators(QT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Zv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Zv(e,this._rawAsyncValidators))}hasValidator(e){return Wv(this._rawValidators,e)}hasAsyncValidator(e){return Wv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zi,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bc,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wh,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wh||this.status===zi)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bc:wh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zi,this._hasOwnPendingAsyncValidator=!0;const t=Ap(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let s=n;return e.forEach(a=>{s=s instanceof Ic?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof Pb&&s.at(a)||null}),s}(this,e)}getError(e,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?bc:this.errors?Pp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zi)?zi:this._anyControlsHaveStatus(Pp)?Pp:wh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$l(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Po extends Hl{constructor(e=null,t,s){super(nE(t),Cc(s,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Op(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Op(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ic extends Hl{constructor(e,t,s){super(nE(t),Cc(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,s={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,s)=>(e[s]=t instanceof Po?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&e(s,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&e(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,s)=>((t.enabled||this.disabled)&&(e[s]=t.value),e))}_reduceChildren(e,t){let s=e;return this._forEachChild((a,l)=>{s=t(s,a,l)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class Pb extends Hl{constructor(e,t,s){super(nE(t),Cc(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,s={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Po?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,s)=>{e(t,s)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const sA={provide:xi,useExisting:(0,h.Gpc)(()=>bh)},kp=(()=>Promise.resolve(null))();let bh=(()=>{class n extends xi{constructor(t,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.vpe,this.form=new Ic({},Hv(t),qv(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kp.then(()=>{const s=this._findContainer(t.path);t.control=s.registerControl(t.name,t.control),Np(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kp.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name),Op(this._directives,t)})}addFormGroup(t){kp.then(()=>{const s=this._findContainer(t.path),a=new Ic({});ry(a,t),s.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kp.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,s){kp.then(()=>{this.form.get(t.path).setValue(s)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ob(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(di,10),h.Y36(wc,10))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,s){1&t&&h.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([sA]),h.qOj]}),n})();const Ch={provide:Aa,useExisting:(0,h.Gpc)(()=>iE)},Lb=(()=>Promise.resolve(null))();let iE=(()=>{class n extends Aa{constructor(t,s,a,l){super(),this.control=new Po,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=iy(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Mp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Rp(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Np(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Lb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const s=t.isDisabled.currentValue,a=""===s||s&&"false"!==s;Lb.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(xi,9),h.Y36(di,10),h.Y36(wc,10),h.Y36(zs,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Ch]),h.qOj,h.TTD]}),n})(),Lp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const jb=new h.OlP("NgModelWithFormControlWarning"),$b={provide:xi,useExisting:(0,h.Gpc)(()=>Gl)};let Gl=(()=>{class n extends xi{constructor(t,s){super(),this.validators=t,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(s)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ty(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const s=this.form.get(t.path);return Np(s,t),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),s}getControl(t){return this.form.get(t.path)}removeControl(t){Xm(t.control||null,t,!1),Op(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,s){this.form.get(t.path).setValue(s)}onSubmit(t){return this.submitted=!0,Ob(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const s=t.control,a=this.form.get(t.path);s!==a&&(Xm(s||null,t),a instanceof Po&&(Np(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const s=this.form.get(t.path);ry(s,t),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const s=this.form.get(t.path);s&&function(n,e){return ty(n,e)}(s,t)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xv(this.form,this),this._oldForm&&ty(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(di,10),h.Y36(wc,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,s){1&t&&h.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([$b]),h.qOj,h.TTD]}),n})();const aE={provide:Aa,useExisting:(0,h.Gpc)(()=>Dh)};let Dh=(()=>{class n extends Aa{constructor(t,s,a,l,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=iy(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Mp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Rp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(xi,13),h.Y36(di,10),h.Y36(wc,10),h.Y36(zs,10),h.Y36(jb,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([aE]),h.qOj,h.TTD]}),n._ngModelWarningSentOnce=!1,n})();const BR={provide:di,useExisting:(0,h.Gpc)(()=>Yb),multi:!0};let Yb=(()=>{class n{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?Db(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[h._Bn([BR])]}),n})(),nC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[sy]]}),n})(),_A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[nC]}),n})(),vA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jb,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[nC]}),n})(),ly=(()=>{class n{constructor(){}ngOnInit(){}siustiZinute(t){console.log(t.value),t.resetForm()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-kontaktai"]],decls:63,vars:0,consts:[[1,"kontaktaiStilius"],[1,"virsus"],["id","vidurys"],[1,"vardai"],["href","mailto:jonas@gmail.com"],["href","mailto:nerijus@gmail.com"],["href","mailto:raimondas@gmail.com"],["href","mailto:arnas@gmail.com"],["href","mailto:egidijus@gmail.com"],["href","mailto:virginijus@gmail.com"],["href","mailto:zydrunas@gmail.com"],[1,"zemelapis"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5345.510251885649!2d21.09570480508805!3d55.71488505706317!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46e4dbdb354f073f%3A0x121b2efa4deab475!2sLietuvos%20j%C5%ABr%C5%B3%20muziejus!5e0!3m2!1slt!2slt!4v1634495391050!5m2!1slt!2slt","width","600","height","450","allowfullscreen","","loading","lazy",2,"border","0"],[1,"parasytiZinute",3,"ngSubmit"],["zinuteIsKontaktu","ngForm"],["type","text","id","na-me-kont","name","nameKont","placeholder","Vardas","ngModel",""],["type","email","id","e-mail-kont","name","emailKont","placeholder","Email","ngModel",""],["type","text","id","zinute-kont","name","zinuteKont","placeholder","Para\u0161ykite \u017einut\u0119...","ngModel",""],["type","submit","id","siusti"],[1,"apacia"],[1,"kontaktai"],[2,"size","20px"],["href","mailto:delfinas@gmail.com"],[1,"eilerastis"],[1,"eilerastisPasleptas"]],template:function(t,s){if(1&t){const a=h.EpF();h.TgZ(0,"span"),h.TgZ(1,"div",0),h._UZ(2,"div",1),h.TgZ(3,"div",2),h.TgZ(4,"div",3),h.TgZ(5,"h3"),h._uU(6,"JBIT-1"),h.qZA(),h.TgZ(7,"p"),h._uU(8,"Jonas 1 "),h.TgZ(9,"a",4),h._uU(10,"jonas@gmail.com"),h.qZA(),h.qZA(),h.TgZ(11,"p"),h._uU(12,"Nerijus "),h.TgZ(13,"a",5),h._uU(14,"nerijus@gmail.com"),h.qZA(),h.qZA(),h.TgZ(15,"p"),h._uU(16,"Raimondas "),h.TgZ(17,"a",6),h._uU(18,"raimondas@gmail.com"),h.qZA(),h.qZA(),h.TgZ(19,"p"),h._uU(20,"Arnas 4 "),h.TgZ(21,"a",7),h._uU(22,"arnas@gmail.com"),h.qZA(),h.qZA(),h.TgZ(23,"p"),h._uU(24,"Egidijus "),h.TgZ(25,"a",8),h._uU(26,"egidijus@gmail.com"),h.qZA(),h.qZA(),h.TgZ(27,"p"),h._uU(28,"Virginijus "),h.TgZ(29,"a",9),h._uU(30,"virginijus@gmail.com"),h.qZA(),h.qZA(),h.TgZ(31,"p"),h._uU(32,"\u017dydr\u016bnas 7"),h.TgZ(33,"a",10),h._uU(34,"zydrunas@gmail.com"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(35,"div",11),h._UZ(36,"iframe",12),h.qZA(),h.TgZ(37,"div"),h.TgZ(38,"form",13,14),h.NdJ("ngSubmit",function(){h.CHM(a);const p=h.MAs(39);return s.siustiZinute(p)}),h._UZ(40,"input",15),h._UZ(41,"input",16),h._UZ(42,"textarea",17),h.TgZ(43,"button",18),h._uU(44,"Si\u0173sti"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(45,"div",19),h._UZ(46,"div"),h.TgZ(47,"div",20),h.TgZ(48,"p",21),h._uU(49,"KONTAKTAI"),h.qZA(),h.TgZ(50,"p"),h._uU(51,"Telefonas 9876345"),h.qZA(),h.TgZ(52,"p"),h._uU(53,"Adresas: Smiltyn\u0117s g. 3, Klaip\u0117da 93100"),h.qZA(),h.TgZ(54,"p"),h._uU(55,"El. pa\u0161tas: "),h.TgZ(56,"a",22),h._uU(57,"delfinas@gmail.com"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(58,"div",23),h._uU(59,"OD\u0116"),h.qZA(),h.TgZ(60,"div",24),h.TgZ(61,"pre"),h._uU(62,"                \u0160it\u0105 AUTO man likimas dovanojo\n                Pilk\u0105 stog\u0105, mink\u0161t\u0105 sost\u0105 ir ratus,\n                Ji r\u016bdim auksin\u0117m kas pavasar\u012f liepsnoja,\n                Man jos gro\u017eio kiek yra, tiek ir pakanka\n                Jos kalba mane u\u017eb\u016br\u0117 am\u017einai,\n                Mano AUTO man \u2013 vieninteliai namai.\n            "),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}},directives:[Lp,Eh,bh,fu,Sp,iE],styles:["*[_ngcontent-%COMP%]{margin:0vh,0vw}.kontaktaiStiliuss[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-image:url(kontaktai_retro.6d1273108be7ab56076e.jpg);background-position:center;background-size:cover;background-repeat:no-repeat}.virsus[_ngcontent-%COMP%]{margin-top:5%;size:300px;text-align:center}#vidurys[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-content:space-between;margin-bottom:10px}.apacia[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-content:space-between;background-color:transparent;margin:0;padding:10%}.vardai[_ngcontent-%COMP%], .parasytiZinute[_ngcontent-%COMP%], .kontaktai[_ngcontent-%COMP%]{background-color:#CFB784,03}.vardai[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%], label[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-weight:bold;color:#fff}a[_ngcontent-%COMP%]:hover{color:#c56824;background:#eee5c7}.parasytiZinute[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center}input[_ngcontent-%COMP%]{width:300px;display:block;padding:20px;font-size:14px;-webkit-appearance:none;border:1px solid;border-radius:5px;outline:0;transition:.3s}input[_ngcontent-%COMP%]:hover, #zinute-kont[_ngcontent-%COMP%]:hover{background:#EADEB8}#zinute-kont[_ngcontent-%COMP%]{box-sizing:border-box;width:300px;height:200px}#siusti[_ngcontent-%COMP%]:hover{background-color:#c56824}#siusti[_ngcontent-%COMP%]{margin-top:12px;width:100%;padding:20px;background-color:#cfb784;-webkit-appearance:none;outline:0;border:0;border-radius:5px;color:#fff;transition:.3s}#zemelapis[_ngcontent-%COMP%]{box-sizing:border-box;height:20pt;width:20pt}.eilerastis[_ngcontent-%COMP%]{color:#faebd7}.eilerastisPasleptas[_ngcontent-%COMP%]{display:none;box-sizing:content-box}.eilerastis[_ngcontent-%COMP%]:hover + .eilerastisPasleptas[_ngcontent-%COMP%]{position:absolute;color:tomato;font-size:15px;display:block;background-color:#f5f5f5}@media (max-width: 575.98px){.zemelapis[_ngcontent-%COMP%]{display:none}}@media (min-width: 576px) and (max-width: 767.98px){.zemelapis[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px) and (max-width: 991.98px){.zemelapis[_ngcontent-%COMP%]{display:none}}"]}),n})();var we=V(8239);let Vp=(()=>{class n{constructor(t){this.http=t,this.url="http://ngs.pythonanywhere.com",this.usersUrl=this.url+"/api/users",this.messagesUrl=this.url+"/api/messages",this.loginUrl=this.url+"/api/login",this.tokenUrl=this.url+"/api/token",this.user={id:0},this.users=[],this.userId=0,this.messages=[]}ngOnInit(){}login(t){return this.http.post(this.loginUrl,t)}token(t){return this.http.post(this.tokenUrl+(t.has("token")?"/"+t.get("token"):""),t)}getUsers(){return this.http.get(this.usersUrl)}getUsersNo(){return this.http.get(this.usersUrl)}getUser(t){return this.http.get(this.usersUrl+"/"+t)}putUser(t,s){return this.http.put(this.usersUrl+"/"+t,s)}postUser(t,s){return this.http.post(this.usersUrl+(t?"/"+t:""),s)}delUser(t){return this.http.delete(this.usersUrl+"/"+t)}getMessages(){return this.http.get(this.messagesUrl)}getMessage(t){return this.http.get(this.messagesUrl+"/"+t)}putMessage(t,s){return this.http.put(this.messagesUrl+"/"+t,s)}postMessage(t,s){return this.http.post(this.messagesUrl+"/"+t,s)}delMessage(t){return this.http.delete(this.messagesUrl+"/"+t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qf))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ko=V(3637),$n=V(6643);function fE(){return n=>n.lift(new EA)}class EA{call(e,t){return t.subscribe(new pE(e))}}class pE extends or.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class Up{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new hi(e,this.compare,this.keySelector))}}class hi extends or.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}var ze,zr=V(8939),Ws=(V(4671),V(4486)),gu=V(5452),mu=V(6034),bs=V(5601),Tt=V(3854),Th="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wi={},Dc=Dc||{},gt=Th||self;function yu(){}function dy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ah(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var hy="closure_uid_"+(1e9*Math.random()>>>0),iC=0;function sC(n,e,t){return n.call.apply(n.bind,arguments)}function oC(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Mr(n,e,t){return(Mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sC:oC).apply(null,arguments)}function jp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function Wr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,l){for(var p=Array(arguments.length-2),_=2;_<arguments.length;_++)p[_-2]=arguments[_];return e.prototype[a].apply(s,p)}}function _u(){this.s=this.s,this.o=this.o}var aC={};_u.prototype.s=!1,_u.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,hy)&&n[hy]||(n[hy]=++iC)}(this);delete aC[n]}},_u.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},uC=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<s;l++)l in a&&e.call(t,a[l],l,n)};function cC(n){return Array.prototype.concat.apply([],arguments)}function fy(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function py(n){return/^[\s\xa0]*$/.test(n)}var Zi,yE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ri(n,e){return-1!=n.indexOf(e)}function _E(n,e){return n<e?-1:n>e?1:0}e:{var lC=gt.navigator;if(lC){var vE=lC.userAgent;if(vE){Zi=vE;break e}}Zi=""}function dC(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function bA(n){const e={};for(const t in n)e[t]=n[t];return e}var CA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hC(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<CA.length;l++)t=CA[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function fC(n){return fC[" "](n),n}fC[" "]=yu;var my,n,DA=Ri(Zi,"Opera"),Tc=Ri(Zi,"Trident")||Ri(Zi,"MSIE"),gy=Ri(Zi,"Edge"),EE=gy||Tc,TA=Ri(Zi,"Gecko")&&!(Ri(Zi.toLowerCase(),"webkit")&&!Ri(Zi,"Edge"))&&!(Ri(Zi,"Trident")||Ri(Zi,"MSIE"))&&!Ri(Zi,"Edge"),ZR=Ri(Zi.toLowerCase(),"webkit")&&!Ri(Zi,"Edge");function AA(){var n=gt.document;return n?n.documentMode:void 0}e:{var yy="",pC=(n=Zi,TA?/rv:([^\);]+)(\)|;)/.exec(n):gy?/Edge\/([\d\.]+)/.exec(n):Tc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ZR?/WebKit\/(\S+)/.exec(n):DA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pC&&(yy=pC?pC[1]:""),Tc){var wE=AA();if(null!=wE&&wE>parseFloat(yy)){my=String(wE);break e}}my=yy}var Sh={};function SA(){return e=Sh,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=yE(String(my)).split("."),t=yE("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==n&&p<s;p++){var a=e[p]||"",l=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=_E(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||_E(0==a[2].length,0==l[2].length)||_E(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var mC=gt.document&&Tc&&(AA()||parseInt(my,10))||void 0,vy=function(){if(!gt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{gt.addEventListener("test",yu,e),gt.removeEventListener("test",yu,e)}catch(t){}return n}();function fi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function xh(n,e){if(fi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(TA){e:{try{fC(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:xA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xh.Z.h.call(this)}}fi.prototype.h=function(){this.defaultPrevented=!0},Wr(xh,fi);var xA={2:"touch",3:"pen",4:"mouse"};xh.prototype.h=function(){xh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Bp="closure_listenable_"+(1e6*Math.random()|0),RA=0;function NA(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++RA,this.ca=this.fa=!1}function Ey(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function $p(n){this.src=n,this.g={},this.h=0}function bE(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=mE(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Ey(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function wy(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==s)return a}return-1}$p.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var p=wy(n,e,s,a);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new NA(e,this.src,l,!!s,a)).fa=t,n.push(e)),e};var by="closure_lm_"+(1e6*Math.random()|0),Hp={};function MA(n,e,t,s,a){if(s&&s.once)return PA(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)MA(n,e[l],t,s,a);return null}return t=qp(t),n&&n[Bp]?n.N(e,t,Ah(s)?!!s.capture:!!s,a):Cy(n,e,t,!1,s,a)}function Cy(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var p=Ah(a)?!!a.capture:!!a,_=DE(n);if(_||(n[by]=_=new $p(n)),(t=_.add(e,t,s,p,l)).proxy)return t;if(s=function(){var e=IE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)vy||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(Iy(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function PA(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)PA(n,e[l],t,s,a);return null}return t=qp(t),n&&n[Bp]?n.O(e,t,Ah(s)?!!s.capture:!!s,a):Cy(n,e,t,!0,s,a)}function Rh(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Rh(n,e[l],t,s,a);else s=Ah(s)?!!s.capture:!!s,t=qp(t),n&&n[Bp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=wy(l=n.g[e],t,s,a))&&(Ey(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=DE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=wy(e,t,s,a)),(t=-1<n?e[n]:null)&&CE(t))}function CE(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Bp])bE(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(Iy(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=DE(e))?(bE(t,n),0==t.h&&(t.src=null,e[by]=null)):Ey(n)}}}function Iy(n){return n in Hp?Hp[n]:Hp[n]="on"+n}function IE(n,e){if(n.ca)n=!0;else{e=new xh(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&CE(n),n=t.call(s,e)}return n}function DE(n){return(n=n[by])instanceof $p?n:null}var Gp="__closure_events_fn_"+(1e9*Math.random()>>>0);function qp(n){return"function"==typeof n?n:(n[Gp]||(n[Gp]=function(e){return n.handleEvent(e)}),n[Gp])}function wr(){_u.call(this),this.i=new $p(this),this.P=this,this.I=null}function pi(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new fi(e,n);else if(e instanceof fi)e.target=e.target||n;else{var a=e;hC(e=new fi(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var p=e.g=t[l];a=Dy(p,s,!0,e)&&a}if(a=Dy(p=e.g=n,s,!0,e)&&a,a=Dy(p,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Dy(p=e.g=t[l],s,!1,e)&&a}function Dy(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ca&&p.capture==t){var _=p.listener,b=p.ia||p.src;p.fa&&bE(n.i,p),a=!1!==_.call(b,s)&&a}}return a&&!s.defaultPrevented}Wr(wr,_u),wr.prototype[Bp]=!0,wr.prototype.removeEventListener=function(n,e,t,s){Rh(this,n,e,t,s)},wr.prototype.M=function(){if(wr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)Ey(t[s]);delete n.g[e],n.h--}}this.I=null},wr.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},wr.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var Ty=gt.JSON.stringify;function yC(){var n=xE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Wp,TE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new AE,n=>n.reset());class AE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _C(n){gt.setTimeout(()=>{throw n},0)}function zp(n,e){Wp||function(){var n=gt.Promise.resolve(void 0);Wp=function(){n.then(EC)}}(),SE||(Wp(),SE=!0),xE.add(n,e)}var SE=!1,xE=new class{constructor(){this.h=this.g=null}add(e,t){const s=TE.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function EC(){for(var n;n=yC();){try{n.h.call(n.g)}catch(t){_C(t)}var e=TE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}SE=!1}function Nh(n,e){wr.call(this),this.h=n||1,this.g=e||gt,this.j=Mr(this.kb,this),this.l=Date.now()}function Ay(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function RE(n,e,t){if("function"==typeof n)t&&(n=Mr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mr(n.handleEvent,n)}return 2147483647<Number(e)?-1:gt.setTimeout(n,e||0)}function wC(n){n.g=RE(()=>{n.g=null,n.i&&(n.i=!1,wC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Wr(Nh,wr),(ze=Nh.prototype).da=!1,ze.S=null,ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pi(this,"tick"),this.da&&(Ay(this),this.start()))}},ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.M=function(){Nh.Z.M.call(this),Ay(this),delete this.g};class FA extends _u{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wC(this)}M(){super.M(),this.g&&(gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mh(n){_u.call(this),this.h=n,this.g={}}Wr(Mh,_u);var Sy=[];function NE(n,e,t,s){Array.isArray(t)||(t&&(Sy[0]=t.toString()),t=Sy);for(var a=0;a<t.length;a++){var l=MA(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function ME(n){dC(n.g,function(e,t){this.g.hasOwnProperty(t)&&CE(e)},n),n.g={}}function Zp(){this.g=!0}function ql(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<a.length;p++)a[p]=""}}}return Ty(t)}catch(_){return e}}(n,t)+(s?" "+s:"")})}Mh.prototype.M=function(){Mh.Z.M.call(this),ME(this)},Mh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zp.prototype.Aa=function(){this.g=!1},Zp.prototype.info=function(){};var Oh={},TC=null;function xy(){return TC=TC||new wr}function OE(n){fi.call(this,Oh.Ma,n)}function Kp(n){const e=xy();pi(e,new OE(e,n))}function ur(n,e){fi.call(this,Oh.STAT_EVENT,n),this.stat=e}function gi(n){const e=xy();pi(e,new ur(e,n))}function AC(n,e){fi.call(this,Oh.Na,n),this.size=e}function Yp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return gt.setTimeout(function(){n()},e)}Oh.Ma="serverreachability",Wr(OE,fi),Oh.STAT_EVENT="statevent",Wr(ur,fi),Oh.Na="timingevent",Wr(AC,fi);var Qp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},SC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ry(){}function zl(){}Ry.prototype.h=null;var FE,Jp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kE(){fi.call(this,"d")}function Ny(){fi.call(this,"c")}function Xp(){}function My(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new Mh(this),this.P=VE,this.W=new Nh(n=EE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new LE}function LE(){this.i=null,this.g="",this.h=!1}Wr(kE,fi),Wr(Ny,fi),Wr(Xp,Ry),Xp.prototype.g=function(){return new XMLHttpRequest},Xp.prototype.i=function(){return{}},FE=new Xp;var VE=45e3,Zs={},Oy={};function UE(n,e,t){n.K=1,n.v=ig(Ra(e)),n.s=t,n.U=!0,Fo(n,null)}function Fo(n,e){n.F=Date.now(),Ph(n),n.A=Ra(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),LC(t.h,"t",s),n.C=0,t=n.l.H,n.h=new LE,n.g=qh(n.l,t?e:null,!n.s),0<n.O&&(n.L=new FA(Mr(n.Ia,n,n.g),n.O)),NE(n.V,n.g,"readystatechange",n.gb),e=n.H?bA(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Kp(1),function(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var p="",_=l.split("&"),b=0;b<_.length;b++){var S=_[b].split("=");if(1<S.length){var N=S[0];S=S[1];var P=N.split("_");p=2<=P.length&&"type"==P[1]?p+(N+"=")+S+"&":p+(N+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Ks(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Ys(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=xC(n,t),a==Oy){4==e&&(n.o=4,gi(14),s=!1),ql(n.j,n.m,null,"[Incomplete Response]");break}if(a==Zs){n.o=4,gi(15),ql(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}ql(n.j,n.m,a,null),tg(n,a)}Ks(n)&&a!=Oy&&a!=Zs&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gi(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),YE(e),e.L=!0,gi(11))):(ql(n.j,n.m,t,"[Invalid Chunked Response]"),Wl(n),eg(n))}function xC(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?Oy:(t=Number(e.substring(t,s)),isNaN(t)?Zs:(s+=1)+t>e.length?Oy:(e=e.substr(s,t),n.C=s+t,e))}function Ph(n){n.Y=Date.now()+n.P,RC(n,n.P)}function RC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yp(Mr(n.eb,n),e)}function Py(n){n.B&&(gt.clearTimeout(n.B),n.B=null)}function eg(n){0==n.l.G||n.I||QE(n.l,n)}function Wl(n){Py(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ay(n.W),ME(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function tg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||GE(t.i,n)))if(t.I=n.N,!n.J&&GE(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(S){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Yp(Mr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Yl(t),Hy(t)}KE(t),gi(18)}if(1>=jC(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else Rc(t,11)}else if((n.J||t.g==n)&&Yl(t),!py(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let S=a[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const N=S[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const P=S[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const K=S[5];null!=K&&"number"==typeof K&&0<K&&(t.K=s=1.5*K,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const G=n.g;if(G){const Ee=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ee){var l=s.i;!l.g&&(Ri(Ee,"spdy")||Ri(Ee,"quic")||Ri(Ee,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Fy(l,l.h),l.h=null))}if(s.D){const Ue=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;Ue&&(s.sa=Ue,Dn(s.F,s.D,Ue))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((s=t).oa=Gh(s,s.H?s.la:null,s.W),p.J){qE(s.i,p);var _=p,b=s.K;b&&_.setTimeout(b),_.B&&(Py(_),Ph(_)),s.g=p}else Hh(s);0<t.l.length&&hg(t)}else"stop"!=S[0]&&"close"!=S[0]||Rc(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Rc(t,7):dg(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}Kp(4)}catch(S){}}function jE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(dy(n)||"string"==typeof n)uC(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(dy(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(dy(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}}function Zl(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof Zl)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function BE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];Ac(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Ac(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function Ac(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ze=My.prototype).setTimeout=function(n){this.P=n},ze.gb=function(n){n=n.target;const e=this.L;e&&3==vu(n)?e.l():this.Ia(n)},ze.Ia=function(n){try{if(n==this.g)e:{const N=vu(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>N)&&(3!=N||EE||this.g&&(this.h.h||this.g.ga()||lg(this.g)))){this.I||4!=N||7==e||Kp(8==e||0>=P?3:2),Py(this);var t=this.g.ba();this.N=t;t:if(Ks(this)){var s=lg(this.g);n="";var a=s.length,l=4==vu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wl(this),eg(this);var p="";break t}this.h.i=new gt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,l,p){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,b=this.g;if((_=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!py(_)){var S=_;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,gi(12),Wl(this),eg(this);break e}ql(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tg(this,t)}this.U?(Ys(this,N,p),EE&&this.i&&3==N&&(NE(this.V,this.W,"tick",this.fb),this.W.start())):(ql(this.j,this.m,p,null),tg(this,p)),4==N&&Wl(this),this.i&&!this.I&&(4==N?QE(this.l,this):(this.i=!1,Ph(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,gi(12)):(this.o=0,gi(13)),Wl(this),eg(this)}}}catch(N){}},ze.fb=function(){if(this.g){var n=vu(this.g),e=this.g.ga();this.C<e.length&&(Py(this),Ys(this,n,e),this.i&&4!=n&&Ph(this))}},ze.cancel=function(){this.I=!0,Wl(this)},ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Kp(3),gi(17)),Wl(this),this.o=2,eg(this)):RC(this,this.Y-n)},(ze=Zl.prototype).R=function(){BE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ze.T=function(){return BE(this),this.g.concat()},ze.get=function(n,e){return Ac(this.h,n)?this.h[n]:e},ze.set=function(n,e){Ac(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ze.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],l=this.get(a);n.call(e,l,a,this)}};var $E=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Kl){this.g=void 0!==e?e:n.g,rg(this,n.j),this.s=n.s,kh(this,n.i),Fh(this,n.m),this.l=n.l,e=n.h;var t=new sg;t.i=e.i,e.g&&(t.g=new Zl(e.g),t.h=e.h),HE(this,t),this.o=n.o}else n&&(t=String(n).match($E))?(this.g=!!e,rg(this,t[1]||"",!0),this.s=Lh(t[2]||""),kh(this,t[3]||"",!0),Fh(this,t[4]),this.l=Lh(t[5]||"",!0),HE(this,t[6]||"",!0),this.o=Lh(t[7]||"")):(this.g=!!e,this.h=new sg(null,this.g))}function Ra(n){return new Kl(n)}function rg(n,e,t){n.j=t?Lh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kh(n,e,t){n.i=t?Lh(e,!0):e}function Fh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HE(n,e,t){e instanceof sg?(n.h=e,function(n,e){e&&!n.j&&(Sc(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(kC(this,s),LC(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Vh(e,UA)),n.h=new sg(e,n.g))}function Dn(n,e,t){n.h.set(e,t)}function ig(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Kl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vh(e,PC,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vh(e,PC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vh(t,"/"==t.charAt(0)?VA:LA,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vh(t,jA)),n.join("")};var PC=/[#\/\?@]/g,LA=/[#\?:]/g,VA=/[#\?]/g,UA=/[#\?@]/g,jA=/#/g;function sg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Sc(n){n.g||(n.g=new Zl,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kC(n,e){Sc(n),e=Uh(n,e),Ac(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ac((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&BE(n)))}function FC(n,e){return Sc(n),e=Uh(n,e),Ac(n.g.h,e)}function LC(n,e,t){kC(n,e),0<t.length&&(n.i=null,n.g.set(Uh(n,e),fy(t)),n.h+=t.length)}function Uh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VC(n){this.l=n||HA,n=gt.PerformanceNavigationTiming?0<(n=gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(gt.g&&gt.g.Ea&&gt.g.Ea()&&gt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ze=sg.prototype).add=function(n,e){Sc(this),this.i=null,n=Uh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ze.forEach=function(n,e){Sc(this),this.g.forEach(function(t,s){uC(t,function(a){n.call(e,a,s,this)},this)},this)},ze.T=function(){Sc(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],l=0;l<a.length;l++)t.push(e[s]);return t},ze.R=function(n){Sc(this);var e=[];if("string"==typeof n)FC(this,n)&&(e=cC(e,this.g.get(Uh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=cC(e,n[t])}return e},ze.set=function(n,e){return Sc(this),this.i=null,FC(this,n=Uh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ze.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var p=a;""!==s[l]&&(p+="="+encodeURIComponent(String(s[l]))),n.push(p)}}return this.i=n.join("&")};var HA=10;function UC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jC(n){return n.h?1:n.g?n.g.size:0}function GE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Fy(n,e){n.g?n.g.add(e):n.h=e}function qE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function zE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return fy(n.i)}function Ly(){}function BC(){this.g=new Ly}function $C(n,e,t){const s=t||"";try{jE(n,function(a,l){let p=a;Ah(a)&&(p=Ty(a)),e.push(s+l+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function og(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(l){}}function jh(n){this.l=n.$b||null,this.j=n.ib||!1}function Bh(n,e){wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Vy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}VC.prototype.cancel=function(){if(this.i=zE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ly.prototype.stringify=function(n){return gt.JSON.stringify(n,void 0)},Ly.prototype.parse=function(n){return gt.JSON.parse(n,void 0)},Wr(jh,Ry),jh.prototype.g=function(){return new Bh(this.l,this.j)},jh.prototype.i=function(n){return function(){return n}}({}),Wr(Bh,wr);var Vy=0;function xc(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ag(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ug(n)}function ug(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ze=Bh.prototype).open=function(n,e){if(this.readyState!=Vy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ug(this)},ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||gt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ag(this)),this.readyState=Vy},ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ug(this)),this.g&&(this.readyState=3,ug(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==gt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xc(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ag(this):ug(this),3==this.readyState&&xc(this)}},ze.Ua=function(n){this.g&&(this.response=this.responseText=n,ag(this))},ze.Ta=function(n){this.g&&(this.response=n,ag(this))},ze.ha=function(){this.g&&ag(this)},ze.setRequestHeader=function(n,e){this.v.append(n,e)},ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $h=gt.JSON.parse;function br(n){wr.call(this),this.headers=new Zl,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Uy,this.K=this.L=!1}Wr(br,wr);var Uy="",KR=/^https?$/i,GC=["POST","PUT"];function YR(n){return"content-type"==n.toLowerCase()}function dt(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zC(n),jy(n)}function zC(n){n.D||(n.D=!0,pi(n,"complete"),pi(n,"error"))}function WC(n){if(n.h&&void 0!==Dc&&(!n.C[1]||4!=vu(n)||2!=n.ba()))if(n.v&&4==vu(n))RE(n.Fa,0,n);else if(pi(n,"readystatechange"),4==vu(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===_){var a=String(n.H).match($E)[1]||null;if(!a&&gt.self&&gt.self.location){var l=gt.self.location.protocol;a=l.substr(0,l.length-1)}s=!KR.test(a?a.toLowerCase():"")}t=s}if(t)pi(n,"complete"),pi(n,"success");else{n.m=6;try{var p=2<vu(n)?n.g.statusText:""}catch(b){p=""}n.j=p+" ["+n.ba()+"]",zC(n)}}finally{jy(n)}}}function jy(n,e){if(n.g){cg(n);const t=n.g,s=n.C[0]?yu:null;n.g=null,n.C=null,e||pi(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function cg(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(gt.clearTimeout(n.A),n.A=null)}function vu(n){return n.g?n.g.readyState:0}function lg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Uy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Rn(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return dC(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Dn(n,e,t))}function $y(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WE(n){this.za=0,this.l=[],this.h=new Zp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$y("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$y("baseRetryDelayMs",5e3,n),this.$a=$y("retryDelaySeedMs",1e4,n),this.Ya=$y("forwardChannelMaxRetries",2,n),this.ra=$y("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new VC(n&&n.concurrentRequestLimit),this.Ca=new BC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function dg(n){if(ZE(n),3==n.G){var e=n.V++,t=Ra(n.F);Dn(t,"SID",n.J),Dn(t,"RID",e),Dn(t,"TYPE","terminate"),fg(n,t),(e=new My(n,n.h,e,void 0)).K=2,e.v=ig(Ra(t)),t=!1,gt.navigator&&gt.navigator.sendBeacon&&(t=gt.navigator.sendBeacon(e.v.toString(),"")),!t&&gt.Image&&((new Image).src=e.v,t=!0),t||(e.g=qh(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ph(e)}JC(n)}function Hy(n){n.g&&(YE(n),n.g.cancel(),n.g=null)}function ZE(n){Hy(n),n.u&&(gt.clearTimeout(n.u),n.u=null),Yl(n),n.i.cancel(),n.m&&("number"==typeof n.m&&gt.clearTimeout(n.m),n.m=null)}function Gy(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hg(n)}function hg(n){UC(n.i)||n.m||(n.m=!0,zp(n.Ha,n),n.C=0)}function KC(n,e){var t;t=e?e.m:n.V++;const s=Ra(n.F);Dn(s,"SID",n.J),Dn(s,"RID",t),Dn(s,"AID",n.U),fg(n,s),n.o&&n.s&&Rn(s,n.o,n.s),t=new My(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=YC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Fy(n.i,t),UE(t,s,e)}function fg(n,e){n.j&&jE({},function(t,s){Dn(e,s,t)})}function YC(n,e,t){t=Math.min(n.l.length,t);var s=n.j?Mr(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const p=["count="+t];-1==l?0<t?(l=a[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let _=!0;for(let b=0;b<t;b++){let S=a[b].h;const N=a[b].g;if(S-=l,0>S)l=Math.max(0,a[b].h-100),_=!1;else try{$C(N,p,"req"+S+"_")}catch(P){s&&s(N)}}if(_){s=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function Hh(n){n.g||n.u||(n.Y=1,zp(n.Ga,n),n.A=0)}function KE(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Yp(Mr(n.Ga,n),JE(n,n.A)),n.A++,0))}function YE(n){null!=n.B&&(gt.clearTimeout(n.B),n.B=null)}function QC(n){n.g=new My(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ra(n.oa);Dn(e,"RID","rpc"),Dn(e,"SID",n.J),Dn(e,"CI",n.N?"0":"1"),Dn(e,"AID",n.U),fg(n,e),Dn(e,"TYPE","xmlhttp"),n.o&&n.s&&Rn(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ig(Ra(e)),t.s=null,t.U=!0,Fo(t,n)}function Yl(n){null!=n.v&&(gt.clearTimeout(n.v),n.v=null)}function QE(n,e){var t=null;if(n.g==e){Yl(n),YE(n),n.g=null;var s=2}else{if(!GE(n.i,e))return;t=e.D,qE(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;pi(s=xy(),new AC(s,t,e,a)),hg(n)}else Hh(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(jC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Yp(Mr(n.Ha,n,e),JE(n,n.C)),n.C++,0)))}(n,e)||2==s&&KE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Rc(n,5);break;case 4:Rc(n,10);break;case 3:Rc(n,6);break;default:Rc(n,2)}}function JE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Rc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=Mr(n.jb,n);t||(t=new Kl("//www.google.com/images/cleardot.gif"),gt.location&&"http"==gt.location.protocol||rg(t,"https"),ig(t)),function(n,e){const t=new Zp;if(gt.Image){const s=new Image;s.onload=jp(og,t,s,"TestLoadImage: loaded",!0,e),s.onerror=jp(og,t,s,"TestLoadImage: error",!1,e),s.onabort=jp(og,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=jp(og,t,s,"TestLoadImage: timeout",!1,e),gt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else gi(2);n.G=0,n.j&&n.j.va(e),JC(n),ZE(n)}function JC(n){n.G=0,n.I=-1,n.j&&((0!=zE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,fy(n.l),n.l.length=0),n.j.ua())}function Gh(n,e,t){let s=function(n){return n instanceof Kl?Ra(n):new Kl(n,void 0)}(t);if(""!=s.i)e&&kh(s,e+"."+s.i),Fh(s,s.m);else{const a=gt.location;s=function(n,e,t,s){var a=new Kl(null,void 0);return n&&rg(a,n),e&&kh(a,e),t&&Fh(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&dC(n.aa,function(a,l){Dn(s,l,a)}),t=n.sa,(e=n.D)&&t&&Dn(s,e,t),Dn(s,"VER",n.ma),fg(n,s),s}function qh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new br(t&&n.Ba&&!n.qa?new jh({ib:!0}):n.qa)).L=n.H,e}function XC(){}function qy(){if(Tc&&!(10<=Number(mC)))throw Error("Environmental error: no available transport.")}function Cs(n,e){wr.call(this),this.g=new WE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!py(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!py(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ql(this)}function XE(n){kE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function e0(){Ny.call(this),this.status=1}function Ql(n){this.g=n}(ze=br.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():FE.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:FE),this.g.onreadystatechange=Mr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void dt(this,l)}n=t||"";const a=new Zl(this.headers);s&&jE(s,function(l,p){a.set(p,l)}),s=function(n){e:{var e=YR;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=gt.FormData&&n instanceof gt.FormData,!(0<=mE(GC,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,p){this.g.setRequestHeader(p,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cg(this),0<this.B&&((this.K=function(n){return Tc&&SA()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mr(this.pa,this)):this.A=RE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){dt(this,l)}},ze.pa=function(){void 0!==Dc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pi(this,"timeout"),this.abort(8))},ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,pi(this,"complete"),pi(this,"abort"),jy(this))},ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jy(this,!0)),br.Z.M.call(this)},ze.Fa=function(){this.s||(this.F||this.v||this.l?WC(this):this.cb())},ze.cb=function(){WC(this)},ze.ba=function(){try{return 2<vu(this)?this.g.status:-1}catch(n){return-1}},ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ze.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$h(e)}},ze.Da=function(){return this.m},ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=WE.prototype).ma=8,ze.G=1,ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new My(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=bA(l),hC(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=YC(this,a,e),Dn(t=Ra(this.F),"RID",n),Dn(t,"CVER",22),this.D&&Dn(t,"X-HTTP-Session-Id",this.D),fg(this,t),this.o&&l&&Rn(t,this.o,l),Fy(this.i,a),this.Ra&&Dn(t,"TYPE","init"),this.ja?(Dn(t,"$req",e),Dn(t,"SID","null"),a.$=!0,UE(a,t,null)):UE(a,t,e),this.G=2}}else 3==this.G&&(n?KC(this,n):0==this.l.length||UC(this.i)||KC(this))},ze.Ga=function(){if(this.u=null,QC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Yp(Mr(this.bb,this),n)}},ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gi(10),Hy(this),QC(this))},ze.ab=function(){null!=this.v&&(this.v=null,Hy(this),KE(this),gi(19))},ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),gi(2)):(this.h.info("Failed to ping google.com"),gi(1))},(ze=XC.prototype).xa=function(){},ze.wa=function(){},ze.va=function(){},ze.ua=function(){},ze.Oa=function(){},qy.prototype.g=function(n,e){return new Cs(n,e)},Wr(Cs,wr),Cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),zp(Mr(n.hb,n,e))),gi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Gh(n,null,n.W),hg(n)},Cs.prototype.close=function(){dg(this.g)},Cs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Gy(this.g,e)}else this.v?((e={}).__data__=Ty(n),Gy(this.g,e)):Gy(this.g,n)},Cs.prototype.M=function(){this.g.j=null,delete this.j,dg(this.g),delete this.g,Cs.Z.M.call(this)},Wr(XE,kE),Wr(e0,Ny),Wr(Ql,XC),Ql.prototype.xa=function(){pi(this.g,"a")},Ql.prototype.wa=function(n){pi(this.g,new XE(n))},Ql.prototype.va=function(n){pi(this.g,new e0(n))},Ql.prototype.ua=function(){pi(this.g,"b")},qy.prototype.createWebChannel=qy.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,Qp.NO_ERROR=0,Qp.TIMEOUT=8,Qp.HTTP_ERROR=6,SC.COMPLETE="complete",zl.EventType=Jp,Jp.OPEN="a",Jp.CLOSE="b",Jp.ERROR="c",Jp.MESSAGE="d",wr.prototype.listen=wr.prototype.N,br.prototype.listenOnce=br.prototype.O,br.prototype.getLastError=br.prototype.La,br.prototype.getLastErrorCode=br.prototype.Da,br.prototype.getStatus=br.prototype.ba,br.prototype.getResponseJson=br.prototype.Qa,br.prototype.getResponseText=br.prototype.ga,br.prototype.send=br.prototype.ea;var GA=Wi.createWebChannelTransport=function(){return new qy},eI=Wi.getStatEventTarget=function(){return xy()},t0=Wi.ErrorCode=Qp,qA=Wi.EventType=SC,QR=Wi.Event=Oh,zA=Wi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},JR=Wi.FetchXmlHttpFactory=jh,n0=Wi.WebChannel=zl,tI=Wi.XhrIo=br;const pg="@firebase/firestore";class Zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let zh="9.1.3";const Eu=new bs.Yd("@firebase/firestore");function Jl(){return Eu.logLevel}function Ve(n,...e){if(Eu.logLevel<=bs.in.DEBUG){const t=e.map(r0);Eu.debug(`Firestore (${zh}): ${n}`,...t)}}function cr(n,...e){if(Eu.logLevel<=bs.in.ERROR){const t=e.map(r0);Eu.error(`Firestore (${zh}): ${n}`,...t)}}function gg(n,...e){if(Eu.logLevel<=bs.in.WARN){const t=e.map(r0);Eu.warn(`Firestore (${zh}): ${n}`,...t)}}function r0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${zh}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function _t(n,e){n||rt()}function je(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class s0{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class KA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zr.UNAUTHENTICATED))}shutdown(){}}class nI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YA{constructor(e){this.t=e,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let p=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Or,e.enqueueRetryable(()=>l(this.currentUser))};const _=()=>{const S=p;e.enqueueRetryable((0,we.Z)(function*(){yield S.promise,yield l(s.currentUser)}))},b=S=>{Ve("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(S=>b(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?b(S):(Ve("FirebaseCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Or)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ve("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t("string"==typeof s.accessToken),new s0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new Zr(e)}}class o0{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Zr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class QA{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new o0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ki{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.g(s),this.p=s=>t.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function rI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}Ki.T=-1;class iI{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=rI(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function kt(n,e){return n<e?-1:n>e?1:0}function Wh(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function zy(n){return n+"\0"}class Pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Pr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Pr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function sI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mg{constructor(e,t,s){void 0===t?t=0:t>e.length&&rt(),void 0===s?s=e.length-t:s>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===mg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mg?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),p=t.get(a);if(l<p)return-1;if(l>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends mg{construct(e,t,s){return new Qt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Oe(ye.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const JA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends mg{construct(e,t,s){return new Kr(e,t,s)}static isValidIdentifier(e){return JA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Oe(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const _=e[a];if("\\"===_){if(a+1===e.length)throw new Oe(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[a+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Oe(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=b,a+=2}else"`"===_?(p=!p,a++):"."!==_||p?(s+=_,a++):(l(),a++)}if(l(),p)throw new Oe(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}class Zh{constructor(e){this.fields=e,e.sort(Kr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wh(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Cr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const XA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nc(n){if(_t(!!n),"string"==typeof n){let e=0;const t=XA.exec(n);if(_t(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:tr(n.seconds),nanos:tr(n.nanos)}}function tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Kh(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function a0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uI(n){const e=n.mapValue.fields.__previous_value__;return a0(e)?uI(e):e}function ed(n){const e=Nc(n.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}function wu(n){return null==n}function yg(n){return 0===n&&1/n==-1/0}function Wy(n){return"number"==typeof n&&Number.isInteger(n)&&!yg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(Qt.fromString(e))}static fromName(e){return new tt(Qt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new Qt(e.slice()))}}function td(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?a0(n)?4:10:rt()}function Qs(n,e){const t=td(n);if(t!==td(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ed(n).isEqual(ed(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Nc(s.timestampValue),p=Nc(a.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Kh(n.bytesValue).isEqual(Kh(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return tr(s.geoPointValue.latitude)===tr(a.geoPointValue.latitude)&&tr(s.geoPointValue.longitude)===tr(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return tr(s.integerValue)===tr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=tr(s.doubleValue),p=tr(a.doubleValue);return l===p?yg(l)===yg(p):isNaN(l)&&isNaN(p)}return!1}(n,e);case 9:return Wh(n.arrayValue.values||[],e.arrayValue.values||[],Qs);case 10:return function(s,a){const l=s.mapValue.fields||{},p=a.mapValue.fields||{};if(sI(l)!==sI(p))return!1;for(const _ in l)if(l.hasOwnProperty(_)&&(void 0===p[_]||!Qs(l[_],p[_])))return!1;return!0}(n,e);default:return rt()}var a}function _g(n,e){return void 0!==(n.values||[]).find(t=>Qs(t,e))}function nd(n,e){const t=td(n),s=td(e);if(t!==s)return kt(t,s);switch(t){case 0:return 0;case 1:return kt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const p=tr(a.integerValue||a.doubleValue),_=tr(l.integerValue||l.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(n,e);case 3:return cI(n.timestampValue,e.timestampValue);case 4:return cI(ed(n),ed(e));case 5:return kt(n.stringValue,e.stringValue);case 6:return function(a,l){const p=Kh(a),_=Kh(l);return p.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const p=a.split("/"),_=l.split("/");for(let b=0;b<p.length&&b<_.length;b++){const S=kt(p[b],_[b]);if(0!==S)return S}return kt(p.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const p=kt(tr(a.latitude),tr(l.latitude));return 0!==p?p:kt(tr(a.longitude),tr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const p=a.values||[],_=l.values||[];for(let b=0;b<p.length&&b<_.length;++b){const S=nd(p[b],_[b]);if(S)return S}return kt(p.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const p=a.fields||{},_=Object.keys(p),b=l.fields||{},S=Object.keys(b);_.sort(),S.sort();for(let N=0;N<_.length&&N<S.length;++N){const P=kt(_[N],S[N]);if(0!==P)return P;const K=nd(p[_[N]],b[S[N]]);if(0!==K)return K}return kt(_.length,S.length)}(n.mapValue,e.mapValue);default:throw rt()}}function cI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return kt(n,e);const t=Nc(n),s=Nc(e),a=kt(t.seconds,s.seconds);return 0!==a?a:kt(t.nanos,s.nanos)}function Zy(n){return Ky(n)}function Ky(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=Nc(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Kh(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const p of s.values||[])l?l=!1:a+=",",a+=Ky(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",p=!0;for(const _ of a)p?p=!1:l+=",",l+=`${_}:${Ky(s.fields[_])}`;return l+"}"}(n.mapValue):rt();var e}function vg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lI(n){return!!n&&"integerValue"in n}function u0(n){return!!n&&"arrayValue"in n}function rd(n){return!!n&&"nullValue"in n}function eS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yh(n){return!!n&&"mapValue"in n}function Mc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xl(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Mc(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mc(n.arrayValue.values[t]);return e}return Object.assign({},n)}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(t)}setAll(e){let t=Kr.emptyPath(),s={},a=[];e.forEach((p,_)=>{if(!t.isImmediateParentOf(_)){const b=this.getFieldsMap(t);this.applyChanges(b,s,a),s={},a=[],t=_.popLast()}p?s[_.lastSegment()]=Mc(p):a.push(_.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Yh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Xl(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new mi(Mc(this.value))}}function id(n){const e=[];return Xl(n.fields,(t,s)=>{const a=new Kr([t]);if(Yh(s)){const l=id(s.mapValue).fields;if(0===l.length)e.push(a);else for(const p of l)e.push(a.child(p))}else e.push(a)}),new Zh(e)}class Nn{constructor(e,t,s,a,l){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Nn(e,0,Dt.min(),mi.empty(),0)}static newFoundDocument(e,t,s){return new Nn(e,1,t,s,0)}static newNoDocument(e,t){return new Nn(e,2,t,mi.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,mi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Nn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class XR{constructor(e,t=null,s=[],a=[],l=null,p=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=p,this.endAt=_,this.A=null}}function dI(n,e=null,t=[],s=[],a=null,l=null,p=null){return new XR(n,e,t,s,a,l,p)}function Yi(n){const e=je(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+Zy(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),wu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=h0(e.startAt)),e.endAt&&(t+="|ub:",t+=h0(e.endAt)),e.A=t}return e.A}function c0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!iS(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Qs(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!f0(n.startAt,e.startAt)&&f0(n.endAt,e.endAt)}function sd(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ni extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,s):new eN(e,t,s):"array-contains"===t?new l0(e,s):"in"===t?new pI(e,s):"not-in"===t?new d0(e,s):"array-contains-any"===t?new gI(e,s):new Ni(e,t,s)}static R(e,t,s){return"in"===t?new nS(e,s):new rS(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(nd(t,this.value)):null!==t&&td(this.value)===td(t)&&this.P(nd(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class eN extends Ni{constructor(e,t,s){super(e,t,s),this.key=tt.fromName(s.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.P(t)}}class nS extends Ni{constructor(e,t){super(e,"in",t),this.keys=fI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rS extends Ni{constructor(e,t){super(e,"not-in",t),this.keys=fI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>tt.fromName(s.referenceValue))}class l0 extends Ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return u0(t)&&_g(t.arrayValue,this.value)}}class pI extends Ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_g(this.value.arrayValue,t)}}class d0 extends Ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(_g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_g(this.value.arrayValue,t)}}class gI extends Ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!u0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>_g(this.value.arrayValue,s))}}class Eg{constructor(e,t){this.position=e,this.before=t}}function h0(n){return`${n.before?"b":"a"}:${n.position.map(e=>Zy(e)).join(",")}`}class Qh{constructor(e,t="asc"){this.field=e,this.dir=t}}function iS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function mI(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],p=n.position[a];if(s=l.field.isKeyField()?tt.comparator(tt.fromName(p.referenceValue),t.key):nd(p,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function f0(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qs(n.position[t],e.position[t]))return!1;return!0}class Na{constructor(e,t=null,s=[],a=[],l=null,p="F",_=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=p,this.startAt=_,this.endAt=b,this.V=null,this.S=null}}function p0(n,e,t,s,a,l,p,_){return new Na(n,e,t,s,a,l,p,_)}function Jh(n){return new Na(n)}function Yy(n){return!wu(n.limit)&&"F"===n.limitType}function wg(n){return!wu(n.limit)&&"L"===n.limitType}function Xh(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function g0(n){for(const e of n.filters)if(e.v())return e.field;return null}function Qy(n){return null!==n.collectionGroup}function bu(n){const e=je(n);if(null===e.V){e.V=[];const t=g0(e),s=Xh(e);if(null!==t&&null===s)t.isKeyField()||e.V.push(new Qh(t)),e.V.push(new Qh(Kr.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Qh(Kr.keyField(),l))}}}return e.V}function Mi(n){const e=je(n);if(!e.S)if("F"===e.limitType)e.S=dI(e.path,e.collectionGroup,bu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of bu(e))t.push(new Qh(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new Eg(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Eg(e.startAt.position,!e.startAt.before):null;e.S=dI(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.S}function ef(n,e,t){return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bg(n,e){return c0(Mi(n),Mi(e))&&n.limitType===e.limitType}function yI(n){return`${Yi(Mi(n))}|lt:${n.limitType}`}function _I(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${Zy(s.value)}`;var s}).join(", ")}]`),wu(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+h0(n.startAt)),n.endAt&&(e+=", endAt: "+h0(n.endAt)),`Target(${e})`}(Mi(n))}; limitType=${n.limitType})`}function Cg(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):tt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!mI(t.startAt,bu(t),s)||t.endAt&&mI(t.endAt,bu(t),s)));var t,s}function vI(n){return(e,t)=>{let s=!1;for(const a of bu(n)){const l=sS(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function sS(n,e,t){const s=n.field.isKeyField()?tt.comparator(e.key,t.key):function(a,l,p){const _=l.data.field(a),b=p.data.field(a);return null!==_&&null!==b?nd(_,b):rt()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return rt()}}function EI(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yg(e)?"-0":e}}function wI(n){return{integerValue:""+n}}function bI(n,e){return Wy(e)?wI(e):EI(n,e)}class Jy{constructor(){this._=void 0}}function oS(n,e,t){return n instanceof tf?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Lo?CI(n,e):n instanceof od?II(n,e):function(s,a){const l=uS(s,a),p=Oc(l)+Oc(s.C);return lI(l)&&lI(s.C)?wI(p):EI(s.N,p)}(n,e)}function aS(n,e,t){return n instanceof Lo?CI(n,e):n instanceof od?II(n,e):t}function uS(n,e){return n instanceof Cu?lI(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class tf extends Jy{}class Lo extends Jy{constructor(e){super(),this.elements=e}}function CI(n,e){const t=m0(e);for(const s of n.elements)t.some(a=>Qs(a,s))||t.push(s);return{arrayValue:{values:t}}}class od extends Jy{constructor(e){super(),this.elements=e}}function II(n,e){let t=m0(e);for(const s of n.elements)t=t.filter(a=>!Qs(a,s));return{arrayValue:{values:t}}}class Cu extends Jy{constructor(e,t){super(),this.N=e,this.C=t}}function Oc(n){return tr(n.integerValue||n.doubleValue)}function m0(n){return u0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ig{constructor(e,t){this.field=e,this.transform=t}}class cS{constructor(e,t){this.version=e,this.transformResults=t}}class Vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class e_{}function DI(n,e,t){n instanceof Dg?function(s,a,l){const p=s.value.clone(),_=TI(s.fieldTransforms,a,l.transformResults);p.setAll(_),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Pc?function(s,a,l){if(!Xy(s.precondition,a))return void a.convertToUnknownDocument(l.version);const p=TI(s.fieldTransforms,a,l.transformResults),_=a.data;_.setAll(E0(s)),_.setAll(p),a.convertToFoundDocument(l.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function t_(n,e,t){var a;n instanceof Dg?function(s,a,l){if(!Xy(s.precondition,a))return;const p=s.value.clone(),_=w0(s.fieldTransforms,l,a);p.setAll(_),a.convertToFoundDocument(v0(a),p).setHasLocalMutations()}(n,e,t):n instanceof Pc?function(s,a,l){if(!Xy(s.precondition,a))return;const p=w0(s.fieldTransforms,l,a),_=a.data;_.setAll(E0(s)),_.setAll(p),a.convertToFoundDocument(v0(a),_).setHasLocalMutations()}(n,e,t):Xy(n.precondition,a=e)&&a.convertToNoDocument(Dt.min())}function y0(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=uS(s.transform,a||null);null!=l&&(null==t&&(t=mi.empty()),t.set(s.field,l))}return t||null}function _0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Wh(t,s,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof Lo&&s instanceof Lo||t instanceof od&&s instanceof od?Wh(t.elements,s.elements,Qs):t instanceof Cu&&s instanceof Cu?Qs(t.C,s.C):t instanceof tf&&s instanceof tf);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function v0(n){return n.isFoundDocument()?n.version:Dt.min()}class Dg extends e_{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class Pc extends e_{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function E0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function TI(n,e,t){const s=new Map;_t(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],p=l.transform,_=e.data.field(l.field);s.set(l.field,aS(p,_,t[a]))}return s}function w0(n,e,t){const s=new Map;for(const a of n){const l=a.transform,p=t.data.field(a.field);s.set(a.field,oS(l,p,e))}return s}class kc extends e_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class nf extends e_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class nN{constructor(e){this.count=e}}var Mn,Je;function Iu(n){switch(n){default:return rt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function ad(n){if(void 0===n)return cr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Mn.OK:return ye.OK;case Mn.CANCELLED:return ye.CANCELLED;case Mn.UNKNOWN:return ye.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return ye.INTERNAL;case Mn.UNAVAILABLE:return ye.UNAVAILABLE;case Mn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Mn.NOT_FOUND:return ye.NOT_FOUND;case Mn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Mn.ABORTED:return ye.ABORTED;case Mn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Mn.DATA_LOSS:return ye.DATA_LOSS;default:return rt()}}(Je=Mn||(Mn={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";class Un{constructor(e,t){this.comparator=e,this.root=t||et.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new b0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new b0(this.root,e,this.comparator,!1)}getReverseIterator(){return new b0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new b0(this.root,e,this.comparator,!0)}}class b0{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=null!=s?s:et.RED,this.left=null!=a?a:et.EMPTY,this.right=null!=l?l:et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new et(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return et.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1,et.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,s,a){return this}insert(n,e,t){return new et(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ud=new Un(tt.comparator);function Vo(){return ud}const AI=new Un(tt.comparator);function r_(){return AI}const rN=new Un(tt.comparator);function SI(){return rN}const lS=new qt(tt.comparator);function Rt(...n){let e=lS;for(const t of n)e=e.add(t);return e}const jn=new qt(kt);function Qi(){return jn}class rf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Tg.createSynthesizedTargetChangeForCurrentChange(e,t)),new rf(Dt.min(),s,Qi(),Vo(),Rt())}}class Tg{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Tg(Cr.EMPTY_BYTE_STRING,t,Rt(),Rt(),Rt())}}class Ag{constructor(e,t,s,a){this.k=e,this.removedTargetIds=t,this.key=s,this.$=a}}class i_{constructor(e,t){this.targetId=e,this.O=t}}class cd{constructor(e,t,s=Cr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class sf{constructor(){this.F=0,this.M=xI(),this.L=Cr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Rt(),t=Rt(),s=Rt();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:rt()}}),new Tg(this.L,this.B,e,t,s)}G(){this.U=!1,this.M=xI()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class dS{constructor(e){this.tt=e,this.et=new Map,this.nt=Vo(),this.st=Fc(),this.it=new qt(kt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const s=this.ut(t);switch(e.state){case 0:this.ht(t)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(t);break;case 3:this.ht(t)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),s.j(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((s,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,s=e.O.count,a=this.dt(t);if(a){const l=a.target;if(sd(l))if(0===s){const p=new tt(l.path);this.at(t,p,Nn.newNoDocument(p,Dt.min()))}else _t(1===s);else this.wt(t)!==s&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,p)=>{const _=this.dt(p);if(_){if(l.current&&sd(_.target)){const b=new tt(_.target.path);null!==this.nt.get(b)||this.gt(p,b)||this.at(p,b,Nn.newNoDocument(b,e))}l.K&&(t.set(p,l.W()),l.G())}});let s=Rt();this.st.forEach((l,p)=>{let _=!0;p.forEachWhile(b=>{const S=this.dt(b);return!S||2===S.purpose||(_=!1,!1)}),_&&(s=s.add(l))});const a=new rf(e,t,this.it,this.nt,s);return this.nt=Vo(),this.st=Fc(),this.it=new qt(kt),a}ot(e,t){if(!this.ht(e))return;const s=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,s),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,s){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),s&&(this.nt=this.nt.insert(t,s))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new sf,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new qt(kt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new sf),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Fc(){return new Un(tt.comparator)}function xI(){return new Un(tt.comparator)}const RI={asc:"ASCENDING",desc:"DESCENDING"},C0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Sg{constructor(e,t){this.databaseId=e,this.D=t}}function ld(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I0(n,e){return n.D?e.toBase64():e.toUint8Array()}function af(n,e){return ld(n,e.toTimestamp())}function kr(n){return _t(!!n),Dt.fromTimestamp(function(e){const t=Nc(e);return new Pr(t.seconds,t.nanos)}(n))}function uf(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function D0(n){const e=Qt.fromString(n);return _t(o_(e)),e}function cf(n,e){return uf(n.databaseId,e.path)}function Uo(n,e){const t=D0(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(s_(t))}function lf(n,e){return uf(n.databaseId,e)}function NI(n){const e=D0(n);return 4===e.length?Qt.emptyPath():s_(e)}function dd(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function s_(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hS(n,e,t){return{name:cf(n,e),fields:t.value.mapValue.fields}}function fS(n,e,t){const s=Uo(n,e.name),a=kr(e.updateTime),l=new mi({mapValue:{fields:e.fields}}),p=Nn.newFoundDocument(s,a,l);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Lc(n,e){let t;if(e instanceof Dg)t={update:hS(n,e.key,e.value)};else if(e instanceof kc)t={delete:cf(n,e.key)};else if(e instanceof Pc)t={update:hS(n,e.key,e.data),updateMask:wS(e.fieldMask)};else{if(!(e instanceof nf))return rt();t={verify:cf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const p=l.transform;if(p instanceof tf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Lo)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof od)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Cu)return{fieldPath:l.field.canonicalString(),increment:p.C};throw rt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:af(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:rt()),t;var a}function MI(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Vn.updateTime(kr(a.updateTime)):void 0!==a.exists?Vn.exists(a.exists):Vn.none():Vn.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,p){let _=null;"setToServerValue"in p?(_t("REQUEST_TIME"===p.setToServerValue),_=new tf):"appendMissingElements"in p?_=new Lo(p.appendMissingElements.values||[]):"removeAllFromArray"in p?_=new od(p.removeAllFromArray.values||[]):"increment"in p?_=new Cu(l,p.increment):rt();const b=Kr.fromServerFormat(p.fieldPath);return new Ig(b,_)}(n,a)):[];var a;if(e.update){const a=Uo(n,e.update.name),l=new mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Zh((e.updateMask.fieldPaths||[]).map(S=>Kr.fromServerFormat(S)));return new Pc(a,l,p,t,s)}return new Dg(a,l,t,s)}if(e.delete){const a=Uo(n,e.delete);return new kc(a,t)}if(e.verify){const a=Uo(n,e.verify);return new nf(a,t)}return rt()}function OI(n,e){return{documents:[lf(n,e.path)]}}function gS(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=lf(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lf(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(_){if(0===_.length)return;const b=_.map(S=>function(N){if("=="===N.op){if(eS(N.value))return{unaryFilter:{field:df(N.field),op:"IS_NAN"}};if(rd(N.value))return{unaryFilter:{field:df(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(eS(N.value))return{unaryFilter:{field:df(N.field),op:"IS_NOT_NAN"}};if(rd(N.value))return{unaryFilter:{field:df(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:df(N.field),op:_S(N.op),value:N.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(_){if(0!==_.length)return _.map(b=>{return{field:df((S=b).field),direction:T0(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const p=(b=e.limit,n.D||wu(b)?b:{value:b});var b;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=PI(e.startAt)),e.endAt&&(t.structuredQuery.endAt=PI(e.endAt)),t}function mS(n){let e=NI(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){_t(1===s);const N=t.from[0];N.allDescendants?a=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=Yr(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(N=>{return new Qh(hf((P=N).field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let _=null;t.limit&&(_=function(N){let P;return P="object"==typeof N?N.value:N,wu(P)?null:P}(t.limit));let b=null;t.startAt&&(b=kI(t.startAt));let S=null;return t.endAt&&(S=kI(t.endAt)),p0(e,a,p,l,_,"F",b,S)}function Yr(n){return n?void 0!==n.unaryFilter?[ES(n)]:void 0!==n.fieldFilter?[vS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Yr(e)).reduce((e,t)=>e.concat(t)):rt():[]}function PI(n){return{before:n.before,values:n.position}}function kI(n){return new Eg(n.values||[],!!n.before)}function T0(n){return RI[n]}function _S(n){return C0[n]}function df(n){return{fieldPath:n.canonicalString()}}function hf(n){return Kr.fromServerFormat(n.fieldPath)}function vS(n){return Ni.create(hf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function ES(n){switch(n.unaryFilter.op){case"IS_NAN":const e=hf(n.unaryFilter.field);return Ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=hf(n.unaryFilter.field);return Ni.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hf(n.unaryFilter.field);return Ni.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hf(n.unaryFilter.field);return Ni.create(a,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function wS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function o_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function jo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=A0(e)),e=bS(n.get(t),e);return A0(e)}function bS(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function A0(n){return n+"\x01\x01"}function Bo(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const p=n.indexOf("\x01",l);switch((p<0||p>t)&&rt(),n.charAt(p+1)){case"\x01":const _=n.substring(l,p);let b;0===a.length?b=_:(a+=_,b=a,a=""),s.push(b);break;case"\x10":a+=n.substring(l,p),a+="\0";break;case"\x11":a+=n.substring(l,p+1);break;default:rt()}l=p+2}return new Qt(s)}class CS{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Js{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}Js.store="owner",Js.key="owner";class Vc{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}Vc.store="mutationQueues",Vc.keyPath="userId";class Tn{constructor(e,t,s,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}Tn.store="mutations",Tn.keyPath="batchId",Tn.userMutationsIndex="userMutationsIndex",Tn.userMutationsKeyPath=["userId","batchId"];class yi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,jo(t)]}static key(e,t,s){return[e,jo(t),s]}}yi.store="documentMutations",yi.PLACEHOLDER=new yi;class IS{constructor(e,t){this.path=e,this.readTime=t}}class DS{constructor(e,t){this.path=e,this.version=t}}class Hn{constructor(e,t,s,a,l,p){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=p}}Hn.store="remoteDocuments",Hn.readTimeIndex="readTimeIndex",Hn.readTimeIndexPath="readTime",Hn.collectionReadTimeIndex="collectionReadTimeIndex",Hn.collectionReadTimeIndexPath=["parentPath","readTime"];class Ji{constructor(e){this.byteSize=e}}Ji.store="remoteDocumentGlobal",Ji.key="remoteDocumentGlobalKey";class Xi{constructor(e,t,s,a,l,p,_){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=p,this.query=_}}Xi.store="targets",Xi.keyPath="targetId",Xi.queryTargetsIndexName="queryTargetsIndex",Xi.queryTargetsKeyPath=["canonicalId","targetId"];class Qr{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}Qr.store="targetDocuments",Qr.keyPath=["targetId","path"],Qr.documentTargetsIndex="documentTargetsIndex",Qr.documentTargetsKeyPath=["path","targetId"];class es{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}es.key="targetGlobalKey",es.store="targetGlobal";class $o{constructor(e,t){this.collectionId=e,this.parent=t}}$o.store="collectionParents",$o.keyPath=["collectionId","parent"];class Uc{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}Uc.store="clientMetadata",Uc.keyPath="clientId";class hd{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}hd.store="bundles",hd.keyPath="bundleId";class ff{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}ff.store="namedQueries",ff.keyPath="name";const TS=[Vc.store,Tn.store,yi.store,Hn.store,Xi.store,Js.store,es.store,Qr.store,Uc.store,Ji.store,$o.store,hd.store,ff.store],FI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(t){return Ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.reject(t)}static resolve(e){return new Ne((t,s)=>{t(e)})}static reject(e){return new Ne((t,s)=>{s(e)})}static waitFor(e){return new Ne((t,s)=>{let a=0,l=0,p=!1;e.forEach(_=>{++a,_.next(()=>{++l,p&&l===a&&t()},b=>s(b))}),p=!0,l===a&&t()})}static or(e){let t=Ne.resolve(!1);for(const s of e)t=t.next(a=>a?Ne.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}}class xg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Or,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new a_(e,t.error)):this.Et.resolve()},this.transaction.onerror=s=>{const a=S0(s.target.error);this.Et.reject(new a_(e,a))}}static open(e,t,s,a){try{return new xg(t,e.transaction(a,s))}catch(l){throw new a_(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new sN(t)}}class Ho{constructor(e,t,s){this.name=e,this.version=t,this.At=s,12.2===Ho.Rt((0,Tt.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Du(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Tt.hl)())return!1;if(Ho.Pt())return!0;const e=(0,Tt.z$)(),t=Ho.Rt(e),s=0<t&&t<10,a=Ho.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(e){var t=this;return(0,we.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=p=>{s(p.target.result)},l.onblocked=()=>{a(new a_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=p=>{const _=p.target.error;a("VersionError"===_.name?new Oe(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Oe(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new a_(e,_))},l.onupgradeneeded=p=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.At.Ct(p.target.result,l.transaction,p.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=s=>t.Nt(s)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,we.Z)(function*(){const p="readonly"===t;let _=0;for(;;){++_;try{l.db=yield l.Dt(e);const b=xg.open(l.db,e,p?"readonly":"readwrite",s),S=a(b).catch(N=>(b.abort(N),Ne.reject(N))).toPromise();return S.catch(()=>{}),yield b.It,S}catch(b){const S="FirebaseError"!==b.name&&_<3;if(Ve("SimpleDb","Transaction failed with error:",b.message,"Retrying:",S),l.close(),!S)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class AS{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Du(this.kt.delete())}}class a_ extends Oe{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pf(n){return"IndexedDbTransactionError"===n.name}class sN{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Du(s)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Du(this.store.add(e))}get(e){return Du(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Du(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Du(this.store.count())}Lt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Bt(s,(l,p)=>{a.push(p)}).next(()=>a)}Ut(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,p,_)=>_.delete())}Kt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Ne((s,a)=>{t.onerror=l=>{const p=S0(l.target.error);a(p)},t.onsuccess=l=>{const p=l.target.result;p?e(p.primaryKey,p.value).next(_=>{_?p.continue():s()}):s()}})}Bt(e,t){const s=[];return new Ne((a,l)=>{e.onerror=p=>{l(p.target.error)},e.onsuccess=p=>{const _=p.target.result;if(!_)return void a();const b=new AS(_),S=t(_.primaryKey,_.value,b);if(S instanceof Ne){const N=S.catch(P=>(b.done(),Ne.reject(P)));s.push(N)}b.isDone?a():null===b.Ft?_.continue():_.continue(b.Ft)}}).next(()=>Ne.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.qt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Du(n){return new Ne((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=S0(s.target.error);t(a)}})}let VI=!1;function S0(n){const e=Ho.Rt((0,Tt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return VI||(VI=!0,setTimeout(()=>{throw s},0)),s}}return n}class UI extends LI{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function ts(n,e){const t=je(n);return Ho.St(t.Qt,e)}class x0{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&DI(l,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&t_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&t_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(Dt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rt())}isEqual(e){return this.batchId===e.batchId&&Wh(this.mutations,e.mutations,(t,s)=>_0(t,s))&&Wh(this.baseMutations,e.baseMutations,(t,s)=>_0(t,s))}}class R0{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){_t(e.mutations.length===s.length);let a=SI();const l=e.mutations;for(let p=0;p<l.length;p++)a=a.insert(l[p].key,s[p].version);return new R0(e,t,s,a)}}class Tu{constructor(e,t,s,a,l=Dt.min(),p=Dt.min(),_=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=_}withSequenceNumber(e){return new Tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class u_{constructor(e){this.Wt=e}}function N0(n,e){if(e.document)return fS(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=tt.fromSegments(e.noDocument.path),s=jc(e.noDocument.readTime),a=Nn.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=tt.fromSegments(e.unknownDocument.path),s=jc(e.unknownDocument.version);return Nn.newUnknownDocument(t,s)}return rt()}function fd(n,e,t){const s=Fr(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:cf(_=n.Wt,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:ld(_,b.version.toTimestamp())};return new Hn(null,null,l,e.hasCommittedMutations,s,a)}var _,b;if(e.isNoDocument()){const l=e.key.path.toArray(),p=_i(e.version),_=e.hasCommittedMutations;return new Hn(null,new IS(l,p),null,_,s,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),p=_i(e.version);return new Hn(new DS(l,p),null,null,!0,s,a)}return rt()}function Fr(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function M0(n){const e=new Pr(n[0],n[1]);return Dt.fromTimestamp(e)}function _i(n){const e=n.toTimestamp();return new CS(e.seconds,e.nanoseconds)}function jc(n){const e=new Pr(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function gf(n,e){const t=(e.baseMutations||[]).map(l=>MI(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const p=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(p.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>MI(n.Wt,l)),a=Pr.fromMillis(e.localWriteTimeMs);return new x0(e.batchId,a,t,s)}function mf(n){const e=jc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jc(n.lastLimboFreeSnapshotVersion):Dt.min();let s;var a;return void 0!==n.query.documents?(_t(1===(a=n.query).documents.length),s=Mi(Jh(NI(a.documents[0])))):s=Mi(mS(n.query)),new Tu(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function O0(n,e){const t=_i(e.snapshotVersion),s=_i(e.lastLimboFreeSnapshotVersion);let a;a=sd(e.target)?OI(n.Wt,e.target):gS(n.Wt,e.target);const l=e.resumeToken.toBase64();return new Xi(e.targetId,Yi(e.target),t,l,e.sequenceNumber,s,a)}function c_(n){const e=mS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ef(e,e.limit,"L"):e}class SS{getBundleMetadata(e,t){return jI(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:jc(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return jI(e).put({bundleId:(s=t).id,createTime:_i(kr(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return BI(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:c_(a.bundledQuery),readTime:jc(a.readTime)};var a})}saveNamedQuery(e,t){return BI(e).put({name:(s=t).name,readTime:_i(kr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function jI(n){return ts(n,hd.store)}function BI(n){return ts(n,ff.store)}class $I{constructor(){this.Gt=new P0}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.Gt.getEntries(t))}}class P0{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new qt(Qt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qt(Qt.comparator)).toArray()}}class oN{constructor(){this.zt=new P0}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:s,parent:jo(a)};return HI(e).put(l)}return Ne.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[zy(t),""],!1,!0);return HI(e).Lt(a).next(l=>{for(const p of l){if(p.collectionId!==t)break;s.push(Bo(p.parent))}return s})}}function HI(n){return ts(n,$o.store)}const GI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ir{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xS(n,e,t){const s=n.store(Tn.store),a=n.store(yi.store),l=[],p=IDBKeyRange.only(t.batchId);let _=0;const b=s.Kt({range:p},(N,P,K)=>(_++,K.delete()));l.push(b.next(()=>{_t(1===_)}));const S=[];for(const N of t.mutations){const P=yi.key(e,N.key.path,t.batchId);l.push(a.delete(P)),S.push(N.key)}return Ne.waitFor(l).next(()=>S)}function Rg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(41943040,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);class k0{constructor(e,t,s,a){this.userId=e,this.N=t,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,s,a){_t(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new k0(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Au(e).Kt({index:Tn.userMutationsIndex,range:s},(a,l,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=yf(e),p=Au(e);return p.add({}).next(_=>{_t("number"==typeof _);const b=new x0(_,t,s,a),S=function(K,G,Ee){const Ue=Ee.baseMutations.map(pt=>Lc(K.Wt,pt)),We=Ee.mutations.map(pt=>Lc(K.Wt,pt));return new Tn(G,Ee.batchId,Ee.localWriteTime.toMillis(),Ue,We)}(this.N,this.userId,b),N=[];let P=new qt((K,G)=>kt(K.canonicalString(),G.canonicalString()));for(const K of a){const G=yi.key(this.userId,K.key.path,_);P=P.add(K.key.path.popLast()),N.push(p.put(S)),N.push(l.put(G,yi.PLACEHOLDER))}return P.forEach(K=>{N.push(this.Ht.addToCollectionParentIndex(e,K))}),e.addOnCommittedListener(()=>{this.Jt[_]=b.keys()}),Ne.waitFor(N).next(()=>b)})}lookupMutationBatch(e,t){return Au(e).get(t).next(s=>s?(_t(s.userId===this.userId),gf(this.N,s)):null)}Xt(e,t){return this.Jt[t]?Ne.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Au(e).Kt({index:Tn.userMutationsIndex,range:a},(p,_,b)=>{_.userId===this.userId&&(_t(_.batchId>=s),l=gf(this.N,_)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Au(e).Kt({index:Tn.userMutationsIndex,range:t,reverse:!0},(a,l,p)=>{s=l.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Au(e).Lt(Tn.userMutationsIndex,t).next(s=>s.map(a=>gf(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=yi.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return yf(e).Kt({range:a},(p,_,b)=>{const[S,N,P]=p,K=Bo(N);if(S===this.userId&&t.path.isEqual(K))return Au(e).get(P).next(G=>{if(!G)throw rt();_t(G.userId===this.userId),l.push(gf(this.N,G))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(kt);const a=[];return t.forEach(l=>{const p=yi.prefixForPath(this.userId,l.path),_=IDBKeyRange.lowerBound(p),b=yf(e).Kt({range:_},(S,N,P)=>{const[K,G,Ee]=S,Ue=Bo(G);K===this.userId&&l.path.isEqual(Ue)?s=s.add(Ee):P.done()});a.push(b)}),Ne.waitFor(a).next(()=>this.Zt(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=yi.prefixForPath(this.userId,s),p=IDBKeyRange.lowerBound(l);let _=new qt(kt);return yf(e).Kt({range:p},(b,S,N)=>{const[P,K,G]=b,Ee=Bo(K);P===this.userId&&s.isPrefixOf(Ee)?Ee.length===a&&(_=_.add(G)):N.done()}).next(()=>this.Zt(e,_))}Zt(e,t){const s=[],a=[];return t.forEach(l=>{a.push(Au(e).get(l).next(p=>{if(null===p)throw rt();_t(p.userId===this.userId),s.push(gf(this.N,p))}))}),Ne.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return xS(e.Qt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Ne.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ne.resolve();const s=IDBKeyRange.lowerBound(yi.prefixForUser(this.userId)),a=[];return yf(e).Kt({range:s},(l,p,_)=>{if(l[0]===this.userId){const b=Bo(l[1]);a.push(b)}else _.done()}).next(()=>{_t(0===a.length)})})}containsKey(e,t){return RS(e,this.userId,t)}ee(e){return l_(e).get(this.userId).next(t=>t||new Vc(this.userId,-1,""))}}function RS(n,e,t){const s=yi.prefixForPath(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let p=!1;return yf(n).Kt({range:l,qt:!0},(_,b,S)=>{const[N,P,K]=_;N===e&&P===a&&(p=!0),S.done()}).next(()=>p)}function Au(n){return ts(n,Tn.store)}function yf(n){return ts(n,yi.store)}function l_(n){return ts(n,Vc.store)}class pd{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new pd(0)}static ie(){return new pd(-1)}}class NS{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const s=new pd(t.highestTargetId);return t.highestTargetId=s.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Dt.fromTimestamp(new Pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(s=>(s.targetCount+=1,this.ce(t,s),this.oe(e,s))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_f(e).delete(t.targetId)).next(()=>this.re(e)).next(s=>(_t(s.targetCount>0),s.targetCount-=1,this.oe(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return _f(e).Kt((p,_)=>{const b=mf(_);b.sequenceNumber<=t&&null===s.get(b.targetId)&&(a++,l.push(this.removeTargetData(e,b)))}).next(()=>Ne.waitFor(l)).next(()=>a)}forEachTarget(e,t){return _f(e).Kt((s,a)=>{const l=mf(a);t(l)})}re(e){return qI(e).get(es.key).next(t=>(_t(null!==t),t))}oe(e,t){return qI(e).put(es.key,t)}ae(e,t){return _f(e).put(O0(this.N,t))}ce(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Yi(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return _f(e).Kt({range:a,index:Xi.queryTargetsIndexName},(p,_,b)=>{const S=mf(_);c0(t,S.target)&&(l=S,b.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=Bc(e);return t.forEach(p=>{const _=jo(p.path);a.push(l.put(new Qr(s,_))),a.push(this.referenceDelegate.addReference(e,s,p))}),Ne.waitFor(a)}removeMatchingKeys(e,t,s){const a=Bc(e);return Ne.forEach(t,l=>{const p=jo(l.path);return Ne.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=Bc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Bc(e);let l=Rt();return a.Kt({range:s,qt:!0},(p,_,b)=>{const S=Bo(p[1]),N=new tt(S);l=l.add(N)}).next(()=>l)}containsKey(e,t){const s=jo(t.path),a=IDBKeyRange.bound([s],[zy(s)],!1,!0);let l=0;return Bc(e).Kt({index:Qr.documentTargetsIndex,qt:!0,range:a},([p,_],b,S)=>{0!==p&&(l++,S.done())}).next(()=>l>0)}Tt(e,t){return _f(e).get(t).next(s=>s?mf(s):null)}}function _f(n){return ts(n,Xi.store)}function qI(n){return ts(n,es.store)}function Bc(n){return ts(n,Qr.store)}function gd(n){return F0.apply(this,arguments)}function F0(){return(F0=(0,we.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==FI)throw n;Ve("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function zI([n,e],[t,s]){const a=kt(n,t);return 0===a?kt(e,s):a}class MS{constructor(e){this.ue=e,this.buffer=new qt(zI),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();zI(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OS{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const s=this.de?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,we.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){pf(a)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield gd(a)}yield t._e(e)}))}}class Ng{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ne.resolve(Ki.T);const s=new MS(t);return this.me.forEachTarget(e,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.me.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(GI)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GI):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let s,a,l,p,_,b,S;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),a=this.params.maximumSequenceNumbersToCollect):a=P,p=Date.now(),this.nthSequenceNumber(e,a))).next(P=>(s=P,_=Date.now(),this.removeTargets(e,s,t))).next(P=>(l=P,b=Date.now(),this.removeOrphanedDocuments(e,s))).next(P=>(S=Date.now(),Jl()<=bs.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-N}ms\n\tDetermined least recently used ${a} in `+(_-p)+`ms\n\tRemoved ${l} targets in `+(b-_)+`ms\n\tRemoved ${P} documents in `+(S-b)+`ms\nTotal Duration: ${S-N}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:P})))}}class WI{constructor(e,t){this.db=e,this.garbageCollector=new Ng(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Te(e){let t=0;return this.ye(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(s,a)=>t(a))}addReference(e,t,s){return Mg(e,s)}removeReference(e,t,s){return Mg(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Mg(e,t)}Ie(e,t){return function(s,a){let l=!1;return l_(s).jt(p=>RS(s,p,a).next(_=>(_&&(l=!0),Ne.resolve(!_)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(p,_)=>{if(_<=t){const b=this.Ie(e,p).next(S=>{if(!S)return l++,s.getEntry(e,p).next(()=>(s.removeEntry(p),Bc(e).delete([0,jo(p.path)])))});a.push(b)}}).next(()=>Ne.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Mg(e,t)}Ee(e,t){const s=Bc(e);let a,l=Ki.T;return s.Kt({index:Qr.documentTargetsIndex},([p,_],{path:b,sequenceNumber:S})=>{0===p?(l!==Ki.T&&t(new tt(Bo(a)),l),l=S,a=b):l=Ki.T}).next(()=>{l!==Ki.T&&t(new tt(Bo(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mg(n,e){return Bc(n).put((s=n.currentSequenceNumber,new Qr(0,jo(e.path),s)));var s}class md{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){Xl(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return oI(this.inner)}}class L0{constructor(){this.changes=new md(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Dt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Nn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ne.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZI{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,s){return $c(e).put(d_(t),s)}removeEntry(e,t){const s=$c(e),a=d_(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Ae(e,s)))}getEntry(e,t){return $c(e).get(d_(t)).next(s=>this.Re(t,s))}be(e,t){return $c(e).get(d_(t)).next(s=>({document:this.Re(t,s),size:Rg(s)}))}getEntries(e,t){let s=Vo();return this.Pe(e,t,(a,l)=>{const p=this.Re(a,l);s=s.insert(a,p)}).next(()=>s)}ve(e,t){let s=Vo(),a=new Un(tt.comparator);return this.Pe(e,t,(l,p)=>{const _=this.Re(l,p);s=s.insert(l,_),a=a.insert(l,Rg(p))}).next(()=>({documents:s,Ve:a}))}Pe(e,t,s){if(t.isEmpty())return Ne.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let p=l.getNext();return $c(e).Kt({range:a},(_,b,S)=>{const N=tt.fromSegments(_);for(;p&&tt.comparator(p,N)<0;)s(p,null),p=l.getNext();p&&p.isEqual(N)&&(s(p,b),p=l.hasNext()?l.getNext():null),p?S.Mt(p.path.toArray()):S.done()}).next(()=>{for(;p;)s(p,null),p=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=Vo();const l=t.path.length+1,p={};if(s.isEqual(Dt.min())){const _=t.path.toArray();p.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),b=Fr(s);p.range=IDBKeyRange.lowerBound([_,b],!0),p.index=Hn.collectionReadTimeIndex}return $c(e).Kt(p,(_,b,S)=>{if(_.length!==l)return;const N=N0(this.N,b);t.path.isPrefixOf(N.key.path)?Cg(t,N)&&(a=a.insert(N.key,N)):S.done()}).next(()=>a)}newChangeBuffer(e){return new PS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return KI(e).get(Ji.key).next(t=>(_t(!!t),t))}Ae(e,t){return KI(e).put(Ji.key,t)}Re(e,t){if(t){const s=N0(this.N,t);if(!s.isNoDocument()||!s.version.isEqual(Dt.min()))return s}return Nn.newInvalidDocument(e)}}class PS extends L0{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new md(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new qt((l,p)=>kt(l.canonicalString(),p.canonicalString()));return this.changes.forEach((l,p)=>{const _=this.De.get(l);if(p.document.isValidDocument()){const b=fd(this.Se.N,p.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=Rg(b)-_,t.push(this.Se.addEntry(e,l,b))}else if(s-=_,this.trackRemovals){const b=fd(this.Se.N,Nn.newNoDocument(l,Dt.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,b))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,s)),Ne.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(s=>(this.De.set(t,s.size),s.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:s,Ve:a})=>(a.forEach((l,p)=>{this.De.set(l,p)}),s))}}function KI(n){return ts(n,Ji.store)}function $c(n){return ts(n,Hn.store)}function d_(n){return n.path.toArray()}class kS{constructor(e){this.N=e}Ct(e,t,s,a){_t(s<a&&s>=0&&a<=11);const l=new xg("createOrUpgrade",t);var _;s<1&&a>=1&&(e.createObjectStore(Js.store),(_=e).createObjectStore(Vc.store,{keyPath:Vc.keyPath}),_.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(yi.store),YI(e),function(_){_.createObjectStore(Hn.store)}(e));let p=Ne.resolve();return s<3&&a>=3&&(0!==s&&(function(_){_.deleteObjectStore(Qr.store),_.deleteObjectStore(Xi.store),_.deleteObjectStore(es.store)}(e),YI(e)),p=p.next(()=>function(_){const b=_.store(es.store),S=new es(0,0,Dt.min().toTimestamp(),0);return b.put(es.key,S)}(l))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(_,b){return b.store(Tn.store).Lt().next(S=>{_.deleteObjectStore(Tn.store),_.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0});const N=b.store(Tn.store),P=S.map(K=>N.put(K));return Ne.waitFor(P)})}(e,l))),p=p.next(()=>{!function(_){_.createObjectStore(Uc.store,{keyPath:Uc.keyPath})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ce(l))),s<6&&a>=6&&(p=p.next(()=>(function(_){_.createObjectStore(Ji.store)}(e),this.Ne(l)))),s<7&&a>=7&&(p=p.next(()=>this.xe(l))),s<8&&a>=8&&(p=p.next(()=>this.ke(e,l))),s<9&&a>=9&&(p=p.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const b=_.objectStore(Hn.store);b.createIndex(Hn.readTimeIndex,Hn.readTimeIndexPath,{unique:!1}),b.createIndex(Hn.collectionReadTimeIndex,Hn.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(p=p.next(()=>this.$e(l))),s<11&&a>=11&&(p=p.next(()=>{(function(_){_.createObjectStore(hd.store,{keyPath:hd.keyPath})})(e),function(_){_.createObjectStore(ff.store,{keyPath:ff.keyPath})}(e)})),p}Ne(e){let t=0;return e.store(Hn.store).Kt((s,a)=>{t+=Rg(a)}).next(()=>{const s=new Ji(t);return e.store(Ji.store).put(Ji.key,s)})}Ce(e){const t=e.store(Vc.store),s=e.store(Tn.store);return t.Lt().next(a=>Ne.forEach(a,l=>{const p=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt(Tn.userMutationsIndex,p).next(_=>Ne.forEach(_,b=>{_t(b.userId===l.userId);const S=gf(this.N,b);return xS(e,l.userId,S).next(()=>{})}))}))}xe(e){const t=e.store(Qr.store),s=e.store(Hn.store);return e.store(es.store).get(es.key).next(a=>{const l=[];return s.Kt((p,_)=>{const b=new Qt(p),S=[0,jo(b)];l.push(t.get(S).next(N=>N?Ne.resolve():t.put(new Qr(0,jo(b),a.highestListenSequenceNumber))))}).next(()=>Ne.waitFor(l))})}ke(e,t){e.createObjectStore($o.store,{keyPath:$o.keyPath});const s=t.store($o.store),a=new P0,l=p=>{if(a.add(p)){const _=p.lastSegment(),b=p.popLast();return s.put({collectionId:_,parent:jo(b)})}};return t.store(Hn.store).Kt({qt:!0},(p,_)=>{const b=new Qt(p);return l(b.popLast())}).next(()=>t.store(yi.store).Kt({qt:!0},([p,_,b],S)=>{const N=Bo(_);return l(N.popLast())}))}$e(e){const t=e.store(Xi.store);return t.Kt((s,a)=>{const l=mf(a),p=O0(this.N,l);return t.put(p)})}}function YI(n){n.createObjectStore(Qr.store,{keyPath:Qr.keyPath}).createIndex(Qr.documentTargetsIndex,Qr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Xi.store,{keyPath:Xi.keyPath}).createIndex(Xi.queryTargetsIndexName,Xi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(es.store)}const V0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yd{constructor(e,t,s,a,l,p,_,b,S,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Oe=l,this.window=p,this.document=_,this.Fe=S,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=P=>Promise.resolve(),!yd.bt())throw new Oe(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WI(this,a),this.We=t+"main",this.N=new u_(b),this.Ge=new Ho(this.We,11,new kS(this.N)),this.ze=new NS(this.referenceDelegate,this.N),this.Ht=new oN,this.He=new ZI(this.N,this.Ht),this.Je=new SS,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ye.FAILED_PRECONDITION,V0);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Ki(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var s=(0,we.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,we.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>h_(e).put(new Uc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(pf(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Su(e).get(Js.key).next(t=>Ne.resolve(this.cn(t)))}un(e){return h_(e).delete(this.clientId)}hn(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=ts(s,Uc.store);return a.Lt().next(l=>{const p=e.fn(l,18e5),_=l.filter(b=>-1===p.indexOf(b));return Ne.forEach(_,b=>a.delete(b.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Ye)for(const s of t)e.Ye.removeItem(e.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ne.resolve(!0):Su(e).get(Js.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Oe(ye.FAILED_PRECONDITION,V0);return!1}}return!(!this.networkEnabled||!this.inForeground)||h_(e).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,_=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Js.store,Uc.store],t=>{const s=new UI(t,Ki.T);return e.on(s).next(()=>e.un(s))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(s=>this.ln(s.updateTimeMs,t)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>h_(e).Lt().next(t=>this.fn(t,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(e){return k0.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,s){let l;return Ve("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",TS,p=>(l=new UI(p,this.Le?this.Le.next():Ki.T),"readwrite-primary"===t?this.sn(l).next(_=>!!_||this.rn(l)).next(_=>{if(!_)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(ye.FAILED_PRECONDITION,FI);return s(l)}).next(_=>this.an(l).next(()=>_)):this.Tn(l).next(()=>s(l)))).then(p=>(l.raiseOnCommittedEvent(),p))}Tn(e){return Su(e).get(Js.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(ye.FAILED_PRECONDITION,V0)})}an(e){const t=new Js(this.clientId,this.allowTabSynchronization,Date.now());return Su(e).put(Js.key,t)}static bt(){return Ho.bt()}on(e){const t=Su(e);return t.get(Js.key).next(s=>this.cn(s)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete(Js.key)):Ne.resolve())}ln(e,t){const s=Date.now();return!(e<s-t||e>s&&(cr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Tt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const s=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return cr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Su(n){return ts(n,Js.store)}function h_(n){return ts(n,Uc.store)}function Og(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ma{constructor(e,t){this.progress=e,this.En=t}}class QI{constructor(e,t,s){this.He=e,this.In=t,this.Ht=s}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Rn(e,t,s))}Rn(e,t,s){return this.He.getEntry(e,t).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((s,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(s=>this.vn(e,s).next(()=>s))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.bn(t,s))}getDocumentsMatchingQuery(e,t,s){return tt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):Qy(t)?this.Sn(e,t,s):this.Dn(e,t,s);var a}Vn(e,t){return this.An(e,new tt(t)).next(s=>{let a=r_();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(e,t,s){const a=t.collectionGroup;let l=r_();return this.Ht.getCollectionParents(e,a).next(p=>Ne.forEach(p,_=>{const b=(S=t,N=_.child(a),new Na(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,N;return this.Dn(e,b,s).next(S=>{S.forEach((N,P)=>{l=l.insert(N,P)})})}).next(()=>l))}Dn(e,t,s){let a,l;return this.He.getDocumentsMatchingQuery(e,t,s).next(p=>(a=p,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(p=>(l=p,this.Cn(e,l,a).next(_=>{a=_;for(const b of l)for(const S of b.mutations){const N=S.key;let P=a.get(N);null==P&&(P=Nn.newInvalidDocument(N),a=a.insert(N,P)),t_(S,P,b.localWriteTime),P.isFoundDocument()||(a=a.remove(N))}}))).next(()=>(a.forEach((p,_)=>{Cg(t,_)||(a=a.remove(p))}),a))}Cn(e,t,s){let a=Rt();for(const p of t)for(const _ of p.mutations)_ instanceof Pc&&null===s.get(_.key)&&(a=a.add(_.key));let l=s;return this.He.getEntries(e,a).next(p=>(p.forEach((_,b)=>{b.isFoundDocument()&&(l=l.insert(_,b))}),l))}}class vf{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Nn=s,this.xn=a}static kn(e,t){let s=Rt(),a=Rt();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new vf(e,t.fromCache,s,a)}}class JI{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(Dt.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const p=this.Mn(t,l);return(Yy(t)||wg(t))&&this.Ln(t.limitType,p,a,s)?this.Fn(e,t):(Jl()<=bs.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_I(t)),this.On.getDocumentsMatchingQuery(e,t,s).next(_=>(p.forEach(b=>{_=_.insert(b.key,b)}),_)))});var l}Mn(e,t){let s=new qt(vI(e));return t.forEach((a,l)=>{Cg(e,l)&&(s=s.add(l))}),s}Ln(e,t,s,a){if(s.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return Jl()<=bs.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",_I(t)),this.On.getDocumentsMatchingQuery(e,t,Dt.min())}}class FS{constructor(e,t,s,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new Un(kt),this.qn=new md(l=>Yi(l),c0),this.Kn=Dt.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new QI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function LS(n,e,t,s){return new FS(n,e,t,s)}function f_(n,e){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,we.Z)(function*(n,e){const t=je(n);let s=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",p=>{let _;return t.In.getAllMutationBatches(p).next(b=>(_=b,s=t.persistence.getMutationQueue(e),a=new QI(t.jn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(p))).next(b=>{const S=[],N=[];let P=Rt();for(const K of _){S.push(K.batchId);for(const G of K.mutations)P=P.add(G.key)}for(const K of b){N.push(K.batchId);for(const G of K.mutations)P=P.add(G.key)}return a.Pn(p,P).next(K=>({Wn:K,removedBatchIds:S,addedBatchIds:N}))})});return t.In=s,t.Qn=a,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function XI(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(p,_,b,S){const N=b.batch,P=N.keys();let K=Ne.resolve();return P.forEach(G=>{K=K.next(()=>S.getEntry(_,G)).next(Ee=>{const Ue=b.docVersions.get(G);_t(null!==Ue),Ee.version.compareTo(Ue)<0&&(N.applyToRemoteDocument(Ee,b),Ee.isValidDocument()&&S.addEntry(Ee,b.commitVersion))})}),K.next(()=>p.In.removeMutationBatch(_,N))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.In.performConsistencyCheck(s)).next(()=>t.Qn.Pn(s,a))})}function p_(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function U0(n,e){const t=je(n),s=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const _=[];e.targetChanges.forEach((S,N)=>{const P=a.get(N);if(!P)return;_.push(t.ze.removeMatchingKeys(l,S.removedDocuments,N).next(()=>t.ze.addMatchingKeys(l,S.addedDocuments,N)));const K=S.resumeToken;if(K.approximateByteSize()>0){const G=P.withResumeToken(K,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(N,G),Ee=P,We=S,_t((Ue=G).resumeToken.approximateByteSize()>0),(0===Ee.resumeToken.approximateByteSize()||Ue.snapshotVersion.toMicroseconds()-Ee.snapshotVersion.toMicroseconds()>=3e8||We.addedDocuments.size+We.modifiedDocuments.size+We.removedDocuments.size>0)&&_.push(t.ze.updateTargetData(l,G))}var Ee,Ue,We});let b=Vo();if(e.documentUpdates.forEach((S,N)=>{e.resolvedLimboDocuments.has(S)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),_.push(eD(l,p,e.documentUpdates,s,void 0).next(S=>{b=S})),!s.isEqual(Dt.min())){const S=t.ze.getLastRemoteSnapshotVersion(l).next(N=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));_.push(S)}return Ne.waitFor(_).next(()=>p.apply(l)).next(()=>t.Qn.vn(l,b)).next(()=>b)}).then(l=>(t.Un=a,l))}function eD(n,e,t,s,a){let l=Rt();return t.forEach(p=>l=l.add(p)),e.getEntries(n,l).next(p=>{let _=Vo();return t.forEach((b,S)=>{const N=p.get(b),P=(null==a?void 0:a.get(b))||s;S.isNoDocument()&&S.version.isEqual(Dt.min())?(e.removeEntry(b,P),_=_.insert(b,S)):!N.isValidDocument()||S.version.compareTo(N.version)>0||0===S.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(S,P),_=_.insert(b,S)):Ve("LocalStore","Ignoring outdated watch update for ",b,". Current version:",N.version," Watch version:",S.version)}),_})}function VS(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(s,e)))}function Ef(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.ze.getTargetData(s,e).next(l=>l?(a=l,Ne.resolve(a)):t.ze.allocateTargetId(s).next(p=>(a=new Tu(e,p,0,s.currentSequenceNumber),t.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(s.targetId,s),t.qn.set(e,s.targetId)),s})}function wf(n,e,t){return g_.apply(this,arguments)}function g_(){return(g_=(0,we.Z)(function*(n,e,t){const s=je(n),a=s.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!pf(p))throw p;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Un=s.Un.remove(e),s.qn.delete(a.target)})).apply(this,arguments)}function bf(n,e,t){const s=je(n);let a=Dt.min(),l=Rt();return s.persistence.runTransaction("Execute query","readonly",p=>function(_,b,S){const N=je(_),P=N.qn.get(S);return void 0!==P?Ne.resolve(N.Un.get(P)):N.ze.getTargetData(b,S)}(s,p,Mi(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(p,_.targetId).next(b=>{l=b})}).next(()=>s.Bn.getDocumentsMatchingQuery(p,e,t?a:Dt.min(),t?l:Rt())).next(_=>({documents:_,Gn:l})))}function j0(n,e){const t=je(n),s=je(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.Tt(l,e).next(p=>p?p.target:null))}function tD(n){const e=je(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,l){const p=je(s);let _=Vo(),b=Fr(l);const S=$c(a),N=IDBKeyRange.lowerBound(b,!0);return S.Kt({index:Hn.readTimeIndex,range:N},(P,K)=>{const G=N0(p.N,K);_=_.insert(G.key,G),b=K.readTime}).next(()=>({En:_,readTime:M0(b)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:s})=>(e.Kn=s,t))}function m_(){return(m_=(0,we.Z)(function*(n){const e=je(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=$c(s);let l=Dt.min();return a.Kt({index:Hn.readTimeIndex,reverse:!0},(p,_,b)=>{_.readTime&&(l=M0(_.readTime)),b.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function y_(){return(y_=(0,we.Z)(function*(n,e,t,s){const a=je(n);let l=Rt(),p=Vo(),_=SI();for(const N of t){const P=e.zn(N.metadata.name);N.document&&(l=l.add(P)),p=p.insert(P,e.Hn(N)),_=_.insert(P,e.Jn(N.metadata.readTime))}const b=a.jn.newChangeBuffer({trackRemovals:!0}),S=yield Ef(a,(N=s,Mi(Jh(Qt.fromString(`__bundle__/docs/${N}`)))));var N;return a.persistence.runTransaction("Apply bundle documents","readwrite",N=>eD(N,b,p,Dt.min(),_).next(P=>(b.apply(N),P)).next(P=>a.ze.removeMatchingKeysForTargetId(N,S.targetId).next(()=>a.ze.addMatchingKeys(N,l,S.targetId)).next(()=>a.Qn.vn(N,P)).next(()=>P)))})).apply(this,arguments)}function rD(n,e){return B0.apply(this,arguments)}function B0(){return(B0=(0,we.Z)(function*(n,e,t=Rt()){const s=yield Ef(n,Mi(c_(e.bundledQuery))),a=je(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const p=kr(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.Je.saveNamedQuery(l,e);const _=s.withResumeToken(Cr.EMPTY_BYTE_STRING,p);return a.Un=a.Un.insert(_.targetId,_),a.ze.updateTargetData(l,_).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,t,s.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class iD{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ne.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var s;return this.Yn.set(t.id,{id:(s=t).id,version:s.version,createTime:kr(s.createTime)}),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:c_(s.bundledQuery),readTime:kr(s.readTime)}),Ne.resolve();var s}}class $0{constructor(){this.Zn=new qt(Jr.ts),this.es=new qt(Jr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new Jr(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new Jr(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}cs(e){const t=new tt(new Qt([])),s=new Jr(t,e),a=new Jr(t,e+1),l=[];return this.es.forEachInRange([s,a],p=>{this.rs(p),l.push(p.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new tt(new Qt([])),s=new Jr(t,e),a=new Jr(t,e+1);let l=Rt();return this.es.forEachInRange([s,a],p=>{l=l.add(p.key)}),l}containsKey(e){const t=new Jr(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Jr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return tt.comparator(e.key,t.key)||kt(e.ls,t.ls)}static ns(e,t){return kt(e.ls,t.ls)||tt.comparator(e.key,t.key)}}class Oi{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new qt(Jr.ts)}checkEmpty(e){return Ne.resolve(0===this.In.length)}addMutationBatch(e,t,s,a){const l=this.fs;this.fs++;const p=new x0(l,t,s,a);this.In.push(p);for(const _ of a)this.ds=this.ds.add(new Jr(_.key,l)),this.Ht.addToCollectionParentIndex(e,_.key.path.popLast());return Ne.resolve(p)}lookupMutationBatch(e,t){return Ne.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return Ne.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ne.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Jr(t,0),a=new Jr(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],p=>{const _=this.ws(p.ls);l.push(_)}),Ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(kt);return t.forEach(a=>{const l=new Jr(a,0),p=new Jr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,p],_=>{s=s.add(_.ls)})}),Ne.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;tt.isDocumentKey(l)||(l=l.child(""));const p=new Jr(new tt(l),0);let _=new qt(kt);return this.ds.forEachWhile(b=>{const S=b.key.path;return!!s.isPrefixOf(S)&&(S.length===a&&(_=_.add(b.ls)),!0)},p),Ne.resolve(this.gs(_))}gs(e){const t=[];return e.forEach(s=>{const a=this.ws(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){_t(0===this.ys(t.batchId,"removed")),this.In.shift();let s=this.ds;return Ne.forEach(t.mutations,a=>{const l=new Jr(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,t){const s=new Jr(t,0),a=this.ds.firstAfterOrEqual(s);return Ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ne.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Cf{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Un(tt.comparator),this.size=0}addEntry(e,t,s){const a=t.key,l=this.docs.get(a),p=l?l.size:0,_=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:_,readTime:s}),this.size+=_-p,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ne.resolve(s?s.document.clone():Nn.newInvalidDocument(t))}getEntries(e,t){let s=Vo();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():Nn.newInvalidDocument(a))}),Ne.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=Vo();const l=new tt(t.path.child("")),p=this.docs.getIteratorFrom(l);for(;p.hasNext();){const{key:_,value:{document:b,readTime:S}}=p.getNext();if(!t.path.isPrefixOf(_.path))break;S.compareTo(s)<=0||Cg(t,b)&&(a=a.insert(b.key,b.clone()))}return Ne.resolve(a)}Ts(e,t){return Ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new jS(this)}getSize(e){return Ne.resolve(this.size)}}class jS extends L0{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Ne.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class BS{constructor(e){this.persistence=e,this.Es=new md(t=>Yi(t),c0),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Is=0,this.As=new $0,this.targetCount=0,this.Rs=pd.se()}forEachTarget(e,t){return this.Es.forEach((s,a)=>t(a)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Is&&(this.Is=t),Ne.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new pd(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.ae(t),Ne.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Es.forEach((p,_)=>{_.sequenceNumber<=t&&null===s.get(_.targetId)&&(this.Es.delete(p),l.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),Ne.waitFor(l).next(()=>a)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.Es.get(t)||null;return Ne.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),Ne.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(p=>{l.push(a.markPotentiallyOrphaned(e,p))}),Ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return Ne.resolve(s)}containsKey(e,t){return Ne.resolve(this.As.containsKey(t))}}class aN{constructor(e,t){this.bs={},this.Le=new Ki(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new BS(this),this.Ht=new $I,this.He=new Cf(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new u_(t),this.Je=new iD(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Oi(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,s){Ve("MemoryPersistence","Starting transaction:",e);const a=new kg(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return Ne.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class kg extends LI{constructor(e){super(),this.currentSequenceNumber=e}}class H0{constructor(e){this.persistence=e,this.Ds=new $0,this.Cs=null}static Ns(e){return new H0(e)}get xs(){if(this.Cs)return this.Cs;throw rt()}addReference(e,t,s){return this.Ds.addReference(s,t),this.xs.delete(s.toString()),Ne.resolve()}removeReference(e,t,s){return this.Ds.removeReference(s,t),this.xs.add(s.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.xs,s=>{const a=tt.fromPath(s);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Ne.or([()=>Ne.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function __(n,e){return`firestore_clients_${n}_${e}`}function sD(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function v_(n,e){return`firestore_targets_${n}_${e}`}class E_{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static $s(e,t,s){const a=JSON.parse(s);let l,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(l=new Oe(a.error.code,a.error.message))),p?new E_(e,t,a.state,l):(cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fg{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Oe(s.error.code,s.error.message))),l?new Fg(e,s.state,a):(cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class If{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=Qi();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=Wy(s.activeTargetIds[p]),l=l.add(s.activeTargetIds[p]);return a?new If(e,l):(cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class w_{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new w_(t.clientId,t.onlineState):(cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class b_{constructor(){this.activeTargetIds=Qi()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Df{constructor(e,t,s,a,l){this.window=e,this.Oe=t,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Un(kt),this.started=!1,this.Ks=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=__(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new b_),this.Ws=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(__(e.persistenceKey,a));if(l){const p=If.$s(a,l);p&&(e.qs=e.qs.insert(p.clientId,p))}}e.Ys();const s=e.storage.getItem(e.Hs);if(s){const a=e.Xs(s);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,s){this.ei(e,t,s),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(v_(this.persistenceKey,e));if(s){const a=Fg.$s(e,s);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(v_(this.persistenceKey,e))}updateQueryState(e,t,s){this.ii(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.ni(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ve("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ws.test(s.key)){if(null==s.newValue){const a=t.ai(s.key);return t.ci(a,null)}{const a=t.ui(s.key,s.newValue);if(a)return t.ci(a.clientId,a)}}else if(t.Gs.test(s.key)){if(null!==s.newValue){const a=t.hi(s.key,s.newValue);if(a)return t.li(a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.fi(s.key,s.newValue);if(a)return t.di(a)}}else if(s.key===t.Hs){if(null!==s.newValue){const a=t.Xs(s.newValue);if(a)return t.Zs(a)}}else if(s.key===t.Qs){const a=function(l){let p=Ki.T;if(null!=l)try{const _=JSON.parse(l);_t("number"==typeof _),p=_}catch(_){cr("SharedClientState","Failed to read sequence number from WebStorage",_)}return p}(s.newValue);a!==Ki.T&&t.sequenceNumberHandler(a)}else if(s.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,s){const a=new E_(this.currentUser,e,t,s),l=sD(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=sD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,s){const a=v_(this.persistenceKey,e),l=new Fg(e,t,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const s=this.ai(e);return If.$s(s,t)}hi(e,t){const s=this.Gs.exec(e),a=Number(s[1]);return E_.$s(new Zr(void 0!==s[2]?s[2]:null),a,t)}fi(e,t){const s=this.zs.exec(e),a=Number(s[1]);return Fg.$s(a,t)}Xs(e){return w_.$s(e)}li(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const s=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(s),p=[],_=[];return l.forEach(b=>{a.has(b)||p.push(b)}),a.forEach(b=>{l.has(b)||_.push(b)}),this.syncEngine.gi(p,_).then(()=>{this.qs=s})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Qi();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class C_{constructor(){this.yi=new b_,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,s){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new b_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class uN{Ti(e){}shutdown(){}}class G0{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $S={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class oD{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class I_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,s,a){const l=this.Bi(e,t);Ve("RestConnection","Sending: ",l,s);const p={};return this.Ui(p,a),this.qi(e,l,p,s).then(_=>(Ve("RestConnection","Received: ",_),_),_=>{throw gg("RestConnection",`${e} failed with error: `,_,"url: ",l,"request:",s),_})}Ki(e,t,s,a){return this.Li(e,t,s,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+zh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const s in t.authHeaders)t.authHeaders.hasOwnProperty(s)&&(e[s]=t.authHeaders[s])}Bi(e,t){return`${this.Fi}/v1/${t}:${$S[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,s,a){return new Promise((l,p)=>{const _=new tI;_.listenOnce(qA.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case t0.NO_ERROR:const S=_.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(S)),l(S);break;case t0.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),p(new Oe(ye.DEADLINE_EXCEEDED,"Request time out"));break;case t0.HTTP_ERROR:const N=_.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',N,"response text:",_.getResponseText()),N>0){const P=_.getResponseJson().error;if(P&&P.status&&P.message){const K=function(G){const Ee=G.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Ee)>=0?Ee:ye.UNKNOWN}(P.status);p(new Oe(K,P.message))}else p(new Oe(ye.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Oe(ye.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(a);_.send(t,"POST",b,s,15)})}ji(e,t){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=GA(),l=eI(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new JR({})),this.Ui(p.initMessageHeaders,t),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const _=s.join("");Ve("Connection","Creating WebChannel: "+_,p);const b=a.createWebChannel(_,p);let S=!1,N=!1;const P=new oD({vi:G=>{N?Ve("Connection","Not sending because WebChannel is closed:",G):(S||(Ve("Connection","Opening WebChannel transport."),b.open(),S=!0),Ve("Connection","WebChannel sending:",G),b.send(G))},Vi:()=>b.close()}),K=(G,Ee,Ue)=>{G.listen(Ee,We=>{try{Ue(We)}catch(pt){setTimeout(()=>{throw pt},0)}})};return K(b,n0.EventType.OPEN,()=>{N||Ve("Connection","WebChannel transport opened.")}),K(b,n0.EventType.CLOSE,()=>{N||(N=!0,Ve("Connection","WebChannel transport closed"),P.$i())}),K(b,n0.EventType.ERROR,G=>{N||(N=!0,gg("Connection","WebChannel transport errored:",G),P.$i(new Oe(ye.UNAVAILABLE,"The operation could not be completed")))}),K(b,n0.EventType.MESSAGE,G=>{var Ee;if(!N){const Ue=G.data[0];_t(!!Ue);const We=Ue,pt=We.error||(null===(Ee=We[0])||void 0===Ee?void 0:Ee.error);if(pt){Ve("Connection","WebChannel received error:",pt);const Wt=pt.status;let bn=function(lr){const Fa=Mn[lr];if(void 0!==Fa)return ad(Fa)}(Wt),Ft=pt.message;void 0===bn&&(bn=ye.INTERNAL,Ft="Unknown error status: "+Wt+" with message "+pt.message),N=!0,P.$i(new Oe(bn,Ft)),b.close()}else Ve("Connection","WebChannel received:",Ue),P.Oi(Ue)}}),K(l,QR.STAT_EVENT,G=>{G.stat===zA.PROXY?Ve("Connection","Detected buffering proxy"):G.stat===zA.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ki()},0),P}}function q0(){return"undefined"!=typeof window?window:null}function D_(){return"undefined"!=typeof document?document:null}function _d(n){return new Sg(n,!0)}class Lg{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-s);a>0&&Ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class aD{constructor(e,t,s,a,l,p){this.Oe=e,this.er=s,this.nr=a,this.credentialsProvider=l,this.listener=p,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Lg(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,we.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,we.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var s=this;return(0,we.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==e?s.rr.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):t&&t.code===ye.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===t&&this.yr(s)},s=>{e(()=>{const a=new Oe(ye.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(a)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{t(()=>this.pr(s))}),this.stream.onMessage(s=>{t(()=>this.onMessage(s))})}ur(){var e=this;this.state=4,this.rr.Xi((0,we.Z)(function*(){e.state=0,e.start()}))}pr(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HS extends aD{constructor(e,t,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,s,l),this.N=a}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:rt(),a=e.targetChange.targetIds||[],l=function(b,S){return b.D?(_t(void 0===S||"string"==typeof S),Cr.fromBase64String(S||"")):(_t(void 0===S||S instanceof Uint8Array),Cr.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,_=p&&function(b){const S=void 0===b.code?ye.UNKNOWN:ad(b.code);return new Oe(S,b.message||"")}(p);t=new cd(s,a,l,_||null)}else if("documentChange"in e){const s=e.documentChange,a=Uo(n,s.document.name),l=kr(s.document.updateTime),p=new mi({mapValue:{fields:s.document.fields}}),_=Nn.newFoundDocument(a,l,p);t=new Ag(s.targetIds||[],s.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const s=e.documentDelete,a=Uo(n,s.document),l=s.readTime?kr(s.readTime):Dt.min(),p=Nn.newNoDocument(a,l);t=new Ag([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=Uo(n,s.document);t=new Ag([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return rt();{const s=e.filter,l=new nN(s.count||0);t=new i_(s.targetId,l)}}var b;return t}(this.N,e),s=function(a){if(!("targetChange"in a))return Dt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Dt.min():l.readTime?kr(l.readTime):Dt.min()}(e);return this.listener.Er(t,s)}Ir(e){const t={};t.database=dd(this.N),t.addTarget=function(a,l){let p;const _=l.target;return p=sd(_)?{documents:OI(a,_)}:{query:gS(a,_)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=I0(a,l.resumeToken):l.snapshotVersion.compareTo(Dt.min())>0&&(p.readTime=ld(a,l.snapshotVersion.toTimestamp())),p}(this.N,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.wr(t)}Ar(e){const t={};t.database=dd(this.N),t.removeTarget=e,this.wr(t)}}class uD extends aD{constructor(e,t,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle",t,s,l),this.N=a,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(s,a){let l=kr(s.updateTime?s.updateTime:a);return l.isEqual(Dt.min())&&(l=kr(a)),new cS(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=kr(e.commitTime);return this.listener.vr(s,t)}return _t(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=dd(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Lc(this.N,s))};this.wr(t)}}class cD extends class{}{constructor(e,t,s){super(),this.credentials=e,this.nr=t,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Oe(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Li(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(ye.UNKNOWN,a.toString())})}Ki(e,t,s){return this.Cr(),this.credentials.getToken().then(a=>this.nr.Ki(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Oe(ye.UNKNOWN,a.toString())})}terminate(){this.Dr=!0}}class lD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(cr(t),this.$r=!1):Ve("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class GS{constructor(e,t,s,a,l){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=l,this.Qr.Ti(_=>{s.enqueueAndForget((0,we.Z)(function*(){var b;Hc(p)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,we.Z)(function*(S){const N=je(S);N.Kr.add(4),yield Af(N),N.Wr.set("Unknown"),N.Kr.delete(4),yield Tf(N)}),function(S){return b.apply(this,arguments)})(p))}))}),this.Wr=new lD(s,a)}}function Tf(n){return T_.apply(this,arguments)}function T_(){return(T_=(0,we.Z)(function*(n){if(Hc(n))for(const e of n.jr)yield e(!0)})).apply(this,arguments)}function Af(n){return z0.apply(this,arguments)}function z0(){return(z0=(0,we.Z)(function*(n){for(const e of n.jr)yield e(!1)})).apply(this,arguments)}function Vg(n,e){const t=je(n);t.qr.has(e.targetId)||(t.qr.set(e.targetId,e),x_(t)?S_(t):Sf(t).cr()&&A_(t,e))}function Ug(n,e){const t=je(n),s=Sf(t);t.qr.delete(e),s.cr()&&W0(t,e),0===t.qr.size&&(s.cr()?s.lr():Hc(t)&&t.Wr.set("Unknown"))}function A_(n,e){n.Gr.Y(e.targetId),Sf(n).Ir(e)}function W0(n,e){n.Gr.Y(e),Sf(n).Ar(e)}function S_(n){n.Gr=new dS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qr.get(e)||null}),Sf(n).start(),n.Wr.Or()}function x_(n){return Hc(n)&&!Sf(n).ar()&&n.qr.size>0}function Hc(n){return 0===je(n).Kr.size}function dD(n){n.Gr=void 0}function qS(n){return R_.apply(this,arguments)}function R_(){return(R_=(0,we.Z)(function*(n){n.qr.forEach((e,t)=>{A_(n,e)})})).apply(this,arguments)}function cN(n,e){return hD.apply(this,arguments)}function hD(){return(hD=(0,we.Z)(function*(n,e){dD(n),x_(n)?(n.Wr.Lr(e),S_(n)):n.Wr.set("Unknown")})).apply(this,arguments)}function lN(n,e,t){return fD.apply(this,arguments)}function fD(){return(fD=(0,we.Z)(function*(n,e,t){if(n.Wr.set("Online"),e instanceof cd&&2===e.state&&e.cause)try{yield(s=(0,we.Z)(function*(a,l){const p=l.cause;for(const _ of l.targetIds)a.qr.has(_)&&(yield a.remoteSyncer.rejectListen(_,p),a.qr.delete(_),a.Gr.removeTarget(_))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Z0(n,s)}else if(e instanceof Ag?n.Gr.rt(e):e instanceof i_?n.Gr.ft(e):n.Gr.ct(e),!t.isEqual(Dt.min()))try{const s=yield p_(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const p=a.Gr._t(l);return p.targetChanges.forEach((_,b)=>{if(_.resumeToken.approximateByteSize()>0){const S=a.qr.get(b);S&&a.qr.set(b,S.withResumeToken(_.resumeToken,l))}}),p.targetMismatches.forEach(_=>{const b=a.qr.get(_);if(!b)return;a.qr.set(_,b.withResumeToken(Cr.EMPTY_BYTE_STRING,b.snapshotVersion)),W0(a,_);const S=new Tu(b.target,_,1,b.sequenceNumber);A_(a,S)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(s){Ve("RemoteStore","Failed to raise snapshot:",s),yield Z0(n,s)}var s})).apply(this,arguments)}function Z0(n,e,t){return pD.apply(this,arguments)}function pD(){return(pD=(0,we.Z)(function*(n,e,t){if(!pf(e))throw e;n.Kr.add(1),yield Af(n),n.Wr.set("Offline"),t||(t=()=>p_(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.Kr.delete(1),yield Tf(n)}))})).apply(this,arguments)}function zS(n,e){return e().catch(t=>Z0(n,t,e))}function jg(n){return gD.apply(this,arguments)}function gD(){return(gD=(0,we.Z)(function*(n){const e=je(n),t=Gc(e);let s=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;dN(e);)try{const a=yield VS(e.localStore,s);if(null===a){0===e.Ur.length&&t.lr();break}s=a.batchId,hN(e,a)}catch(a){yield Z0(e,a)}WS(e)&&ZS(e)})).apply(this,arguments)}function dN(n){return Hc(n)&&n.Ur.length<10}function hN(n,e){n.Ur.push(e);const t=Gc(n);t.cr()&&t.br&&t.Pr(e.mutations)}function WS(n){return Hc(n)&&!Gc(n).ar()&&n.Ur.length>0}function ZS(n){Gc(n).start()}function fN(n){return mD.apply(this,arguments)}function mD(){return(mD=(0,we.Z)(function*(n){Gc(n).Sr()})).apply(this,arguments)}function pN(n){return yD.apply(this,arguments)}function yD(){return(yD=(0,we.Z)(function*(n){const e=Gc(n);for(const t of n.Ur)e.Pr(t.mutations)})).apply(this,arguments)}function KS(n,e,t){return K0.apply(this,arguments)}function K0(){return(K0=(0,we.Z)(function*(n,e,t){const s=n.Ur.shift(),a=R0.from(s,e,t);yield zS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield jg(n)})).apply(this,arguments)}function YS(n,e){return _D.apply(this,arguments)}function _D(){return(_D=(0,we.Z)(function*(n,e){var t;e&&Gc(n).br&&(yield(t=(0,we.Z)(function*(s,a){if(Iu(l=a.code)&&l!==ye.ABORTED){const p=s.Ur.shift();Gc(s).hr(),yield zS(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield jg(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),WS(n)&&ZS(n)})).apply(this,arguments)}function vD(n,e){return ED.apply(this,arguments)}function ED(){return(ED=(0,we.Z)(function*(n,e){const t=je(n);e?(t.Kr.delete(2),yield Tf(t)):e||(t.Kr.add(2),yield Af(t),t.Wr.set("Unknown"))})).apply(this,arguments)}function Sf(n){return n.zr||(n.zr=function(e,t,s){const a=je(e);return a.Cr(),new HS(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:qS.bind(null,n),Ci:cN.bind(null,n),Er:lN.bind(null,n)}),n.jr.push(function(){var e=(0,we.Z)(function*(t){t?(n.zr.hr(),x_(n)?S_(n):n.Wr.set("Unknown")):(yield n.zr.stop(),dD(n))});return function(t){return e.apply(this,arguments)}}())),n.zr}function Gc(n){return n.Hr||(n.Hr=function(e,t,s){const a=je(e);return a.Cr(),new uD(t,a.nr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:fN.bind(null,n),Ci:YS.bind(null,n),Vr:pN.bind(null,n),vr:KS.bind(null,n)}),n.jr.push(function(){var e=(0,we.Z)(function*(t){t?(n.Hr.hr(),yield jg(n)):(yield n.Hr.stop(),n.Ur.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Ur.length} pending writes`),n.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),n.Hr}class Y0{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,l){const p=Date.now()+s,_=new Y0(e,t,p,a,l);return _.start(s),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(n,e){if(cr("AsyncQueue",`${e}: ${n}`),pf(n))return new Oe(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class $g{constructor(e){this.comparator=e?(t,s)=>e(t,s)||tt.comparator(t.key,s.key):(t,s)=>tt.comparator(t.key,s.key),this.keyedMap=r_(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new $g(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $g)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new $g;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class QS{constructor(){this.Jr=new Un(tt.comparator)}track(e){const t=e.doc.key,s=this.Jr.get(t);s?0!==e.type&&3===s.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==s.type?this.Jr=this.Jr.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Jr=this.Jr.remove(t):1===e.type&&2===s.type?this.Jr=this.Jr.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):rt():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,s)=>{e.push(s)}),e}}class Hg{constructor(e,t,s,a,l,p,_,b){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=_,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,s,a){const l=[];return t.forEach(p=>{l.push({type:0,doc:p})}),new Hg(e,t,$g.emptySet(t),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class JS{constructor(){this.Xr=void 0,this.listeners=[]}}class gN{constructor(){this.queries=new md(e=>yI(e),bg),this.onlineState="Unknown",this.Zr=new Set}}function Q0(n,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,we.Z)(function*(n,e){const t=je(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new JS),a)try{l.Xr=yield t.onListen(s)}catch(p){const _=Bg(p,`Initialization of query '${_I(e.query)}' failed`);return void e.onError(_)}t.queries.set(s,l),l.listeners.push(e),e.eo(t.onlineState),l.Xr&&e.no(l.Xr)&&qg(t)})).apply(this,arguments)}function qc(n,e){return N_.apply(this,arguments)}function N_(){return(N_=(0,we.Z)(function*(n,e){const t=je(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function XS(n,e){const t=je(n);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const _ of p.listeners)_.no(a)&&(s=!0);p.Xr=a}}s&&qg(t)}function ex(n,e,t){const s=je(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function qg(n){n.Zr.forEach(e=>{e.next()})}class M_{constructor(e,t,s){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Hg(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Hg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class wD{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class J0{constructor(e){this.N=e}zn(e){return Uo(this.N,e)}Hn(e){return e.metadata.exists?fS(this.N,e.document,!1):Nn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return kr(e)}}class mN{constructor(e,t,s){this.lo=e,this.localStore=t,this.N=s,this.queries=[],this.documents=[],this.progress=X0(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,s=new J0(this.N);for(const a of e)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const p of a.metadata.queries){const _=(t.get(p)||Rt()).add(l);t.set(p,_)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function(n,e,t,s){return y_.apply(this,arguments)}(e.localStore,new J0(e.N),e.documents,e.lo.id),s=e.wo(e.documents);for(const a of e.queries)yield rD(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new Ma(Object.assign({},e.progress),t)})()}}function X0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class zg{constructor(e){this.key=e}}class ew{constructor(e){this.key=e}}class tx{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Rt(),this.mutatedKeys=Rt(),this.po=vI(e),this.To=new $g(this.po)}get Eo(){return this._o}Io(e,t){const s=t?t.Ao:new QS,a=t?t.To:this.To;let l=t?t.mutatedKeys:this.mutatedKeys,p=a,_=!1;const b=Yy(this.query)&&a.size===this.query.limit?a.last():null,S=wg(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((N,P)=>{const K=a.get(N),G=Cg(this.query,P)?P:null,Ee=!!K&&this.mutatedKeys.has(K.key),Ue=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let We=!1;K&&G?K.data.isEqual(G.data)?Ee!==Ue&&(s.track({type:3,doc:G}),We=!0):this.Ro(K,G)||(s.track({type:2,doc:G}),We=!0,(b&&this.po(G,b)>0||S&&this.po(G,S)<0)&&(_=!0)):!K&&G?(s.track({type:0,doc:G}),We=!0):K&&!G&&(s.track({type:1,doc:K}),We=!0,(b||S)&&(_=!0)),We&&(G?(p=p.add(G),l=Ue?l.add(N):l.delete(N)):(p=p.delete(N),l=l.delete(N)))}),Yy(this.query)||wg(this.query))for(;p.size>this.query.limit;){const N=Yy(this.query)?p.last():p.first();p=p.delete(N.key),l=l.delete(N.key),s.track({type:1,doc:N})}return{To:p,Ao:s,Ln:_,mutatedKeys:l}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const l=e.Ao.Yr();l.sort((S,N)=>function(P,K){const G=Ee=>{switch(Ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return G(P)-G(K)}(S.type,N.type)||this.po(S.doc,N.doc)),this.bo(s);const p=t?this.Po():[],_=0===this.yo.size&&this.current?1:0,b=_!==this.mo;return this.mo=_,0!==l.length||b?{snapshot:new Hg(this.query,e.To,a,l,e.mutatedKeys,0===_,b,!1),vo:p}:{vo:p}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new QS,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(t=>this._o=this._o.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Rt(),this.To.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const t=[];return e.forEach(s=>{this.yo.has(s)||t.push(new ew(s))}),this.yo.forEach(s=>{e.has(s)||t.push(new zg(s))}),t}So(e){this._o=e.Gn,this.yo=Rt();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Hg.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class yN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class _N{constructor(e){this.key=e,this.Co=!1}}class nx{constructor(e,t,s,a,l,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.No={},this.xo=new md(_=>yI(_),bg),this.ko=new Map,this.$o=new Set,this.Oo=new Un(tt.comparator),this.Fo=new Map,this.Mo=new $0,this.Lo={},this.Bo=new Map,this.Uo=pd.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function vN(n,e){return xf.apply(this,arguments)}function xf(){return(xf=(0,we.Z)(function*(n,e){const t=hw(n);let s,a;const l=t.xo.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.Do();else{const p=yield Ef(t.localStore,Mi(e)),_=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield tw(t,e,s,"current"===_),t.isPrimaryClient&&Vg(t.remoteStore,p)}return a})).apply(this,arguments)}function tw(n,e,t,s){return bD.apply(this,arguments)}function bD(){return(bD=(0,we.Z)(function*(n,e,t,s){n.Ko=(N,P,K)=>{return(G=(0,we.Z)(function*(Ee,Ue,We,pt){let Wt=Ue.view.Io(We);Wt.Ln&&(Wt=yield bf(Ee.localStore,Ue.query,!1).then(({documents:lr})=>Ue.view.Io(lr,Wt)));const bn=pt&&pt.targetChanges.get(Ue.targetId),Ft=Ue.view.applyChanges(Wt,Ee.isPrimaryClient,bn);return ow(Ee,Ue.targetId,Ft.vo),Ft.snapshot}),function(Ee,Ue,We,pt){return G.apply(this,arguments)})(n,N,P,K);var G};const a=yield bf(n.localStore,e,!0),l=new tx(e,a.Gn),p=l.Io(a.documents),_=Tg.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),b=l.applyChanges(p,n.isPrimaryClient,_);ow(n,t,b.vo);const S=new yN(e,t,l);return n.xo.set(e,S),n.ko.has(t)?n.ko.get(t).push(e):n.ko.set(t,[e]),b.snapshot})).apply(this,arguments)}function EN(n,e){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,we.Z)(function*(n,e){const t=je(n),s=t.xo.get(e),a=t.ko.get(s.targetId);if(a.length>1)return t.ko.set(s.targetId,a.filter(l=>!bg(l,e))),void t.xo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield wf(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ug(t.remoteStore,s.targetId),Rf(t,s.targetId)}).catch(gd))):(Rf(t,s.targetId),yield wf(t.localStore,s.targetId,!0))})).apply(this,arguments)}function CD(){return(CD=(0,we.Z)(function*(n,e,t){const s=MD(n);try{const a=yield function(l,p){const _=je(l),b=Pr.now(),S=p.reduce((P,K)=>P.add(K.key),Rt());let N;return _.persistence.runTransaction("Locally write mutations","readwrite",P=>_.Qn.Pn(P,S).next(K=>{N=K;const G=[];for(const Ee of p){const Ue=y0(Ee,N.get(Ee.key));null!=Ue&&G.push(new Pc(Ee.key,Ue,id(Ue.value.mapValue),Vn.exists(!0)))}return _.In.addMutationBatch(P,b,G,p)})).then(P=>(P.applyToLocalDocumentSet(N),{batchId:P.batchId,changes:N}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,p,_){let b=l.Lo[l.currentUser.toKey()];b||(b=new Un(kt)),b=b.insert(p,_),l.Lo[l.currentUser.toKey()]=b}(s,a.batchId,t),yield xu(s,a.changes),yield jg(s.remoteStore)}catch(a){const l=Bg(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function ix(n,e){return nw.apply(this,arguments)}function nw(){return(nw=(0,we.Z)(function*(n,e){const t=je(n);try{const s=yield U0(t.localStore,e);e.targetChanges.forEach((a,l)=>{const p=t.Fo.get(l);p&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Co=!0:a.modifiedDocuments.size>0?_t(p.Co):a.removedDocuments.size>0&&(_t(p.Co),p.Co=!1))}),yield xu(t,s,e)}catch(s){yield gd(s)}})).apply(this,arguments)}function sx(n,e,t){const s=je(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.xo.forEach((l,p)=>{const _=p.view.eo(e);_.snapshot&&a.push(_.snapshot)}),function(l,p){const _=je(l);_.onlineState=p;let b=!1;_.queries.forEach((S,N)=>{for(const P of N.listeners)P.eo(p)&&(b=!0)}),b&&qg(_)}(s.eventManager,e),a.length&&s.No.Er(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ID(n,e,t){return rw.apply(this,arguments)}function rw(){return(rw=(0,we.Z)(function*(n,e,t){const s=je(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Fo.get(e),l=a&&a.key;if(l){let p=new Un(tt.comparator);p=p.insert(l,Nn.newNoDocument(l,Dt.min()));const _=Rt().add(l),b=new rf(Dt.min(),new Map,new qt(kt),p,_);yield ix(s,b),s.Oo=s.Oo.remove(l),s.Fo.delete(e),uw(s)}else yield wf(s.localStore,e,!1).then(()=>Rf(s,e,t)).catch(gd)})).apply(this,arguments)}function wN(n,e){return DD.apply(this,arguments)}function DD(){return(DD=(0,we.Z)(function*(n,e){const t=je(n),s=e.batch.batchId;try{const a=yield XI(t.localStore,e);Zg(t,s,null),sw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield xu(t,a)}catch(a){yield gd(a)}})).apply(this,arguments)}function ox(n,e,t){return vd.apply(this,arguments)}function vd(){return(vd=(0,we.Z)(function*(n,e,t){const s=je(n);try{const a=yield function(l,p){const _=je(l);return _.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let S;return _.In.lookupMutationBatch(b,p).next(N=>(_t(null!==N),S=N.keys(),_.In.removeMutationBatch(b,N))).next(()=>_.In.performConsistencyCheck(b)).next(()=>_.Qn.Pn(b,S))})}(s.localStore,e);Zg(s,e,t),sw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield xu(s,a)}catch(a){yield gd(a)}})).apply(this,arguments)}function iw(){return(iw=(0,we.Z)(function*(n,e){const t=je(n);Hc(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const p=je(l);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>p.In.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Bo.get(s)||[];a.push(e),t.Bo.set(s,a)}catch(s){const a=Bg(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function sw(n,e){(n.Bo.get(e)||[]).forEach(t=>{t.resolve()}),n.Bo.delete(e)}function Zg(n,e,t){const s=je(n);let a=s.Lo[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Lo[s.currentUser.toKey()]=a}}function Rf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.ko.get(e))n.xo.delete(s),t&&n.No.jo(s,t);n.ko.delete(e),n.isPrimaryClient&&n.Mo.cs(e).forEach(s=>{n.Mo.containsKey(s)||ns(n,s)})}function ns(n,e){n.$o.delete(e.path.canonicalString());const t=n.Oo.get(e);null!==t&&(Ug(n.remoteStore,t),n.Oo=n.Oo.remove(e),n.Fo.delete(t),uw(n))}function ow(n,e,t){for(const s of t)s instanceof zg?(n.Mo.addReference(s.key,e),aw(n,s)):s instanceof ew?(Ve("SyncEngine","Document no longer in limbo: "+s.key),n.Mo.removeReference(s.key,e),n.Mo.containsKey(s.key)||ns(n,s.key)):rt()}function aw(n,e){const t=e.key,s=t.path.canonicalString();n.Oo.get(t)||n.$o.has(s)||(Ve("SyncEngine","New document in limbo: "+t),n.$o.add(s),uw(n))}function uw(n){for(;n.$o.size>0&&n.Oo.size<n.maxConcurrentLimboResolutions;){const e=n.$o.values().next().value;n.$o.delete(e);const t=new tt(Qt.fromString(e)),s=n.Uo.next();n.Fo.set(s,new _N(t)),n.Oo=n.Oo.insert(t,s),Vg(n.remoteStore,new Tu(Mi(Jh(t.path)),s,2,Ki.T))}}function xu(n,e,t){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,we.Z)(function*(n,e,t){const s=je(n),a=[],l=[],p=[];var _;s.xo.isEmpty()||(s.xo.forEach((_,b)=>{p.push(s.Ko(b,e,t).then(S=>{if(S){s.isPrimaryClient&&s.sharedClientState.updateQueryState(b.targetId,S.fromCache?"not-current":"current"),a.push(S);const N=vf.kn(b.targetId,S);l.push(N)}}))}),yield Promise.all(p),s.No.Er(a),yield(_=(0,we.Z)(function*(b,S){const N=je(b);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Ne.forEach(S,K=>Ne.forEach(K.Nn,G=>N.persistence.referenceDelegate.addReference(P,K.targetId,G)).next(()=>Ne.forEach(K.xn,G=>N.persistence.referenceDelegate.removeReference(P,K.targetId,G)))))}catch(P){if(!pf(P))throw P;Ve("LocalStore","Failed to update sequence numbers: "+P)}for(const P of S){const K=P.targetId;if(!P.fromCache){const G=N.Un.get(K),Ue=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);N.Un=N.Un.insert(K,Ue)}}}),function(b,S){return _.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function TD(n,e){return O_.apply(this,arguments)}function O_(){return(O_=(0,we.Z)(function*(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const s=yield f_(t.localStore,e);t.currentUser=e,(a=t).Bo.forEach(p=>{p.forEach(_=>{_.reject(new Oe(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Bo.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield xu(t,s.Wn)}var a})).apply(this,arguments)}function ux(n,e){const t=je(n),s=t.Fo.get(e);if(s&&s.Co)return Rt().add(s.key);{let a=Rt();const l=t.ko.get(e);if(!l)return a;for(const p of l){const _=t.xo.get(p);a=a.unionWith(_.view.Eo)}return a}}function AD(n,e){return P_.apply(this,arguments)}function P_(){return(P_=(0,we.Z)(function*(n,e){const t=je(n),s=yield bf(t.localStore,e.query,!0),a=e.view.So(s);return t.isPrimaryClient&&ow(t,e.targetId,a.vo),a})).apply(this,arguments)}function cx(n){return cw.apply(this,arguments)}function cw(){return(cw=(0,we.Z)(function*(n){const e=je(n);return tD(e.localStore).then(t=>xu(e,t))})).apply(this,arguments)}function lw(n,e,t,s){return k_.apply(this,arguments)}function k_(){return(k_=(0,we.Z)(function*(n,e,t,s){const a=je(n),l=yield function(p,_){const b=je(p),S=je(b.In);return b.persistence.runTransaction("Lookup mutation documents","readonly",N=>S.Xt(N,_).next(P=>P?b.Qn.Pn(N,P):Ne.resolve(null)))}(a.localStore,e);var _;null!==l?("pending"===t?yield jg(a.remoteStore):"acknowledged"===t||"rejected"===t?(Zg(a,e,s||null),sw(a,e),_=e,je(je(a.localStore).In).te(_)):rt(),yield xu(a,l)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Yg(){return(Yg=(0,we.Z)(function*(n,e){const t=je(n);if(hw(t),MD(t),!0===e&&!0!==t.qo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield xD(t,s.toArray());t.qo=!0,yield vD(t.remoteStore,!0);for(const l of a)Vg(t.remoteStore,l)}else if(!1===e&&!1!==t.qo){const s=[];let a=Promise.resolve();t.ko.forEach((l,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(Rf(t,p),wf(t.localStore,p,!0))),Ug(t.remoteStore,p)}),yield a,yield xD(t,s),function(l){const p=je(l);p.Fo.forEach((_,b)=>{Ug(p.remoteStore,b)}),p.Mo.us(),p.Fo=new Map,p.Oo=new Un(tt.comparator)}(t),t.qo=!1,yield vD(t.remoteStore,!1)}})).apply(this,arguments)}function xD(n,e,t){return Is.apply(this,arguments)}function Is(){return(Is=(0,we.Z)(function*(n,e,t){const s=je(n),a=[],l=[];for(const p of e){let _;const b=s.ko.get(p);if(b&&0!==b.length){_=yield Ef(s.localStore,Mi(b[0]));for(const S of b){const N=s.xo.get(S),P=yield AD(s,N);P.snapshot&&l.push(P.snapshot)}}else{const S=yield j0(s.localStore,p);_=yield Ef(s.localStore,S),yield tw(s,RD(S),p,!1)}a.push(_)}return s.No.Er(l),a})).apply(this,arguments)}function RD(n){return p0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bN(n){const e=je(n);return je(je(e.localStore).persistence).pn()}function lx(n,e,t,s){return ND.apply(this,arguments)}function ND(){return(ND=(0,we.Z)(function*(n,e,t,s){const a=je(n);if(a.qo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(a.ko.has(e))switch(t){case"current":case"not-current":{const l=yield tD(a.localStore),p=rf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield xu(a,l,p);break}case"rejected":yield wf(a.localStore,e,!0),Rf(a,e,s);break;default:rt()}})).apply(this,arguments)}function dx(n,e,t){return dw.apply(this,arguments)}function dw(){return(dw=(0,we.Z)(function*(n,e,t){const s=hw(n);if(s.qo){for(const a of e){if(s.ko.has(a)){Ve("SyncEngine","Adding an already active target "+a);continue}const l=yield j0(s.localStore,a),p=yield Ef(s.localStore,l);yield tw(s,RD(l),p.targetId,!1),Vg(s.remoteStore,p)}for(const a of t)s.ko.has(a)&&(yield wf(s.localStore,a,!1).then(()=>{Ug(s.remoteStore,a),Rf(s,a)}).catch(gd))}})).apply(this,arguments)}function hw(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ux.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ID.bind(null,e),e.No.Er=XS.bind(null,e.eventManager),e.No.jo=ex.bind(null,e.eventManager),e}function MD(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ox.bind(null,e),e}class fw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.N=_d(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return LS(this.persistence,new JI,e.initialUser,this.N)}Go(e){return new aN(H0.Ns,this.N)}Wo(e){return new C_}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class OD extends fw{constructor(e,t,s){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,we.Z)(function*(){yield t().call(s,e),yield function(n){return m_.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,e),yield MD(s.Jo.syncEngine),yield jg(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(e){return LS(this.persistence,new JI,e.initialUser,this.N)}zo(e){return new OS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Og(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new yd(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,q0(),D_(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new C_}}class fx extends OD{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,we.Z)(function*(){yield t().call(s,e);const a=s.Jo.syncEngine;s.sharedClientState instanceof Df&&(s.sharedClientState.syncEngine={_i:lw.bind(null,a),mi:lx.bind(null,a),gi:dx.bind(null,a),pn:bN.bind(null,a),wi:cx.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,we.Z)(function*(p){yield function(n,e){return Yg.apply(this,arguments)}(s.Jo.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):p||s.gcScheduler.stop())});return function(p){return l.apply(this,arguments)}}())})()}Wo(e){const t=q0();if(!Df.bt(t))throw new Oe(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Og(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Df(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class F_{initialize(e,t){var s=this;return(0,we.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>sx(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=TD.bind(null,s.syncEngine),yield vD(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gN}createDatastore(e){const t=_d(e.databaseInfo.databaseId),s=new I_(e.databaseInfo);return new cD(e.credentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=_=>sx(this.syncEngine,_,0),p=G0.bt()?new G0:new uN,new GS(t,s,a,l,p);var t,s,a,l,p}createSyncEngine(e,t){return function(s,a,l,p,_,b,S){const N=new nx(s,a,l,p,_,b);return S&&(N.qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const s=je(t);Ve("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Af(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function PD(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class pw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kD{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Or,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,we.Z)(function*(){const t=yield e.na();if(null===t)return null;const s=e.ta.decode(t),a=Number(s);isNaN(a)&&e.sa(`length string (${s}) is not valid number`);const l=yield e.ia(a);return new wD(JSON.parse(l),t.length+a)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,we.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ia(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const s=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,we.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class FD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,we.Z)(function*(l,p){const _=je(l),b=dd(_.N)+"/documents",S={documents:p.map(G=>cf(_.N,G))},N=yield _.Ki("BatchGetDocuments",b,S),P=new Map;N.forEach(G=>{const Ee=function(n,e){return"found"in e?function(t,s){_t(!!s.found);const a=Uo(t,s.found.name),l=kr(s.found.updateTime),p=new mi({mapValue:{fields:s.found.fields}});return Nn.newFoundDocument(a,l,p)}(n,e):"missing"in e?function(t,s){_t(!!s.missing),_t(!!s.readTime);const a=Uo(t,s.missing),l=kr(s.readTime);return Nn.newNoDocument(a,l)}(n,e):rt()}(_.N,G);P.set(Ee.key.toString(),Ee)});const K=[];return p.forEach(G=>{const Ee=P.get(G.toString());_t(!!Ee),K.push(Ee)}),K}),function(l,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new kc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=tt.fromPath(a);e.mutations.push(new nf(l,e.precondition(l)))}),yield(s=(0,we.Z)(function*(a,l){const p=je(a),_=dd(p.N)+"/documents",b={writes:l.map(S=>Lc(p.N,S))};yield p.Li("Commit",_,b)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Dt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Oe(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Vn.updateTime(t):Vn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Oe(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vn.updateTime(t)}return Vn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class px{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.aa=5,this.rr=new Lg(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,we.Z)(function*(){const t=new FD(e.datastore),s=e.ua(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.ha(l)}))}).catch(a=>{e.ha(a)})}))}ua(e){try{const t=this.updateFunction(e);return!wu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Iu(t)}return!1}}class gx{constructor(e,t,s){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=s,this.user=Zr.UNAUTHENTICATED,this.clientId=iI.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,we.Z)(function*(p){Ve("FirestoreClient","Received user=",p.uid),yield a.credentialListener(p),a.user=p});return function(p){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(s){const a=Bg(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function gw(n,e){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,we.Z)(function*(l){s.isEqual(l)||(yield f_(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function L_(n,e){return V_.apply(this,arguments)}function V_(){return(V_=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield mw(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(l=(0,we.Z)(function*(p,_){const b=je(p);b.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const S=Hc(b);b.Kr.add(3),yield Af(b),S&&b.Wr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(_),b.Kr.delete(3),yield Tf(b)}),function(p,_){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function mw(n){return yw.apply(this,arguments)}function yw(){return(yw=(0,we.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield gw(n,new fw)),n.offlineComponents})).apply(this,arguments)}function _w(n){return LD.apply(this,arguments)}function LD(){return(LD=(0,we.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield L_(n,new F_)),n.onlineComponents})).apply(this,arguments)}function mx(n){return mw(n).then(e=>e.persistence)}function U_(n){return mw(n).then(e=>e.localStore)}function vw(n){return _w(n).then(e=>e.remoteStore)}function Ew(n){return _w(n).then(e=>e.syncEngine)}function Nf(n){return ww.apply(this,arguments)}function ww(){return(ww=(0,we.Z)(function*(n){const e=yield _w(n),t=e.eventManager;return t.onListen=vN.bind(null,e.syncEngine),t.onUnlisten=EN.bind(null,e.syncEngine),t})).apply(this,arguments)}function _x(n,e,t={}){const s=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(a,l,p,_,b){const S=new pw({next:P=>{l.enqueueAndForget(()=>qc(a,N));const K=P.docs.has(p);!K&&P.fromCache?b.reject(new Oe(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&P.fromCache&&_&&"server"===_.source?b.reject(new Oe(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(P)},error:P=>b.reject(P)}),N=new M_(Jh(p.path),S,{includeMetadataChanges:!0,uo:!0});return Q0(a,N)}(yield Nf(n),n.asyncQueue,e,t,s)})),s.promise}function j_(n,e,t={}){const s=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(a,l,p,_,b){const S=new pw({next:P=>{l.enqueueAndForget(()=>qc(a,N)),P.fromCache&&"server"===_.source?b.reject(new Oe(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(P)},error:P=>b.reject(P)}),N=new M_(p,S,{includeMetadataChanges:!0,uo:!0});return Q0(a,N)}(yield Nf(n),n.asyncQueue,e,t,s)})),s.promise}class Ex{constructor(e,t,s,a,l,p,_,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=_,this.useFetchStreams=b}}class Ru{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}const BD=new Map;function bw(n,e,t){if(!t)throw new Oe(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Cw(n,e,t,s){if(!0===e&&!0===s)throw new Oe(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zc(n){if(!tt.isDocumentKey(n))throw new Oe(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Iw(n){if(tt.isDocumentKey(n))throw new Oe(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mf(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function Vt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mf(n);throw new Oe(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $D(n,e){if(e<=0)throw new Oe(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Qg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Cw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jg{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qg({}),this._settingsFrozen=!1,e instanceof Ru?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Oe(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(s.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qg(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new KA;switch(t.type){case"gapi":const s=t.client;return _t(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new QA(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(ye.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=BD.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),BD.delete(e),t.terminate())}(this),Promise.resolve()}}class wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class zt{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zt(this.firestore,e,this._query)}}class Nu extends zt{constructor(e,t,s){super(e,t,Jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new tt(e))}withConverter(e){return new Nu(this.firestore,e,this._path)}}function HD(n,e,...t){if(n=(0,Tt.m9)(n),bw("collection","path",e),n instanceof Jg){const s=Qt.fromString(e,...t);return Iw(s),new Nu(n,null,s)}{if(!(n instanceof wn||n instanceof Nu))throw new Oe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Qt.fromString(e,...t));return Iw(s),new Nu(n.firestore,null,s)}}function Tw(n,e,...t){if(n=(0,Tt.m9)(n),1===arguments.length&&(e=iI.I()),bw("doc","path",e),n instanceof Jg){const s=Qt.fromString(e,...t);return zc(s),new wn(n,null,new tt(s))}{if(!(n instanceof wn||n instanceof Nu))throw new Oe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Qt.fromString(e,...t));return zc(s),new wn(n.firestore,n instanceof Nu?n.converter:null,new tt(s))}}function Xg(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),(n instanceof wn||n instanceof Nu)&&(e instanceof wn||e instanceof Nu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function GD(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),n instanceof zt&&e instanceof zt&&n.firestore===e.firestore&&bg(n._query,e._query)&&n.converter===e.converter}class DN{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Lg(this,"async_queue_retry"),this.Ta=()=>{const t=D_();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const e=D_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=D_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new Or;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,we.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!pf(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(s=>{throw this.ma=s,this.ga=!1,cr("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=t,t}enqueueAfterDelay(e,t,s){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const a=Y0.createAndSchedule(this,e,t,s,l=>this.Ra(l));return this._a.push(a),a}Ea(){this.ma&&rt()}verifyOperationInProgress(){}ba(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function qD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class TN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gn extends Jg{constructor(e,t){super(e,t),this.type="firestore",this._queue=new DN,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Cx(this),this._firestoreClient.terminate()}}function Dr(n){return n._firestoreClient||Cx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Cx(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ex(n._databaseId,l,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var l,_;n._firestoreClient=new gx(n._credentials,n._queue,s)}function zD(n,e,t){const s=new Or;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield gw(n,t),yield L_(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===ye.FAILED_PRECONDITION||l.code===ye.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function Xs(n){if(n._initialized||n._terminated)throw new Oe(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(Cr.fromBase64String(e))}catch(t){throw new Oe(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wd{constructor(e){this._methodName=e}}class Aw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}const Rx=/^__.*__$/;class Nx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dg(e,this.data,t,this.fieldTransforms)}}class WD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Of(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class em{constructor(e,t,s,a,l,p){this.settings=e,this.databaseId=t,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.Sa(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new em(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.ka(e),a}$a(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Ca({path:s,xa:!1});return a.Sa(),a}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return nm(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Of(this.Da)&&Rx.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class ON{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=s||_d(e)}Ba(e,t,s,a=!1){return new em({Da:e,methodName:t,La:s,path:Kr.emptyPath(),xa:!1,Ma:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function bd(n){const e=n._freezeSettings(),t=_d(n._databaseId);return new ON(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sw(n,e,t,s,a,l={}){const p=n.Ba(l.merge||l.mergeFields?2:0,e,t,a);$_("Data must be an object, but it was:",p,s);const _=eo(s,p);let b,S;if(l.merge)b=new Zh(p.fieldMask),S=p.fieldTransforms;else if(l.mergeFields){const N=[];for(const P of l.mergeFields){const K=Rw(e,P,t);if(!p.contains(K))throw new Oe(ye.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);G_(N,K)||N.push(K)}b=new Zh(N),S=p.fieldTransforms.filter(P=>b.covers(P.field))}else b=null,S=p.fieldTransforms;return new Nx(new mi(_),b,S)}class B_ extends wd{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof B_}}function Mx(n,e,t){return new em({Da:3,La:e.settings.La,methodName:n._methodName,xa:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class tm extends wd{_toFieldTransform(e){return new Ig(e.path,new tf)}isEqual(e){return e instanceof tm}}class Ox extends wd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Mx(this,e,!0),s=this.Ua.map(l=>Cd(l,t)),a=new Lo(s);return new Ig(e.path,a)}isEqual(e){return this===e}}class Px extends wd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Mx(this,e,!0),s=this.Ua.map(l=>Cd(l,t)),a=new od(s);return new Ig(e.path,a)}isEqual(e){return this===e}}class kx extends wd{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Cu(e.N,bI(e.N,this.qa));return new Ig(e.path,t)}isEqual(e){return this===e}}function ZD(n,e,t,s){const a=n.Ba(1,e,t);$_("Data must be an object, but it was:",a,s);const l=[],p=mi.empty();Xl(s,(b,S)=>{const N=H_(e,b,t);S=(0,Tt.m9)(S);const P=a.$a(N);if(S instanceof B_)l.push(N);else{const K=Cd(S,P);null!=K&&(l.push(N),p.set(N,K))}});const _=new Zh(l);return new WD(p,_,a.fieldTransforms)}function xw(n,e,t,s,a,l){const p=n.Ba(1,e,t),_=[Rw(e,s,t)],b=[a];if(l.length%2!=0)throw new Oe(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let K=0;K<l.length;K+=2)_.push(Rw(e,l[K])),b.push(l[K+1]);const S=[],N=mi.empty();for(let K=_.length-1;K>=0;--K)if(!G_(S,_[K])){const G=_[K];let Ee=b[K];Ee=(0,Tt.m9)(Ee);const Ue=p.$a(G);if(Ee instanceof B_)S.push(G);else{const We=Cd(Ee,Ue);null!=We&&(S.push(G),N.set(G,We))}}const P=new Zh(S);return new WD(N,P,p.fieldTransforms)}function KD(n,e,t,s=!1){return Cd(t,n.Ba(s?4:3,e))}function Cd(n,e){if(Fx(n=(0,Tt.m9)(n)))return $_("Unsupported field value:",e,n),eo(n,e);if(n instanceof wd)return function(t,s){if(!Of(s.Da))throw s.Fa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const p of t){let _=Cd(p,s.Oa(l));null==_&&(_={nullValue:"NULL_VALUE"}),a.push(_),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,Tt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bI(s.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Pr.fromDate(t);return{timestampValue:ld(s.N,a)}}if(t instanceof Pr){const a=new Pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ld(s.N,a)}}if(t instanceof Aw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oa)return{bytesValue:I0(s.N,t._byteString)};if(t instanceof wn){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.Fa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:uf(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.Fa(`Unsupported field value: ${Mf(t)}`)}(n,e)}function eo(n,e){const t={};return oI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xl(n,(s,a)=>{const l=Cd(a,e.Na(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function Fx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pr||n instanceof Aw||n instanceof Oa||n instanceof wn||n instanceof wd)}function $_(n,e,t){if(!Fx(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Mf(t);throw e.Fa("an object"===s?n+" a custom object":n+" "+s)}var s}function Rw(n,e,t){if((e=(0,Tt.m9)(e))instanceof Mu)return e._internalPath;if("string"==typeof e)return H_(n,e);throw nm("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const YD=new RegExp("[~\\*/\\[\\]]");function H_(n,e,t){if(e.search(YD)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mu(...e.split("."))._internalPath}catch(s){throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nm(n,e,t,s,a){const l=s&&!s.isEmpty(),p=void 0!==a;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let b="";return(l||p)&&(b+=" (found",l&&(b+=` in field ${s}`),p&&(b+=` in document ${a}`),b+=")"),new Oe(ye.INVALID_ARGUMENT,_+n+b)}function G_(n,e){return n.some(t=>t.isEqual(e))}class Id{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Nw extends Id{data(){return super.data()}}function Dd(n,e){return"string"==typeof e?H_(n,e):e instanceof Mu?e._internalPath:e._delegate._internalPath}class Pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ka extends Id{constructor(e,t,s,a,l,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Dd("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Pf extends ka{data(e={}){return super.data(e)}}class Wc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Pa(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Pf(this._firestore,this._userDataWriter,s.key,s,new Pa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new Pf(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Pa(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const _=new Pf(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Pa(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let b=-1,S=-1;return 0!==p.type&&(b=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),S=l.indexOf(p.doc.key)),{type:Lx(p.type),doc:_,oldIndex:b,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Lx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function Mw(n,e){return n instanceof ka&&e instanceof ka?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wc&&e instanceof Wc&&n._firestore===e._firestore&&GD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function QD(n){if(wg(n)&&0===n.explicitOrderBy.length)throw new Oe(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rm{}function Zc(n,...e){for(const t of e)n=t._apply(n);return n}class Ow extends rm{constructor(e,t,s){super(),this.Ka=e,this.ja=t,this.Qa=s,this.type="where"}_apply(e){const t=bd(e.firestore),s=function(a,l,p,_,b,S,N){let P;if(b.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Oe(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){nT(N,S);const G=[];for(const Ee of N)G.push(Pw(_,a,Ee));P={arrayValue:{values:G}}}else P=Pw(_,a,N)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||nT(N,S),P=KD(p,"where",N,"in"===S||"not-in"===S);const K=Ni.create(b,S,P);return function(G,Ee){if(Ee.v()){const We=g0(G);if(null!==We&&!We.isEqual(Ee.field))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${We.toString()}' and '${Ee.field.toString()}'`);const pt=Xh(G);null!==pt&&rT(0,Ee.field,pt)}const Ue=function(We,pt){for(const Wt of We.filters)if(pt.indexOf(Wt.op)>=0)return Wt.op;return null}(G,function(We){switch(We){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ee.op));if(null!==Ue)throw new Oe(ye.INVALID_ARGUMENT,Ue===Ee.op?`Invalid query. You cannot use more than one '${Ee.op.toString()}' filter.`:`Invalid query. You cannot use '${Ee.op.toString()}' filters with '${Ue.toString()}' filters.`)}(a,K),K}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new zt(e.firestore,e.converter,function(a,l){const p=a.filters.concat([l]);return new Na(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class Pi extends rm{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Oe(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Oe(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Qh(a,l);return function(_,b){if(null===Xh(_)){const S=g0(_);null!==S&&rT(0,S,b.field)}}(s,p),p}(e._query,this.Ka,this.Wa);return new zt(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Na(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class sm extends rm{constructor(e,t,s){super(),this.type=e,this.Ga=t,this.za=s}_apply(e){return new zt(e.firestore,e.converter,ef(e._query,this.Ga,this.za))}}class z_ extends rm{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=tT(e,this.type,this.Ha,this.Ja);return new zt(e.firestore,e.converter,(a=t,new Na((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class eT extends rm{constructor(e,t,s){super(),this.type=e,this.Ha=t,this.Ja=s}_apply(e){const t=tT(e,this.type,this.Ha,this.Ja);return new zt(e.firestore,e.converter,(a=t,new Na((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function tT(n,e,t,s){if(t[0]=(0,Tt.m9)(t[0]),t[0]instanceof Id)return function(a,l,p,_,b){if(!_)throw new Oe(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const S=[];for(const N of bu(a))if(N.field.isKeyField())S.push(vg(l,_.key));else{const P=_.data.field(N.field);if(a0(P))throw new Oe(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const K=N.field.canonicalString();throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${K}' (used as the orderBy) does not exist.`)}S.push(P)}return new Eg(S,b)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=bd(n.firestore);return function(l,p,_,b,S,N){const P=l.explicitOrderBy;if(S.length>P.length)throw new Oe(ye.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const K=[];for(let G=0;G<S.length;G++){const Ee=S[G];if(P[G].field.isKeyField()){if("string"!=typeof Ee)throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof Ee}`);if(!Qy(l)&&-1!==Ee.indexOf("/"))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${Ee}' contains a slash.`);const Ue=l.path.child(Qt.fromString(Ee));if(!tt.isDocumentKey(Ue))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${Ue}' is not because it contains an odd number of segments.`);const We=new tt(Ue);K.push(vg(p,We))}else{const Ue=KD(_,b,Ee);K.push(Ue)}}return new Eg(K,N)}(n._query,n.firestore._databaseId,a,e,t,s)}}function Pw(n,e,t){if("string"==typeof(t=(0,Tt.m9)(t))){if(""===t)throw new Oe(ye.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qy(e)&&-1!==t.indexOf("/"))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Qt.fromString(t));if(!tt.isDocumentKey(s))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vg(n,new tt(s))}if(t instanceof wn)return vg(n,t._key);throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mf(t)}.`)}function nT(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function rT(n,e,t){if(!t.isEqual(e))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class kw{convertValue(e,t="none"){switch(td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const s={};return Xl(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Aw(tr(e.latitude),tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=uI(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ed(e));default:return null}}convertTimestamp(e){const t=Nc(e);return new Pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Qt.fromString(e);_t(o_(s));const a=new Ru(s.get(1),s.get(3)),l=new tt(s.popFirst(5));return a.isEqual(t)||cr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Go(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class om extends kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}class Z_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bd(e)}set(e,t,s){this._verifyNotCommitted();const a=Kc(e,this._firestore),l=Go(a.converter,t,s),p=Sw(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,Vn.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=Kc(e,this._firestore);let p;return p="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Mu?xw(this._dataReader,"WriteBatch.update",l._key,t,s,a):ZD(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(p.toMutation(l._key,Vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kc(e,this._firestore);return this._mutations=this._mutations.concat(new kc(t._key,Vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kc(n,e){if((n=(0,Tt.m9)(n)).firestore!==e)throw new Oe(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Td extends kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function oT(n,e,t){n=Vt(n,wn);const s=Vt(n.firestore,Gn),a=Go(n.converter,e,t);return qo(s,[Sw(bd(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Vn.none())])}function aT(n,e,t,...s){n=Vt(n,wn);const a=Vt(n.firestore,Gn),l=bd(a);let p;return p="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Mu?xw(l,"updateDoc",n._key,e,t,s):ZD(l,"updateDoc",n._key,e),qo(a,[p.toMutation(n._key,Vn.exists(!0))])}function Ad(n,...e){var t,s,a;n=(0,Tt.m9)(n);let l={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||qD(e[p])||(l=e[p],p++);const _={includeMetadataChanges:l.includeMetadataChanges};if(qD(e[p])){const P=e[p];e[p]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[p+1]=null===(s=P.error)||void 0===s?void 0:s.bind(P),e[p+2]=null===(a=P.complete)||void 0===a?void 0:a.bind(P)}let b,S,N;if(n instanceof wn)S=Vt(n.firestore,Gn),N=Jh(n._key.path),b={next:P=>{e[p]&&e[p](Lw(S,n,P))},error:e[p+1],complete:e[p+2]};else{const P=Vt(n,zt);S=Vt(P.firestore,Gn),N=P._query;const K=new Td(S);b={next:G=>{e[p]&&e[p](new Wc(S,K,P,G))},error:e[p+1],complete:e[p+2]},QD(n._query)}return function(P,K,G,Ee){const Ue=new pw(Ee),We=new M_(K,Ue,G);return P.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Q0(yield Nf(P),We)})),()=>{Ue.Xo(),P.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return qc(yield Nf(P),We)}))}}(Dr(S),N,_,b)}function qo(n,e){return function(t,s){const a=new Or;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(n,e,t){return CD.apply(this,arguments)}(yield Ew(t),s,a)})),a.promise}(Dr(n),e)}function Lw(n,e,t){const s=t.docs.get(e._key),a=new Td(n);return new ka(n,a,e._key,s,new Pa(t.hasPendingWrites,t.fromCache),e.converter)}class Gx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bd(e)}get(e){const t=Kc(e,this._firestore),s=new om(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return rt();const l=a[0];if(l.isFoundDocument())return new Id(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new Id(this._firestore,s,t._key,null,t.converter);throw rt()})}set(e,t,s){const a=Kc(e,this._firestore),l=Go(a.converter,t,s),p=Sw(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const l=Kc(e,this._firestore);let p;return p="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Mu?xw(this._dataReader,"Transaction.update",l._key,t,s,a):ZD(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,p),this}delete(e){const t=Kc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kc(e,this._firestore),s=new Td(this._firestore);return super.get(e).then(a=>new ka(this._firestore,s,t._key,a._document,new Pa(!1,!1),t.converter))}}function um(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function fT(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function pT(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(n){zh=n})(gu.SDK_VERSION),(0,gu._registerComponent)(new mu.wA("firestore",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),s=new Gn(t,new YA(n.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),s._setSettings(e),s},"PUBLIC")),(0,gu.registerVersion)(pg,"3.1.1",void 0),(0,gu.registerVersion)(pg,"3.1.1","esm2017");class Y_{constructor(e){this._delegate=e}static fromBase64String(e){return pT(),new Y_(Oa.fromBase64String(e))}static fromUint8Array(e){return fT(),new Y_(Oa.fromUint8Array(e))}toBase64(){return pT(),this._delegate.toBase64()}toUint8Array(){return fT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gT(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class FN{enableIndexedDbPersistence(e,t){return function(n,e){Xs(n=Vt(n,Gn));const t=Dr(n),s=n._freezeSettings(),a=new F_;return zD(t,a,new OD(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){Xs(n=Vt(n,Gn));const e=Dr(n),t=n._freezeSettings(),s=new F_;return zD(e,s,new fx(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Oe(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(s){if(!Ho.bt())return Promise.resolve();const a=s+"main";yield Ho.delete(a)}),function(s){return t.apply(this,arguments)})(Og(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class mT{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ru||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const l=(n=Vt(n,Jg))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&gg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,_;if("string"==typeof s.mockUserToken)p=s.mockUserToken,_=Zr.MOCK_USER;else{p=(0,Tt.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new Oe(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Zr(b)}n._credentials=new nI(new s0(p,_))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield mx(n),t=yield vw(n);return e.setNetworkEnabled(!0),function(s){const a=je(s);return a.Kr.delete(0),Tf(a)}(t)}))}(Dr(n=Vt(n,Gn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield mx(n),t=yield vw(n);return e.setNetworkEnabled(!1),(s=(0,we.Z)(function*(a){const l=je(a);l.Kr.add(0),yield Af(l),l.Wr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(Dr(n=Vt(n,Gn)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Cw("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Or;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(n,e){return iw.apply(this,arguments)}(yield Ew(e),t)})),t.promise}(Dr(n=Vt(n,Gn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new pw(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return s=yield Nf(n),a=t,je(s).Zr.add(a),void a.next();var s,a})),()=>{t.Xo(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return s=yield Nf(n),a=t,void je(s).Zr.delete(a);var s,a}))}}(Dr(n=Vt(n,Gn)),qD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new c(this,HD(this._delegate,e))}catch(t){throw rs(t,"collection()","Firestore.collection()")}}doc(e){try{return new to(this,Tw(this._delegate,e))}catch(t){throw rs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new i(this,function(n,e){if(n=Vt(n,Jg),bw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zt(n,null,(t=e,new Na(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw rs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const s=yield(a=n,_w(a).then(l=>l.datastore));var a;new px(n.asyncQueue,s,e,t).run()})),t.promise}(Dr(n),t=>e(new Gx(n,t)))}(this._delegate,t=>e(new Wx(this,t)))}batch(){return Dr(this._delegate),new Zx(new Z_(this._delegate,e=>qo(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Dr(n=Vt(n,Gn)),s=new TN;return function(n,e,t,s){const a=function(l,p){let _;return _="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,S){if(b instanceof Uint8Array)return PD(b,S);if(b instanceof ArrayBuffer)return PD(new Uint8Array(b),S);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new kD(b,p);var b}(t,_d(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function(n,e,t){const s=je(n);var a;(a=(0,we.Z)(function*(l,p,_){try{const b=yield p.getMetadata();if(yield function(K,G){const Ee=je(K),Ue=kr(G.createTime);return Ee.persistence.runTransaction("hasNewerBundle","readonly",We=>Ee.Je.getBundleMetadata(We,G.id)).then(We=>!!We&&We.createTime.compareTo(Ue)>=0)}(l.localStore,b))return yield p.close(),void _._completeWith((K=b,{taskState:"Success",documentsLoaded:K.totalDocuments,bytesLoaded:K.totalBytes,totalDocuments:K.totalDocuments,totalBytes:K.totalBytes}));_._updateProgress(X0(b));const S=new mN(b,l.localStore,p.N);let N=yield p.Qo();for(;N;){const K=yield S.fo(N);K&&_._updateProgress(K),N=yield p.Qo()}const P=yield S.complete();yield xu(l,P.En,void 0),yield function(K,G){const Ee=je(K);return Ee.persistence.runTransaction("Save bundle","readwrite",Ue=>Ee.Je.saveBundleMetadata(Ue,G))}(l.localStore,b),_._completeWith(P.progress)}catch(b){gg("SyncEngine",`Loading bundle failed with ${b}`),_._failWith(b)}var K}),function(l,p,_){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Ew(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,s){const a=je(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield U_(n),e)}))}(Dr(n=Vt(n,Gn)),e).then(t=>t?new zt(n,null,t.query):null)}(this._delegate,e).then(t=>t?new i(this,t):null)}}class Q_ extends kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Y_(new Oa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return to.forKey(t,this.firestore,null)}}class Wx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Q_(e)}get(e){const t=d(e);return this._delegate.get(t).then(s=>new J_(this._firestore,new ka(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=d(e);return s?(um("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=d(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=d(e);return this._delegate.delete(t),this}}class Zx{constructor(e){this._delegate=e}set(e,t,s){const a=d(e);return s?(um("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=d(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=d(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kf{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Pf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new r(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=kf.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new kf(e,new Q_(e),t),a.set(t,l)),l}}kf.INSTANCES=new WeakMap;class to{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Q_(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new to(t,new wn(t._delegate,s,new tt(e)))}static forKey(e,t,s){return new to(t,new wn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new c(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new c(this.firestore,HD(this._delegate,e))}catch(t){throw rs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Tt.m9)(e))instanceof wn&&Xg(this._delegate,e)}set(e,t){t=um("DocumentReference.set",t);try{return t?oT(this._delegate,e,t):oT(this._delegate,e)}catch(s){throw rs(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?aT(this._delegate,e):aT(this._delegate,e,t,...s)}catch(a){throw rs(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return qo(Vt(n.firestore,Gn),[new kc(n._key,Vn.none())])}(this._delegate)}onSnapshot(...e){const t=Kx(e),s=Yx(e,a=>new J_(this.firestore,new ka(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Ad(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Vt(n,wn);const e=Vt(n.firestore,Gn),t=Dr(e),s=new Td(e);return function(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(s=(0,we.Z)(function*(a,l,p){try{const _=yield function(b,S){const N=je(b);return N.persistence.runTransaction("read document","readonly",P=>N.Qn.An(P,S))}(a,l);_.isFoundDocument()?p.resolve(_):_.isNoDocument()?p.resolve(null):p.reject(new Oe(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const b=Bg(_,`Failed to get document '${l} from cache`);p.reject(b)}}),function(a,l,p){return s.apply(this,arguments)})(yield U_(n),e,t);var s})),t.promise}(t,n._key).then(a=>new ka(e,s,n._key,a,new Pa(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Vt(n,wn);const e=Vt(n.firestore,Gn);return _x(Dr(e),n._key,{source:"server"}).then(t=>Lw(e,n,t))}(this._delegate):function(n){n=Vt(n,wn);const e=Vt(n.firestore,Gn);return _x(Dr(e),n._key).then(t=>Lw(e,n,t))}(this._delegate),t.then(s=>new J_(this.firestore,new ka(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new to(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}function rs(n,e,t){return n.message=n.message.replace(e,t),n}function Kx(n){for(const e of n)if("object"==typeof e&&!gT(e))return e;return{}}function Yx(n,e){var t,s;let a;return a=gT(n[0])?n[0]:gT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class J_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new to(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Mw(this._delegate,e._delegate)}}class r extends J_{data(e){const t=this._delegate.data(e);return function(n,e){n||rt()}(void 0!==t),t}}class i{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Q_(e)}where(e,t,s){try{return new i(this.firestore,Zc(this._delegate,function(n,e,t){const s=e,a=Dd("where",n);return new Ow(a,s,t)}(e,t,s)))}catch(a){throw rs(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new i(this.firestore,Zc(this._delegate,function(n,e="asc"){const t=e,s=Dd("orderBy",n);return new Pi(s,t)}(e,t)))}catch(s){throw rs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new i(this.firestore,Zc(this._delegate,function(n){return $D("limit",n),new sm("limit",n,"F")}(e)))}catch(t){throw rs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new i(this.firestore,Zc(this._delegate,function(n){return $D("limitToLast",n),new sm("limitToLast",n,"L")}(e)))}catch(t){throw rs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new i(this.firestore,Zc(this._delegate,function(...n){return new z_("startAt",n,!0)}(...e)))}catch(t){throw rs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new i(this.firestore,Zc(this._delegate,function(...n){return new z_("startAfter",n,!1)}(...e)))}catch(t){throw rs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new i(this.firestore,Zc(this._delegate,function(...n){return new eT("endBefore",n,!0)}(...e)))}catch(t){throw rs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new i(this.firestore,Zc(this._delegate,function(...n){return new eT("endAt",n,!1)}(...e)))}catch(t){throw rs(t,"endAt()","Query.endAt()")}}isEqual(e){return GD(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Vt(n,zt);const e=Vt(n.firestore,Gn),t=Dr(e),s=new Td(e);return function(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(s=(0,we.Z)(function*(a,l,p){try{const _=yield bf(a,l,!0),b=new tx(l,_.Gn),S=b.Io(_.documents),N=b.applyChanges(S,!1);p.resolve(N.snapshot)}catch(_){const b=Bg(_,`Failed to execute query '${l} against cache`);p.reject(b)}}),function(a,l,p){return s.apply(this,arguments)})(yield U_(n),e,t);var s})),t.promise}(t,n._query).then(a=>new Wc(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Vt(n,zt);const e=Vt(n.firestore,Gn),t=Dr(e),s=new Td(e);return j_(t,n._query,{source:"server"}).then(a=>new Wc(e,s,n,a))}(this._delegate):function(n){n=Vt(n,zt);const e=Vt(n.firestore,Gn),t=Dr(e),s=new Td(e);return QD(n._query),j_(t,n._query).then(a=>new Wc(e,s,n,a))}(this._delegate),t.then(s=>new u(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Kx(e),s=Yx(e,a=>new u(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Ad(this._delegate,t,s)}withConverter(e){return new i(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}class o{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new r(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class u{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new i(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new r(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new o(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new r(this._firestore,s))})}isEqual(e){return Mw(this._delegate,e._delegate)}}class c extends i{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new to(this.firestore,e):null}doc(e){try{return new to(this.firestore,void 0===e?Tw(this._delegate):Tw(this._delegate,e))}catch(t){throw rs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Vt(n.firestore,Gn),s=Tw(n),a=Go(n.converter,e);return qo(t,[Sw(bd(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,Vn.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new to(this.firestore,t))}isEqual(e){return Xg(this._delegate,e._delegate)}withConverter(e){return new c(this.firestore,this._delegate.withConverter(e?kf.getInstance(this.firestore,e):null))}}function d(n){return Vt(n,wn)}class m{constructor(...e){this._delegate=new Mu(...e)}static documentId(){return new m(Kr.keyField().canonicalString())}isEqual(e){return(e=(0,Tt.m9)(e))instanceof Mu&&this._delegate._internalPath.isEqual(e._internalPath)}}class y{constructor(e){this._delegate=e}static serverTimestamp(){const e=new tm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new y(e)}static delete(){const e=new B_("deleteField");return e._methodName="FieldValue.delete",new y(e)}static arrayUnion(...e){const t=function(...n){return new Ox("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new y(t)}static arrayRemove(...e){const t=function(...n){return new Px("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new y(t)}static increment(e){const t=function(n){return new kx("increment",n)}(e);return t._methodName="FieldValue.increment",new y(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const w={Firestore:mT,GeoPoint:Aw,Timestamp:Pr,Blob:Y_,Transaction:Wx,WriteBatch:Zx,DocumentReference:to,DocumentSnapshot:J_,Query:i,QueryDocumentSnapshot:r,QuerySnapshot:u,CollectionReference:c,FieldPath:m,FieldValue:y,setLogLevel:function(n){!function(n){Eu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new mu.wA("firestore-compat",t=>((e,t)=>new mT(e,t,new FN))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},w)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.4")}(Ws.Z);var R=V(6682),O=V(309),j=V(7771),z=V(8858);class ae extends _s.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new X(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let p;if(this.closed)throw new vl.N;if(this.isStopped||this.hasError?p=vm.w.EMPTY:(this.observers.push(e),p=new z.W(this,e)),a&&e.add(e=new O.ht(e,a)),t)for(let _=0;_<l&&!e.closed;_++)e.next(s[_]);else for(let _=0;_<l&&!e.closed;_++)e.next(s[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),p}_getNow(){return(this.scheduler||j.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let p=0;for(;p<l&&!(e-a[p].time<s);)p++;return l>t&&(p=Math.max(p,l-t)),p>0&&a.splice(0,p),a}}class X{constructor(e,t){this.time=e,this.value=t}}function ke(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,p,l=0,_=!1,b=!1;return function(N){let P;l++,!a||_?(_=!1,a=new ae(n,e,s),P=a.subscribe(this),p=N.subscribe({next(K){a.next(K)},error(K){_=!0,a.error(K)},complete(){b=!0,p=void 0,a.complete()}}),b&&(p=void 0)):P=a.subscribe(this),this.add(()=>{l--,P.unsubscribe(),P=void 0,p&&!b&&t&&0===l&&(p.unsubscribe(),p=void 0,a=void 0)})}}(s))}function nt(n,e){return e?gn(()=>n,e):gn(()=>n)}var ft=V(3101);V(2329);const VN=new Map,TM={activated:!1,tokenObservers:[]},AM={initialized:!1,enabled:!1};function Ds(n){return VN.get(n)||TM}function Qc(n,e){VN.set(n,e)}function ET(){return AM}class RM{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Tt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Tt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const zo=new Tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function $N(n){if(!Ds(n).activated)throw zo.create("use-before-activation",{appName:n.name})}function HN(n,e){return Qx.apply(this,arguments)}function Qx(){return(Qx=(0,we.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:s};let p,_;try{p=yield fetch(n,l)}catch(P){throw zo.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==p.status)throw zo.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(P){throw zo.create("fetch-parse-error",{originalErrorMessage:P.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw zo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const S=1e3*Number(b[1]),N=Date.now();return{token:_.attestationToken,expireTimeMillis:N+S,issuedAtTimeMillis:N}})).apply(this,arguments)}function kM(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Bw="firebase-app-check-store";let wT=null;function qN(){return wT||(wT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(zo.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(Bw,{keyPath:"compositeKey"})}}}catch(t){e(zo.create("storage-open",{originalErrorMessage:t.message}))}}),wT)}function Jx(){return(Jx=(0,we.Z)(function*(n,e){const s=(yield qN()).transaction(Bw,"readwrite"),l=s.objectStore(Bw).put({compositeKey:n,value:e});return new Promise((p,_)=>{l.onsuccess=b=>{p()},s.onerror=b=>{var S;_(zo.create("storage-set",{originalErrorMessage:null===(S=b.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const bT=new bs.Yd("@firebase/app-check");function KN(n,e){return(0,Tt.hl)()?function(n,e){return function(n,e){return Jx.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{bT.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function YN(){return ET().enabled}function QN(){return nR.apply(this,arguments)}function nR(){return(nR=(0,we.Z)(function*(){const n=ET();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qM={error:"UNKNOWN_ERROR"};function zM(n){return Tt.US.encodeString(JSON.stringify(n),!1)}function CT(n){return rR.apply(this,arguments)}function rR(){return(rR=(0,we.Z)(function*(n,e=!1){const t=n.app;$N(t);const s=Ds(t);let l,p,a=s.token;if(!a){const _=yield s.cachedTokenPromise;_&&$w(_)&&(a=_,Qc(t,Object.assign(Object.assign({},s),{token:a})),XN(t,{token:a.token}))}if(!e&&a&&$w(a))return{token:a.token};if(YN()){const _=yield HN(kM(t,yield QN()),n.platformLoggerProvider);return yield KN(t,_),Qc(t,Object.assign(Object.assign({},s),{token:_})),{token:_.token}}try{a=yield s.provider.getToken()}catch(_){bT.error(_),l=_}return a?(p={token:a.token},Qc(t,Object.assign(Object.assign({},s),{token:a})),yield KN(t,a)):p=ZM(l),XN(t,p),p})).apply(this,arguments)}function iR(n,e){const t=Ds(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Qc(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function XN(n,e){const t=Ds(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function $w(n){return n.expireTimeMillis-Date.now()>0}function ZM(n){return{token:zM(qM),error:n}}class KM{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Ds(this.app);for(const t of e)iR(this.app,t.next);return Promise.resolve()}}const rM="app-check-internal";(0,gu._registerComponent)(new mu.wA("app-check",n=>function(n,e){return new KM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rM).initialize()})),(0,gu._registerComponent)(new mu.wA(rM,n=>function(n){return{getToken:e=>CT(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,l=Ds(a),p={next:t,error:s,type:e},_=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,p]});if(!_.tokenRefresher){const b=function(n){const{app:e}=n;return new RM((0,we.Z)(function*(){let s;if(s=Ds(e).token?yield CT(n,!0):yield CT(n),s.error)throw s.error}),()=>!0,()=>{const t=Ds(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n);_.tokenRefresher=b}if(!_.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),l.token&&$w(l.token)){const b=l.token;Promise.resolve().then(()=>t({token:b.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(b=>{b&&$w(b)&&t({token:b.token})}).catch(()=>{});Qc(a,_)}(n,"INTERNAL",e),removeTokenListener:e=>iR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,gu.registerVersion)("@firebase/app-check","0.4.2");class uR{constructor(){return(0,$n.vb)("app-check")}}"undefined"!=typeof window&&window;var sM=V(7841);const oM=new h.OlP("angularfire2.auth.use-emulator"),aM=new h.OlP("angularfire2.auth.settings"),uM=new h.OlP("angularfire2.auth.tenant-id"),cM=new h.OlP("angularfire2.auth.langugage-code"),lM=new h.OlP("angularfire2.auth.use-device-language"),dM=new h.OlP("angularfire.auth.persistence"),hM=(n,e,t,s,a,l,p,_)=>(0,zr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),s&&(b.tenantId=s),b.languageCode=a,l&&b.useDeviceLanguage(),p)for(const[S,N]of Object.entries(p))b.settings[S]=N;return _&&b.setPersistence(_),b},[t,s,a,l,p,_]);let ev=(()=>{class n{constructor(t,s,a,l,p,_,b,S,N,P,K,G){const Ee=new _s.xQ,Ue=(0,ot.of)(void 0).pipe((0,O.QV)(p.outsideAngular),gn(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,4671)))),(0,ht.U)(()=>(0,zr.on)(t,l,s)),(0,ht.U)(We=>hM(We,l,_,S,N,P,b,K)),ke({bufferSize:1,refCount:!1}));if(ho(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ot.of)(null);else{Ue.pipe(Do()).subscribe();const pt=Ue.pipe(gn(Ft=>Ft.getRedirectResult().then(lr=>lr,()=>null)),$n.iC,ke({bufferSize:1,refCount:!1})),Wt=Ue.pipe(gn(Ft=>new _n.y(lr=>({unsubscribe:l.runOutsideAngular(()=>Ft.onAuthStateChanged(Fa=>lr.next(Fa),Fa=>lr.error(Fa),()=>lr.complete()))})))),bn=Ue.pipe(gn(Ft=>new _n.y(lr=>({unsubscribe:l.runOutsideAngular(()=>Ft.onIdTokenChanged(Fa=>lr.next(Fa),Fa=>lr.error(Fa),()=>lr.complete()))}))));this.authState=pt.pipe(nt(Wt),(0,ft.R)(p.outsideAngular),(0,O.QV)(p.insideAngular)),this.user=pt.pipe(nt(bn),(0,ft.R)(p.outsideAngular),(0,O.QV)(p.insideAngular)),this.idToken=this.user.pipe(gn(Ft=>Ft?(0,un.D)(Ft.getIdToken()):(0,ot.of)(null))),this.idTokenResult=this.user.pipe(gn(Ft=>Ft?(0,un.D)(Ft.getIdTokenResult()):(0,ot.of)(null))),this.credential=(0,R.T)(pt,Ee,this.authState.pipe(mr(Ft=>!Ft))).pipe((0,ht.U)(Ft=>(null==Ft?void 0:Ft.user)?Ft:null),(0,ft.R)(p.outsideAngular),(0,O.QV)(p.insideAngular))}return(0,zr.pX)(this,Ue,l,{spy:{apply:(We,pt,Wt)=>{(We.startsWith("signIn")||We.startsWith("createUser"))&&Wt.then(bn=>Ee.next(bn))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(zr.Dh),h.LFG(zr.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG($n.HU),h.LFG(oM,8),h.LFG(aM,8),h.LFG(uM,8),h.LFG(cM,8),h.LFG(lM,8),h.LFG(dM,8),h.LFG(uR,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hO=(()=>{class n{constructor(){sM.Z.registerVersion("angularfire",$n.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ev]}),n})();function fM(n,e){return function(n,e=ko.z){return new _n.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function lR(n,e){return fM(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function IT(n,e){return lR(n,e).pipe(vn(void 0),fE(),(0,ht.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,_)=>{const b=a.find(N=>N.doc.ref.isEqual(p.ref)),S=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(p.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(p.metadata)||!b&&S&&JSON.stringify(S.metadata)===JSON.stringify(p.metadata)||l.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:p}})}),l}))}function pM(n,e,t){return IT(n,t).pipe(ya((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return dR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return dR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dR(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),t=>t.lift(new Up(void 0,void 0)),(0,ht.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function dR(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function gM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mM{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=IT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(vn(void 0),fE(),mr(([s,a])=>a.length>0||!s),(0,ht.U)(([s,a])=>a),$n.iC)}auditTrail(e){return this.stateChanges(e).pipe(ya((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gM(e);return pM(this.query,t,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return lR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),$n.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe($n.iC)}add(e){return this.ref.add(e)}doc(e){return new yM(this.ref.doc(e),this.afs)}}class yM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=EM(s,t);return new mM(a,l,this.afs)}snapshotChanges(){return function(n,e){return fM(n,e).pipe(vn(void 0),fE(),(0,ht.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe($n.iC)}}class yO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?IT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),mr(t=>t.length>0),$n.iC):IT(this.query,this.afs.schedulers.outsideAngular).pipe($n.iC)}auditTrail(e){return this.stateChanges(e).pipe(ya((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gM(e);return pM(this.query,t,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return lR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),$n.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe($n.iC)}}const _M=new h.OlP("angularfire2.enableFirestorePersistence"),vM=new h.OlP("angularfire2.firestore.persistenceSettings"),_O=new h.OlP("angularfire2.firestore.settings"),vO=new h.OlP("angularfire2.firestore.use-emulator");function EM(n,e=(t=>t)){return{query:e(n),ref:n}}let DT=(()=>{class n{constructor(t,s,a,l,p,_,b,S,N,P,K,G,Ee,Ue,We,pt,Wt){this.schedulers=b;const bn=(0,zr.on)(t,_,s),Ft=N;P&&hM(bn,_,K,Ee,Ue,We,G,pt),[this.firestore,this.persistenceEnabled$]=(0,zr.cc)(`${bn.name}.firestore`,"AngularFirestore",bn.name,()=>{const lr=_.runOutsideAngular(()=>bn.firestore());if(l&&lr.settings(l),Ft&&lr.useEmulator(...Ft),a&&!ho(p)){const Fa=()=>{try{return(0,un.D)(lr.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(BO){return"undefined"!=typeof console&&console.warn(BO),(0,ot.of)(!1)}};return[lr,_.runOutsideAngular(Fa)]}return[lr,(0,ot.of)(!1)]},[l,Ft,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:p}=EM(a,s),_=this.schedulers.ngZone.run(()=>l);return new mM(_,p,this)}collectionGroup(t,s){const a=s||(p=>p),l=this.firestore.collectionGroup(t);return new yO(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new yM(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(zr.Dh),h.LFG(zr.xv,8),h.LFG(_M,8),h.LFG(_O,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG($n.HU),h.LFG(vM,8),h.LFG(vO,8),h.LFG(ev,8),h.LFG(oM,8),h.LFG(aM,8),h.LFG(uM,8),h.LFG(cM,8),h.LFG(lM,8),h.LFG(dM,8),h.LFG(uR,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EO=(()=>{class n{constructor(){sM.Z.registerVersion("angularfire",$n.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:_M,useValue:!0},{provide:vM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[DT]}),n})();function wO(n,e){if(1&n&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Oqu(t.name)}}function bO(n,e){if(1&n&&(h.TgZ(0,"ul",4),h.YNc(1,wO,2,1,"li",5),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.usersYes)}}function CO(n,e){if(1&n&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Oqu(t.name)}}function IO(n,e){if(1&n&&(h.TgZ(0,"ul",6),h.YNc(1,CO,2,1,"li",5),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.usersNo)}}function DO(n,e){if(1&n&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Oqu(t.name)}}function TO(n,e){if(1&n&&(h.TgZ(0,"ul",7),h.YNc(1,DO,2,1,"li",5),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.usersNull)}}let AO=(()=>{class n{constructor(t){this.api=t,this.usersYes=[],this.usersNo=[],this.usersNull=[]}get users(){return this.api.users}ngOnInit(){this.getUsers()}getUsers(){this.api.getUsers().subscribe(t=>{this.api.users=t,this.usersYes=this.api.users.filter(s=>1===s.is_logged),this.usersNo=this.api.users.filter(s=>0===s.is_logged),this.usersNull=this.api.users.filter(s=>null===s.is_logged)},t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Vp))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-vartotojai"]],decls:4,vars:3,consts:[[1,"vartotojai"],["class","userYes",4,"ngIf"],["class","userNo",4,"ngIf"],["class","userNull",4,"ngIf"],[1,"userYes"],[4,"ngFor","ngForOf"],[1,"userNo"],[1,"userNull"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.YNc(1,bO,2,1,"ul",1),h.YNc(2,IO,2,1,"ul",2),h.YNc(3,TO,2,1,"ul",3),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",s.usersYes),h.xp6(1),h.Q6J("ngIf",s.usersNo),h.xp6(1),h.Q6J("ngIf",s.usersNull))},directives:[bi,ni],styles:[".userYes[_ngcontent-%COMP%]{color:#33cf2d;-webkit-text-decoration:rgb(25,219,19);text-decoration:rgb(25,219,19)}.userNo[_ngcontent-%COMP%]{color:#ae0404;-webkit-text-decoration:hsla(0,95%,35%,1);text-decoration:hsla(0,95%,35%,1)}.userNull[_ngcontent-%COMP%]{color:#798019;-webkit-text-decoration:rgb(178,189,28);text-decoration:rgb(178,189,28)}.vartotojai[_ngcontent-%COMP%]{width:300px;height:600px;margin:5% auto;border-radius:255px 15px 225px/15px 225px 15px 255px;padding:1em;line-height:1.5em;background:hsla(67,95%,95%,1);border:solid 5px hsla(0,95%,35%,1);overflow-y:auto}"]}),n})();function SO(n,e){if(1&n&&(h.TgZ(0,"div",3),h.TgZ(1,"div",4),h.TgZ(2,"span"),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"div",5),h.TgZ(5,"span"),h._uU(6),h.qZA(),h.qZA(),h.TgZ(7,"div",6),h.TgZ(8,"span",7),h._uU(9),h.qZA(),h.qZA(),h._UZ(10,"hr"),h.qZA()),2&n){const t=e.$implicit;h.Q6J("title",t.body),h.xp6(3),h.Oqu(t.date),h.xp6(3),h.Oqu(t.body),h.xp6(3),h.Oqu(t.user)}}function xO(n,e){if(1&n&&(h.TgZ(0,"ul"),h.YNc(1,SO,11,4,"div",2),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.messages)}}let RO=(()=>{class n{constructor(t){this.firestore=t,this.messages=[],this.userId=0,this.firestore.collection("messages").valueChanges().subscribe(s=>this.messages=s)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(DT))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-pokalbiai"]],decls:2,vars:1,consts:[[1,"pokalbiai"],[4,"ngIf"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],[1,"data"],[1,"tekstas"],[1,"vardas"],["role","textbox","contenteditable","",1,"input"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.YNc(1,xO,2,1,"ul",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",s.messages))},directives:[bi,ni],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.pokalbiai[_ngcontent-%COMP%]{overflow-y:auto;display:inline-block;width:600px;height:600px;border-radius:255px 15px 225px/15px 225px 15px 255px;padding:1em;line-height:1.5em;background:hsla(67,95%,95%,1);border:solid 5px hsla(0,95%,35%,1);margin:5% auto 5% 20px;word-break:break-all;word-wrap:break-word}.data[_ngcontent-%COMP%]{font-size:10px;color:#4682b4;text-align:left}hr[_ngcontent-%COMP%]{width:100%;color:#ae0404}.vardas[_ngcontent-%COMP%]{text-align:left;font-style:italic;font-size:15px;color:#daa638}.tekstas[_ngcontent-%COMP%]{overflow-y:auto;text-align:left;font-family:Verdana,Geneva,Tahoma,sans-serif;font-style:italic;word-wrap:break-word;word-break:keep-all}"]}),n})(),NO=(()=>{class n{constructor(t,s){this.firestore=t,this.auth=s,this.MessageForm=new Ic({body:new Po("",[Oo.required])})}ngOnInit(){}addMessages(t){var s=this;return(0,we.Z)(function*(){var a;let p=null===(a=new FormData(t.target).get("body"))||void 0===a?void 0:a.toString();console.log(p);let _={body:p,date:(new Date).toISOString()};return s.firestore.collection("messages").add(_),!1})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(DT),h.Y36(ev))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-zinute"]],decls:6,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"pagrindinis"],["placeholder","Ra\u0161yti \u017einut\u0119","id","bo-dy","name","body","formControlName","body",1,"zinute"],["id","u-ser","name","user","formControlName","user","type","hidden"],["type","submit",1,"mygtukas",3,"disabled"]],template:function(t,s){1&t&&(h.TgZ(0,"form",0),h.NdJ("ngSubmit",function(l){return s.addMessages(l)}),h.TgZ(1,"div",1),h._UZ(2,"textarea",2),h._UZ(3,"input",3),h.TgZ(4,"button",4),h._uU(5,"Siusti"),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.Q6J("formGroup",s.MessageForm),h.xp6(4),h.Q6J("disabled",!s.MessageForm.valid))},directives:[Lp,Eh,Gl,fu,Sp,Dh],styles:[".pagrindinis[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.zinute[_ngcontent-%COMP%]{display:inline-block;width:600px;height:200px;margin-top:5px;border-radius:255px 15px 225px/15px 225px 15px 255px;line-height:1.5em;background:hsla(67,95%,95%,1);border:solid 5px hsla(0,95%,35%,1)}.mygtukas[_ngcontent-%COMP%]{margin:10px;width:20%;padding:1em;background-color:#cfb784;border:solid 5px hsla(0,95%,35%,1);border-radius:5px;color:#fff;transition:.3s}.mygtukas[_ngcontent-%COMP%]:hover{background-color:#ae0404}"]}),n})(),MO=(()=>{class n{constructor(t,s){this.apiServisas=t,this.firestore=s,this.NerijausZinutes=[],this.VisosZinutes=[],this.apiServisas.getMessages().subscribe(a=>{this.NerijausZinutes=a}),this.firestore.collection("messages").valueChanges({idField:"id"}).subscribe(a=>this.VisosZinutes=a)}ngOnInit(){}import(){var t=this;return(0,we.Z)(function*(){for(let s=0;s<t.VisosZinutes.length;s++){const a=t.VisosZinutes[s];t.firestore.collection("messages").doc(a.id).delete()}for(let s=0;s<t.NerijausZinutes.length;s++){const a=t.NerijausZinutes[s];t.firestore.collection("messages").doc(a.id.toString()).set(a)}})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Vp),h.Y36(DT))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-pagrindinis"]],decls:12,vars:0,consts:[[1,"mygtukas",3,"click"],["id","pagrindinis"],[1,"vartotojai"],[1,"susirasinejimas"],[1,"chat"],[1,"zinute"]],template:function(t,s){1&t&&(h._UZ(0,"br"),h._UZ(1,"br"),h.TgZ(2,"button",0),h.NdJ("click",function(){return s.import()}),h._uU(3,"Duomenu mygtukas"),h.qZA(),h.TgZ(4,"div",1),h.TgZ(5,"div",2),h._UZ(6,"app-vartotojai"),h.qZA(),h.TgZ(7,"div",3),h.TgZ(8,"div",4),h._UZ(9,"app-pokalbiai"),h.qZA(),h.TgZ(10,"div",5),h._UZ(11,"app-zinute"),h.qZA(),h.qZA(),h.qZA())},directives:[AO,RO,NO],styles:["*[_ngcontent-%COMP%]{margin:0!important}#pagrindinis[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-content:space-around}.komponentai[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);align-items:center}.vartotojai[_ngcontent-%COMP%]{margin:10px}.susirasinejimas[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),n})(),wM=(()=>{class n{constructor(t,s){this.authService=t,this.router=s}emailSignup(t,s){this.authService.createUserWithEmailAndPassword(t,s).then(a=>{alert("Prisiregistravote s\u0117kmingai"),console.log("Prisiregistrtuota",a),this.router.navigateByUrl("/registracija")}).catch(a=>{alert("Patikrinkite ar viskas suvesta teisingai. Slapta\u017eodis turi susid\u0117ti i\u0161 nema\u017eiau 6 simboli\u0173"),console.log("Nepavyksta",a)})}login(t,s){this.authService.signInWithEmailAndPassword(t,s).then(a=>{console.log("Veikia"),this.router.navigateByUrl("/pagrindinis")}).catch(a=>{console.log("Nepavyksta",a.message)})}logout(){this.authService.signOut().then(()=>{this.router.navigateByUrl("/registracija")})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ev),h.LFG(li))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OO(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div"),h._UZ(1,"input",10),h.TgZ(2,"a",8),h.NdJ("click",function(){return h.CHM(t),h.oxw().siustiAtkurimui()}),h._uU(3,"Siusti priminima"),h.qZA(),h.qZA()}2&n&&(h.xp6(1),h.Q6J("email",!0))}let bM=(()=>{class n{constructor(t,s){this.api=t,this.auth=s,this.arTuscia=0,this.UserForm=new Ic({name:new Po("",[Oo.required]),email:new Po("",[Oo.required]),password:new Po("",[Oo.required]),emailAtkurimas:new Po("")}),this.atkurti=!1}ngOnInit(){}registracija(){this.auth.emailSignup(this.UserForm.value.email,this.UserForm.value.password),this.UserForm.reset()}atsijungti(){this.auth.logout()}slaptazodzioAtkurimas(){this.atkurti=!0}siustiAtkurimui(){console.log(this.UserForm.value.emailAtkurimas),this.atkurti=!1,this.UserForm.reset()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Vp),h.Y36(wM))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-registracija"]],decls:16,vars:3,consts:[[1,"white"],[3,"formGroup","ngSubmit"],[1,"vardas"],["id","na-me2","name","name","placeholder","Vardas","formControlName","name"],["id","e-mail","name","email","placeholder","Email","formControlName","email"],["id","pass-word","name","password","placeholder","Slaptazodis","formControlName","password","type","password"],[1,"mygtukas"],["type","submit",3,"disabled"],[1,"atkurimas",3,"click"],[4,"ngIf"],["id","e-mail-atkurimas","name","emailAtkurimas","placeholder","\u012eveskite savo Email","formControlName","emailAtkurimas",3,"email"]],template:function(t,s){1&t&&(h.TgZ(0,"div"),h.TgZ(1,"h1",0),h._uU(2," Registracija"),h.qZA(),h.TgZ(3,"form",1),h.NdJ("ngSubmit",function(){return s.registracija()}),h.TgZ(4,"div",2),h._UZ(5,"input",3),h.qZA(),h.TgZ(6,"div"),h._UZ(7,"input",4),h.qZA(),h.TgZ(8,"div"),h._UZ(9,"input",5),h.qZA(),h.TgZ(10,"div",6),h.TgZ(11,"button",7),h._uU(12,"Registruotis"),h.qZA(),h.TgZ(13,"a",8),h.NdJ("click",function(){return s.slaptazodzioAtkurimas()}),h._uU(14,"Pamir\u0161ai slapta\u017eod\u012f?"),h.qZA(),h.YNc(15,OO,4,1,"div",9),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(3),h.Q6J("formGroup",s.UserForm),h.xp6(8),h.Q6J("disabled",!s.UserForm.valid),h.xp6(4),h.Q6J("ngIf",1==s.atkurti))},directives:[Lp,Eh,Gl,fu,Sp,Dh,bi,Yb],styles:[".white[_ngcontent-%COMP%]{color:#fff}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-size:100% 200%}h1[_ngcontent-%COMP%]{margin-top:100px}button[_ngcontent-%COMP%]{margin-top:12px;width:100%;padding:20px;background-color:#cfb784;-webkit-appearance:none;outline:0;border:0;border-radius:5px;color:#fff;transition:.3s}button[_ngcontent-%COMP%]:hover{background-color:#c56824}input[_ngcontent-%COMP%]{width:300px;display:block;padding:20px;font-size:14px;-webkit-appearance:none;border:1px solid;border-radius:5px;outline:0;transition:.3s}input[_ngcontent-%COMP%]:hover{background:#EADEB8}.atkurimas[_ngcontent-%COMP%]{margin:10px;text-align:center;size:30px;color:#fff;font-weight:bold}.atkurimas[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();const hR=(0,ht.U)(n=>!!n);const kO=[{path:"kontaktai",component:ly},{path:"pagrindinis",component:MO,canActivate:[(()=>{class n{constructor(t,s){this.router=t,this.auth=s,this.canActivate=(a,l)=>{const p=a.data.authGuardPipe||(()=>hR);return this.auth.user.pipe(Io(1),p(a,l),(0,ht.U)(_=>"boolean"==typeof _?_:Array.isArray(_)?this.router.createUrlTree(_):this.router.parseUrl(_)))}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(li),h.LFG(ev))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})()]},{path:"registracija",component:bM},{path:"**",component:bM}];let FO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[bb.forRoot(kO)],bb]}),n})(),LO=(()=>{class n{constructor(t,s){this.api=t,this.auth=s,this.LoginForm=new Ic({email:new Po("",[Oo.required]),password:new Po("",[Oo.required])})}ngOnInit(){}prisijungti(){this.auth.login(this.LoginForm.value.email,this.LoginForm.value.password),this.LoginForm.reset()}get usersUrl(){return this.api.usersUrl}get loginUrl(){return this.api.loginUrl}get user(){return this.api.user}get users(){return this.api.users}getUsers(){this.api.getUsers().subscribe(t=>this.api.users=t,t=>console.log(t))}loginUser(t){let s=new FormData(t.target);return this.doLogin(s,t.target),!1}doLogin(t,s){this.api.login(t).subscribe(a=>{console.table(a),this.api.user=a,s.reset()},a=>console.log(a))}atsijungti(){this.auth.logout()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Vp),h.Y36(wM))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-prisijungimas"]],decls:11,vars:2,consts:[[2,"display","flex","flex-direction","column","margin-right","100px",3,"formGroup","ngSubmit"],["for","e-mail2",2,"color","white","margin","0px"],["id","e-mail2","name","email","type","email","formControlName","email"],["for","pass-word2",2,"color","white","margin","0px"],["id","pass-word2","name","password","type","password","formControlName","password","autocomplete","new-password"],["type","submit",2,"margin","auto",3,"disabled"],["type","submit",2,"margin","auto",3,"click"]],template:function(t,s){1&t&&(h.TgZ(0,"form",0),h.NdJ("ngSubmit",function(){return s.prisijungti()}),h.TgZ(1,"label",1),h._uU(2,"Email"),h.qZA(),h._UZ(3,"input",2),h.TgZ(4,"label",3),h._uU(5,"Password"),h.qZA(),h._UZ(6,"input",4),h.TgZ(7,"button",5),h._uU(8,"Login"),h.qZA(),h.TgZ(9,"button",6),h.NdJ("click",function(){return s.atsijungti()}),h._uU(10,"Logout"),h.qZA(),h.qZA()),2&t&&(h.Q6J("formGroup",s.LoginForm),h.xp6(7),h.Q6J("disabled",!s.LoginForm.valid))},directives:[Lp,Eh,Gl,fu,Sp,Dh],styles:[""]}),n})(),VO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-meniu"]],decls:23,vars:0,consts:[[1,"navbar"],[1,"svg-wrapper"],["height","40","width","150","xmlns","http://www.w3.org/2000/svg"],["id","shape","height","40","width","150"],["id","text"],["routerLink","kontaktai"],[1,"spot"],["routerLink","pagrindinis"],["routerLink","registracija"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.O4$(),h.TgZ(2,"svg",2),h._UZ(3,"rect",3),h.qZA(),h.kcU(),h.TgZ(4,"div",4),h.TgZ(5,"a",5),h._UZ(6,"span",6),h._uU(7,"Kontaktai"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(8,"div",1),h.O4$(),h.TgZ(9,"svg",2),h._UZ(10,"rect",3),h.qZA(),h.kcU(),h.TgZ(11,"div",4),h.TgZ(12,"a",7),h._UZ(13,"span",6),h._uU(14,"Pagrindinis"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(15,"div",1),h.O4$(),h.TgZ(16,"svg",2),h._UZ(17,"rect",3),h.qZA(),h.kcU(),h.TgZ(18,"div",4),h.TgZ(19,"a",8),h._UZ(20,"span",6),h._uU(21,"Registracija"),h.qZA(),h.qZA(),h.qZA(),h._UZ(22,"app-prisijungimas"),h.qZA())},directives:[Cp,LO],styles:['.spot[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.svg-wrapper[_ngcontent-%COMP%]{margin-top:0;position:relative;width:150px;height:40px;display:inline-block;border-radius:3px;margin-left:5px;margin-right:5px}#shape[_ngcontent-%COMP%]{stroke-width:6px;fill:transparent;stroke:#009ffd;stroke-dasharray:85 400;stroke-dashoffset:-220;transition:1s all ease}#text[_ngcontent-%COMP%]{margin-top:-35px;text-align:center}#text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:100;font-size:1.1em}.svg-wrapper[_ngcontent-%COMP%]:hover   #shape[_ngcontent-%COMP%]{stroke-dasharray:50 0;stroke-width:3px;stroke-dashoffset:0;stroke:#06d6a0}.coolBeans[_ngcontent-%COMP%]{border:2px solid currentColor;border-radius:3rem;color:#406;font-family:roboto;font-size:4rem;font-weight:100;overflow:hidden;padding:1rem 2rem;position:relative;text-decoration:none;transition:.2s transform ease-in-out;will-change:transform;z-index:0}.coolBeans[_ngcontent-%COMP%]:after{background-color:#ff0;border-radius:3rem;content:"";display:block;height:100%;width:100%;position:absolute;left:0;top:0;transform:translate(-100%) rotate(10deg);transform-origin:top left;transition:.2s transform ease-out;will-change:transform;z-index:-1}.coolBeans[_ngcontent-%COMP%]:hover:after{transform:translate(0)}.coolBeans[_ngcontent-%COMP%]:hover{border:2px solid transparent;color:indigo;transform:scale(1.05);will-change:transform}button[_ngcontent-%COMP%]{background:transparent;border:2px solid currentColor;border-radius:3rem;color:currentColor;font-family:roboto;font-size:1.8rem;overflow:hidden;padding:1rem 2rem;position:relative;text-decoration:none;transition:.2s transform ease-in-out;will-change:transform;z-index:0}button[_ngcontent-%COMP%]:after{background-color:#4996d7;border-radius:3rem;content:"";display:block;height:100%;width:100%;position:absolute;left:0;top:0;transform:translate(-100%) rotate(10deg);transform-origin:top left;transition:.2s transform ease-out;will-change:transform;z-index:-1}button[_ngcontent-%COMP%]:hover{border:2px solid transparent;color:#406;transform:scale(1.02);will-change:transform}button[_ngcontent-%COMP%]:hover:after{transform:translate(0)}']}),n})(),UO=(()=>{class n{constructor(){this.title="projektas"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,s){1&t&&(h._UZ(0,"app-meniu"),h._UZ(1,"router-outlet"))},directives:[VO,_b],styles:["body[_ngcontent-%COMP%]{background-image:url(kontaktai_retro.6d1273108be7ab56076e.jpg);color:#4d4d4d}.main[_ngcontent-%COMP%]{max-width:500px;width:85%;margin:2rem auto;padding:1rem;text-align:center;box-shadow:0 2px 4px #0003,0 2.5rem 5rem #0000001a}@media screen and (min-width: 600px){.main[_ngcontent-%COMP%]{width:70%}}label[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:bold;display:block;padding-bottom:1rem}.lg-text-input[_ngcontent-%COMP%]{width:100%;padding:1rem;border:2px solid #000;display:block;box-sizing:border-box;font-size:1rem}.btn-wrapper[_ngcontent-%COMP%]{margin-bottom:2rem}.btn-menu[_ngcontent-%COMP%]{flex-basis:32%}.active[_ngcontent-%COMP%]{color:green}ul[_ngcontent-%COMP%]{padding-inline-start:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}"]}),n})();const IM_firebase={apiKey:"AIzaSyBrBFFPW_S43E7N5Ukybxt3jid01W0_MS8",authDomain:"jpbit-1.firebaseapp.com",databaseURL:"https://jpbit-1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"jpbit-1",storageBucket:"jpbit-1.appspot.com",messagingSenderId:"789029688645",appId:"1:789029688645:web:20c2809634d5d24ed61a2c"};let jO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[UO]}),n.\u0275inj=h.cJS({providers:[],imports:[[Ka,FO,Hi,_A,vA,zr.hO.initializeApp(IM_firebase),EO,hO]]}),n})();(0,h.G48)(),hl().bootstrapModule(jO).catch(n=>console.error(n))},4762:(Xe,Ae,V)=>{"use strict";function ce(ne,oe){var fe={};for(var ue in ne)Object.prototype.hasOwnProperty.call(ne,ue)&&oe.indexOf(ue)<0&&(fe[ue]=ne[ue]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ue=Object.getOwnPropertySymbols(ne);Pe<ue.length;Pe++)oe.indexOf(ue[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ne,ue[Pe])&&(fe[ue[Pe]]=ne[ue[Pe]])}return fe}function le(ne,oe,fe,ue){return new(fe||(fe=Promise))(function(ge,it){function Bt(Zt){try{Et(ue.next(Zt))}catch(Pn){it(Pn)}}function On(Zt){try{Et(ue.throw(Zt))}catch(Pn){it(Pn)}}function Et(Zt){Zt.done?ge(Zt.value):function(ge){return ge instanceof fe?ge:new fe(function(it){it(ge)})}(Zt.value).then(Bt,On)}Et((ue=ue.apply(ne,oe||[])).next())})}function W(ne,oe){var ue,Pe,ge,it,fe={label:0,sent:function(){if(1&ge[0])throw ge[1];return ge[1]},trys:[],ops:[]};return it={next:Bt(0),throw:Bt(1),return:Bt(2)},"function"==typeof Symbol&&(it[Symbol.iterator]=function(){return this}),it;function Bt(Et){return function(Zt){return function(Et){if(ue)throw new TypeError("Generator is already executing.");for(;fe;)try{if(ue=1,Pe&&(ge=2&Et[0]?Pe.return:Et[0]?Pe.throw||((ge=Pe.return)&&ge.call(Pe),0):Pe.next)&&!(ge=ge.call(Pe,Et[1])).done)return ge;switch(Pe=0,ge&&(Et=[2&Et[0],ge.value]),Et[0]){case 0:case 1:ge=Et;break;case 4:return fe.label++,{value:Et[1],done:!1};case 5:fe.label++,Pe=Et[1],Et=[0];continue;case 7:Et=fe.ops.pop(),fe.trys.pop();continue;default:if(!(ge=(ge=fe.trys).length>0&&ge[ge.length-1])&&(6===Et[0]||2===Et[0])){fe=0;continue}if(3===Et[0]&&(!ge||Et[1]>ge[0]&&Et[1]<ge[3])){fe.label=Et[1];break}if(6===Et[0]&&fe.label<ge[1]){fe.label=ge[1],ge=Et;break}if(ge&&fe.label<ge[2]){fe.label=ge[2],fe.ops.push(Et);break}ge[2]&&fe.ops.pop(),fe.trys.pop();continue}Et=oe.call(ne,fe)}catch(Zt){Et=[6,Zt],Pe=0}finally{ue=ge=0}if(5&Et[0])throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}([Et,Zt])}}}function J(ne){var oe="function"==typeof Symbol&&Symbol.iterator,fe=oe&&ne[oe],ue=0;if(fe)return fe.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ue>=ne.length&&(ne=void 0),{value:ne&&ne[ue++],done:!ne}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(ne,oe){var fe="function"==typeof Symbol&&ne[Symbol.iterator];if(!fe)return ne;var Pe,it,ue=fe.call(ne),ge=[];try{for(;(void 0===oe||oe-- >0)&&!(Pe=ue.next()).done;)ge.push(Pe.value)}catch(Bt){it={error:Bt}}finally{try{Pe&&!Pe.done&&(fe=ue.return)&&fe.call(ue)}finally{if(it)throw it.error}}return ge}function de(ne,oe,fe){if(fe||2===arguments.length)for(var ge,ue=0,Pe=oe.length;ue<Pe;ue++)(ge||!(ue in oe))&&(ge||(ge=Array.prototype.slice.call(oe,0,ue)),ge[ue]=oe[ue]);return ne.concat(ge||Array.prototype.slice.call(oe))}V.d(Ae,{_T:()=>ce,mG:()=>le,Jh:()=>W,XA:()=>J,CR:()=>Y,ev:()=>de})},8239:(Xe,Ae,V)=>{"use strict";function h(F,ce,te,ie,be,le,W){try{var k=F[le](W),L=k.value}catch(J){return void te(J)}k.done?ce(L):Promise.resolve(L).then(ie,be)}function ee(F){return function(){var ce=this,te=arguments;return new Promise(function(ie,be){var le=F.apply(ce,te);function W(L){h(le,ie,be,W,k,"next",L)}function k(L){h(le,ie,be,W,k,"throw",L)}W(void 0)})}}V.d(Ae,{Z:()=>ee})}},Xe=>{Xe(Xe.s=522)}]);